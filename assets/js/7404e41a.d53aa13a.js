"use strict";(self.webpackChunkuni_docs=self.webpackChunkuni_docs||[]).push([[1439],{28453:(e,n,o)=>{o.d(n,{R:()=>i,x:()=>t});var s=o(96540);const a={},r=s.createContext(a);function i(e){const n=s.useContext(r);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function t(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:i(e.components),s.createElement(r.Provider,{value:n},e.children)}},34469:(e,n,o)=>{o.r(n),o.d(n,{assets:()=>l,contentTitle:()=>t,default:()=>p,frontMatter:()=>i,metadata:()=>s,toc:()=>c});const s=JSON.parse('{"id":"developer-notes/linguagens-de-programacao/protocolos-de-comunicacao/grpc/criando-mensages","title":"Criando mensagens","description":"---","source":"@site/docs/developer-notes/04-linguagens-de-programacao/02-protocolos-de-comunicacao/01-grpc/03-criando-mensages.md","sourceDirName":"developer-notes/04-linguagens-de-programacao/02-protocolos-de-comunicacao/01-grpc","slug":"/developer-notes/linguagens-de-programacao/protocolos-de-comunicacao/grpc/criando-mensages","permalink":"/uni-salva/docs/developer-notes/linguagens-de-programacao/protocolos-de-comunicacao/grpc/criando-mensages","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/developer-notes/04-linguagens-de-programacao/02-protocolos-de-comunicacao/01-grpc/03-criando-mensages.md","tags":[],"version":"current","sidebarPosition":3,"frontMatter":{"title":"Criando mensagens"},"sidebar":"developerNotesSidebar","previous":{"title":"Compilador local","permalink":"/uni-salva/docs/developer-notes/linguagens-de-programacao/protocolos-de-comunicacao/grpc/compilador"},"next":{"title":"Criando m\xe9todos","permalink":"/uni-salva/docs/developer-notes/linguagens-de-programacao/protocolos-de-comunicacao/grpc/criando-metodos"}}');var a=o(74848),r=o(28453);const i={title:"Criando mensagens"},t=void 0,l={},c=[{value:"Exemplo",id:"exemplo",level:2},{value:"Enums",id:"enums",level:3},{value:"Tipos de Mensagem personalizados",id:"tipos-de-mensagem-personalizados",level:3},{value:"Importando",id:"importando",level:3}];function d(e){const n={a:"a",code:"code",h2:"h2",h3:"h3",hr:"hr",li:"li",p:"p",pre:"pre",ul:"ul",...(0,r.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n.hr,{}),"\n",(0,a.jsxs)(n.p,{children:["link: ",(0,a.jsx)(n.a,{href:"https://developers.google.com/protocol-buffers/docs/proto3",children:"https://developers.google.com/protocol-buffers/docs/proto3"})]}),"\n",(0,a.jsx)(n.h2,{id:"exemplo",children:"Exemplo"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-java",children:"message SearchRequest {\n  string query = 1;\n  int32 page_number = 2;  // Which page number do we want?\n  int32 result_per_page = 3;  // Number of results to return per page.\n}\n"})}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"os numero servem para definir a ordem dos dado na serializa\xe7\xe3o para binario"}),"\n",(0,a.jsx)(n.li,{children:"Caso remova um campo, e recomendado n\xe3o usar o numero que ele pertecia, pois isso pode dar conflito no futuro, para garantir que isso o mesmo n\xe3o seja usado vc pode marcalos como reserved (reservados / excluidos)"}),"\n"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-java",children:'message Foo {\n  reserved 2, 15, 9 to 11;\n  reserved "foo", "bar";\n}\n'})}),"\n",(0,a.jsx)(n.h3,{id:"enums",children:"Enums"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-java",children:"message SearchRequest {\n  string query = 1;\n  int32 page_number = 2;\n  int32 result_per_page = 3;\n  enum Corpus {\n    UNIVERSAL = 0;\n    WEB = 1;\n    IMAGES = 2;\n    LOCAL = 3;\n    NEWS = 4;\n    PRODUCTS = 5;\n    VIDEO = 6;\n  }\n  Corpus corpus = 4;\n}\n// Usando alias para representar a mesma coisa \n\nmessage MyMessage1 {\n  enum EnumAllowingAlias {\n    option allow_alias = true;  // necessario deixar essa op\xe7\xe3o como true, sen\xe3o vai dar erro, como abaixo\n    UNKNOWN = 0;\n    STARTED = 1;\n    RUNNING = 1;\n  }\n}\n\nmessage MyMessage2 {\n  enum EnumNotAllowingAlias {\n    UNKNOWN = 0;\n    STARTED = 1;\n    // RUNNING = 1;  // Uncommenting this line will cause a compile error inside Google and a warning message outside.\n  }\n}\n\n//Observe que voc\xea n\xe3o pode misturar nomes de campo e valores num\xe9ricos na mesma reservedinstru\xe7\xe3o.\n"})}),"\n",(0,a.jsx)(n.h3,{id:"tipos-de-mensagem-personalizados",children:"Tipos de Mensagem personalizados"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-java",children:"message SearchResponse {\n  repeated Result results = 1; //o repeat dis que pode ser repetido os itens, semelhate a uma lista\n}\n\nmessage Result {\n  string url = 1;\n  string title = 2;\n  repeated string snippets = 3;\n}\n\n// Tipo aninhado\n\nmessage SearchResponse {\n  message Result {\n    string url = 1;\n    string title = 2;\n    repeated string snippets = 3;\n  }\n  repeated Result results = 1;\n}\n\n// chamdando tipo aninhado\n\nmessage SomeOtherMessage {\n  SearchResponse.Result result = 1;\n}\n\n// Exemplo de message aninhada\n\nmessage Outer {                  // Level 0\n  message MiddleAA {  // Level 1\n    message Inner {   // Level 2\n      int64 ival = 1;\n      bool  booly = 2;\n    }\n  }\n  message MiddleBB {  // Level 1\n    message Inner {   // Level 2\n      int32 ival = 1;\n      bool  booly = 2;\n    }\n  }\n}\n"})}),"\n",(0,a.jsx)(n.p,{children:"caso a mensagem que queira colocar dentro da mensagem esteja em outro proto, vc pode importa-lo"}),"\n",(0,a.jsx)(n.h3,{id:"importando",children:"Importando"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-java",children:'import "myproject/other_protos.proto";\n'})})]})}function p(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,a.jsx)(n,{...e,children:(0,a.jsx)(d,{...e})}):d(e)}}}]);