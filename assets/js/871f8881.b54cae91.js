"use strict";(self.webpackChunkuni_docs=self.webpackChunkuni_docs||[]).push([[1724],{3305:(e,s,n)=>{n.d(s,{A:()=>r});const r=n.p+"assets/images/image-20230220120258941-19844e4d2d542ac4291645e6cfff2119.png"},3591:(e,s,n)=>{n.d(s,{A:()=>r});const r=n.p+"assets/images/image-20230221060719941-20b21162820418afd7c8ffaeb456f79e.png"},8337:(e,s,n)=>{n.d(s,{A:()=>r});const r=n.p+"assets/images/image-20230221055222919-d5b5508557314c0ee7c11c0da2fa734e.png"},16048:(e,s,n)=>{n.r(s),n.d(s,{assets:()=>c,contentTitle:()=>d,default:()=>h,frontMatter:()=>o,metadata:()=>r,toc:()=>l});const r=JSON.parse('{"id":"cloud-notes/aws/aws-cloud-architect-professional/Service_Communication","title":"Comunica\xe7\xe3o entre servi\xe7o","description":"AWS Step Functions","source":"@site/docs/cloud-notes/01-aws/03-aws-cloud-architect-professional/07_Service_Communication.md","sourceDirName":"cloud-notes/01-aws/03-aws-cloud-architect-professional","slug":"/cloud-notes/aws/aws-cloud-architect-professional/Service_Communication","permalink":"/docs/cloud-notes/aws/aws-cloud-architect-professional/Service_Communication","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/cloud-notes/01-aws/03-aws-cloud-architect-professional/07_Service_Communication.md","tags":[],"version":"current","sidebarPosition":7,"frontMatter":{"title":"Comunica\xe7\xe3o entre servi\xe7o","sidebar_position":7},"sidebar":"cloudNotesSidebar","previous":{"title":"Bancos de dados","permalink":"/docs/cloud-notes/aws/aws-cloud-architect-professional/database"},"next":{"title":"Resum\xe3o","permalink":"/docs/cloud-notes/aws/aws-cloud-architect-professional/resumo"}}');var i=n(74848),a=n(28453);const o={title:"Comunica\xe7\xe3o entre servi\xe7o",sidebar_position:7},d=void 0,c={},l=[{value:"AWS Step Functions",id:"aws-step-functions",level:2},{value:"AWS SQS",id:"aws-sqs",level:2},{value:"AWS MQ",id:"aws-mq",level:2},{value:"AWS SNS",id:"aws-sns",level:2}];function t(e){const s={a:"a",admonition:"admonition",blockquote:"blockquote",br:"br",h2:"h2",hr:"hr",img:"img",li:"li",mdxAdmonitionTitle:"mdxAdmonitionTitle",ol:"ol",p:"p",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,a.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(s.h2,{id:"aws-step-functions",children:"AWS Step Functions"}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.img,{alt:"step-function",src:n(96900).A+"",width:"545",height:"314"})}),"\n",(0,i.jsxs)(s.p,{children:["O ",(0,i.jsx)(s.strong,{children:"AWS Step Functions"})," \xe9 um servi\xe7o que permite ",(0,i.jsx)(s.strong,{children:"orquestrar"})," e ",(0,i.jsx)(s.strong,{children:"automatizar"})," fluxos de trabalho complexos na AWS. Ele facilita a coordena\xe7\xe3o de ",(0,i.jsx)(s.strong,{children:"fun\xe7\xf5es AWS Lambda"})," e outros servi\xe7os, garantindo execu\xe7\xe3o ordenada, paralela ou condicional de tarefas."]}),"\n",(0,i.jsxs)(s.blockquote,{children:["\n",(0,i.jsx)(s.p,{children:"Principais Caracter\xedsticas:"}),"\n"]}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:["Usa um modelo de ",(0,i.jsx)(s.strong,{children:"m\xe1quina de estados"})," descrito em ",(0,i.jsx)(s.strong,{children:"JSON"})," para definir o fluxo da aplica\xe7\xe3o."]}),"\n",(0,i.jsxs)(s.li,{children:["Permite configurar a execu\xe7\xe3o de ",(0,i.jsx)(s.strong,{children:"Lambdas sequenciais, paralelas"}),", com ",(0,i.jsx)(s.strong,{children:"condi\xe7\xf5es"}),", ",(0,i.jsx)(s.strong,{children:"timeouts"})," e ",(0,i.jsx)(s.strong,{children:"tratamento de erros"}),"."]}),"\n",(0,i.jsxs)(s.li,{children:["Suporta ",(0,i.jsx)(s.strong,{children:"execu\xe7\xe3o de workflows por at\xe9 1 ano"}),", sendo necess\xe1rio renov\xe1-los para continuar a execu\xe7\xe3o ap\xf3s esse per\xedodo."]}),"\n",(0,i.jsx)(s.li,{children:"Integra-se com diversos servi\xe7os AWS para automa\xe7\xe3o de processos empresariais."}),"\n"]}),"\n",(0,i.jsx)(s.hr,{}),"\n",(0,i.jsxs)(s.blockquote,{children:["\n",(0,i.jsx)(s.p,{children:"Integra\xe7\xf5es com outros servi\xe7os"}),"\n"]}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.img,{alt:"image-20230220120258941",src:n(3305).A+"",width:"1125",height:"540"})}),"\n",(0,i.jsx)(s.p,{children:"O Step Functions pode se integrar diretamente com v\xe1rios servi\xe7os da AWS, sem necessidade de c\xf3digo intermedi\xe1rio. Algumas das integra\xe7\xf5es mais comuns incluem:"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"AWS Lambda:"})," Para execu\xe7\xe3o de fun\xe7\xf5es sem servidor dentro do fluxo de trabalho."]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Amazon S3:"})," Para intera\xe7\xf5es com objetos armazenados no S3."]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Amazon DynamoDB:"})," Para manipula\xe7\xe3o de dados estruturados."]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Amazon SNS e SQS:"})," Para envio de notifica\xe7\xf5es e filas de mensagens."]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"AWS Glue:"})," Para execu\xe7\xe3o de ETLs."]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Amazon SageMaker:"})," Para incorporar Machine Learning ao fluxo de trabalho."]}),"\n"]}),"\n",(0,i.jsx)(s.hr,{}),"\n",(0,i.jsxs)(s.blockquote,{children:["\n",(0,i.jsx)(s.p,{children:"Gatilhos de Execu\xe7\xe3o do Step Functions"}),"\n"]}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.img,{alt:"image-20230220120340225",src:n(16302).A+"",width:"1122",height:"596"})}),"\n",(0,i.jsx)(s.p,{children:"O Step Functions pode ser acionado por diferentes fontes, incluindo:"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"API Gateway:"})," Permite iniciar fluxos via chamadas HTTP."]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"EventBridge:"})," Executa o workflow em resposta a eventos AWS."]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"AWS Lambda:"})," Inicia fluxos diretamente a partir de fun\xe7\xf5es Lambda."]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Amazon S3:"})," Pode disparar workflows ao criar ou modificar objetos."]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"AWS SDK e AWS CLI:"})," Permite iniciar fluxos de forma program\xe1tica."]}),"\n"]}),"\n",(0,i.jsx)(s.hr,{}),"\n",(0,i.jsxs)(s.blockquote,{children:["\n",(0,i.jsx)(s.p,{children:"Tipos de Workflows no Step Functions"}),"\n"]}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.img,{alt:"image-20230220120628216",src:n(53817).A+"",width:"1014",height:"471"})}),"\n",(0,i.jsx)(s.p,{children:"O AWS Step Functions oferece dois tipos principais de workflows:"}),"\n",(0,i.jsxs)(s.ol,{children:["\n",(0,i.jsxs)(s.li,{children:["\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.strong,{children:"Standard Workflows:"})}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsx)(s.li,{children:"Ideal para processos longos e complexos."}),"\n",(0,i.jsxs)(s.li,{children:["Suporta execu\xe7\xf5es que duram at\xe9 ",(0,i.jsx)(s.strong,{children:"1 ano"}),"."]}),"\n",(0,i.jsx)(s.li,{children:"Hist\xf3rico detalhado de execu\xe7\xe3o."}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(s.li,{children:["\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.strong,{children:"Express Workflows:"})}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsx)(s.li,{children:"Projetado para execu\xe7\xf5es r\xe1pidas e de alta taxa de requisi\xe7\xf5es."}),"\n",(0,i.jsxs)(s.li,{children:["Limite de dura\xe7\xe3o de ",(0,i.jsx)(s.strong,{children:"5 minutos"}),"."]}),"\n",(0,i.jsxs)(s.li,{children:["Usa modelo de precifica\xe7\xe3o baseado em ",(0,i.jsx)(s.strong,{children:"n\xfamero de execu\xe7\xf5es"}),", enquanto o ",(0,i.jsx)(s.strong,{children:"Standard Workflow"})," cobra pelo tempo de execu\xe7\xe3o."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(s.blockquote,{children:["\n",(0,i.jsx)(s.p,{children:"Quando usar cada tipo de workflow?"}),"\n"]}),"\n",(0,i.jsxs)(s.admonition,{type:"note",children:[(0,i.jsx)(s.mdxAdmonitionTitle,{}),(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:["Use ",(0,i.jsx)(s.strong,{children:"Standard Workflow"})," para ",(0,i.jsx)(s.strong,{children:"processos de longa dura\xe7\xe3o"}),", como fluxos de aprova\xe7\xe3o e ETLs."]}),"\n",(0,i.jsxs)(s.li,{children:["Use ",(0,i.jsx)(s.strong,{children:"Express Workflow"})," para ",(0,i.jsx)(s.strong,{children:"eventos de alta taxa de tr\xe1fego"}),", como ingest\xe3o de logs e processamento de eventos em tempo real."]}),"\n"]})]}),"\n",(0,i.jsx)(s.hr,{}),"\n",(0,i.jsxs)(s.blockquote,{children:["\n",(0,i.jsx)(s.p,{children:"Exemplo de Arquitetura com Step Functions"}),"\n"]}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.img,{alt:"image-20230220121021456",src:n(63727).A+"",width:"1040",height:"545"})}),"\n",(0,i.jsx)(s.p,{children:"A imagem acima mostra um exemplo de arquitetura onde o Step Functions orquestra m\xfaltiplas fun\xe7\xf5es AWS Lambda para processamento de dados."}),"\n",(0,i.jsxs)(s.blockquote,{children:["\n",(0,i.jsx)(s.p,{children:"Casos de Uso Comuns"}),"\n"]}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Processamento de pedidos"})," em e-commerce."]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Orquestra\xe7\xe3o de ETL"})," (Extra\xe7\xe3o, Transforma\xe7\xe3o e Carga de dados)."]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Automa\xe7\xe3o de resposta a incidentes"})," (ex.: seguran\xe7a e compliance)."]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Processamento de arquivos e imagens"}),"."]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Treinamento e infer\xeancia de modelos de Machine Learning"}),"."]}),"\n"]}),"\n",(0,i.jsx)(s.hr,{}),"\n",(0,i.jsxs)(s.blockquote,{children:["\n",(0,i.jsx)(s.p,{children:"Benef\xedcios do AWS Step Functions"}),"\n"]}),"\n",(0,i.jsxs)(s.admonition,{type:"info",children:[(0,i.jsx)(s.mdxAdmonitionTitle,{}),(0,i.jsxs)(s.p,{children:["\u2705 ",(0,i.jsx)(s.strong,{children:"Alta disponibilidade e toler\xe2ncia a falhas"}),": Workflows s\xe3o automaticamente gerenciados pela AWS.",(0,i.jsx)(s.br,{}),"\n","\u2705 ",(0,i.jsx)(s.strong,{children:"Facilidade de integra\xe7\xe3o"}),": Conecta-se facilmente com outros servi\xe7os AWS sem necessidade de c\xf3digo extra.",(0,i.jsx)(s.br,{}),"\n","\u2705 ",(0,i.jsx)(s.strong,{children:"Observabilidade"}),": Possui logs detalhados e hist\xf3rico de execu\xe7\xe3o.",(0,i.jsx)(s.br,{}),"\n","\u2705 ",(0,i.jsx)(s.strong,{children:"Escalabilidade"}),": Suporta workloads de qualquer tamanho.",(0,i.jsx)(s.br,{}),"\n","\u2705 ",(0,i.jsx)(s.strong,{children:"Baixo custo para processos event-driven"}),": Express Workflows cobram apenas por execu\xe7\xe3o."]})]}),"\n",(0,i.jsx)(s.hr,{}),"\n",(0,i.jsxs)(s.admonition,{type:"tip",children:[(0,i.jsx)(s.mdxAdmonitionTitle,{children:(0,i.jsx)(s.strong,{children:"Dica para a prova \ud83c\udfaf"})}),(0,i.jsxs)(s.blockquote,{children:["\n",(0,i.jsxs)(s.p,{children:["Quest\xf5es frequentemente abordam ",(0,i.jsx)(s.strong,{children:"quando usar AWS Step Functions em compara\xe7\xe3o com outros servi\xe7os AWS"}),", como SQS, SNS e EventBridge."]}),"\n"]}),(0,i.jsxs)(s.p,{children:["\ud83d\udccc Uma empresa deseja criar um ",(0,i.jsx)(s.strong,{children:"workflow automatizado para processar pedidos"}),", onde cada pedido passa por diversas etapas, incluindo ",(0,i.jsx)(s.strong,{children:"valida\xe7\xe3o, pagamento e envio de e-mails"}),". Qual servi\xe7o AWS \xe9 mais indicado para gerenciar esse fluxo de forma organizada e resiliente?"]}),(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:["\u2705 ",(0,i.jsx)(s.strong,{children:"AWS Step Functions"}),", pois permite orquestrar diferentes etapas do workflow com controle de estados, execu\xe7\xe3o sequencial e tratamento de falhas."]}),"\n"]}),(0,i.jsx)(s.p,{children:"\ud83d\udccc Uma aplica\xe7\xe3o precisa processar eventos em tempo real, mas sem rastrear estados ou ter depend\xeancia entre as mensagens. Qual op\xe7\xe3o \xe9 mais adequada?"}),(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:["\u2705 ",(0,i.jsx)(s.strong,{children:"Amazon SQS ou EventBridge"}),", pois s\xe3o mais indicados para sistemas ",(0,i.jsx)(s.strong,{children:"event-driven"}),", onde n\xe3o h\xe1 necessidade de acompanhar estados entre mensagens."]}),"\n"]}),(0,i.jsx)(s.hr,{}),(0,i.jsxs)(s.blockquote,{children:["\n",(0,i.jsxs)(s.p,{children:[(0,i.jsx)(s.strong,{children:"AWS Step Functions Standard vs. Express Workflows"})," \xe9 um tema recorrente nas provas, especialmente para cen\xe1rios de escalabilidade e custo."]}),"\n"]}),(0,i.jsxs)(s.p,{children:["\ud83d\udccc Uma aplica\xe7\xe3o precisa processar ",(0,i.jsx)(s.strong,{children:"milh\xf5es de eventos curtos por segundo"}),", com tempo de execu\xe7\xe3o abaixo de ",(0,i.jsx)(s.strong,{children:"5 minutos"})," por workflow. Qual op\xe7\xe3o do Step Functions \xe9 mais adequada?"]}),(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:["\u2705 ",(0,i.jsx)(s.strong,{children:"Express Workflow"}),", pois \xe9 otimizado para ",(0,i.jsx)(s.strong,{children:"execu\xe7\xf5es r\xe1pidas e alta taxa de requisi\xe7\xf5es"}),", cobrando por n\xfamero de execu\xe7\xf5es ao inv\xe9s de tempo de execu\xe7\xe3o."]}),"\n"]}),(0,i.jsxs)(s.p,{children:["\ud83d\udccc Um workflow de ",(0,i.jsx)(s.strong,{children:"ETL de dados"})," precisa rodar por ",(0,i.jsx)(s.strong,{children:"horas ou at\xe9 dias"}),", garantindo ",(0,i.jsx)(s.strong,{children:"resili\xeancia e rastreamento detalhado das execu\xe7\xf5es"}),". Qual tipo de workflow do Step Functions deve ser escolhido?"]}),(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:["\u2705 ",(0,i.jsx)(s.strong,{children:"Standard Workflow"}),", pois permite ",(0,i.jsx)(s.strong,{children:"execu\xe7\xf5es de at\xe9 1 ano"}),", mant\xe9m logs detalhados e oferece ",(0,i.jsx)(s.strong,{children:"retries autom\xe1ticos"})," em caso de falhas."]}),"\n"]}),(0,i.jsx)(s.hr,{}),(0,i.jsxs)(s.blockquote,{children:["\n",(0,i.jsxs)(s.p,{children:[(0,i.jsx)(s.strong,{children:"Step Functions vs. AWS Lambda"}),": Algumas quest\xf5es podem testar a necessidade de usar workflows em vez de apenas fun\xe7\xf5es serverless."]}),"\n"]}),(0,i.jsxs)(s.p,{children:["\ud83d\udccc Uma aplica\xe7\xe3o precisa ",(0,i.jsx)(s.strong,{children:"coordenar a execu\xe7\xe3o de m\xfaltiplas fun\xe7\xf5es Lambda"})," de forma sequencial, garantindo que uma fun\xe7\xe3o s\xf3 inicie ap\xf3s a conclus\xe3o da anterior. Como fazer isso de forma otimizada?"]}),(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:["\u2705 ",(0,i.jsx)(s.strong,{children:"AWS Step Functions"}),", pois fornece ",(0,i.jsx)(s.strong,{children:"controle de estados"})," e ",(0,i.jsx)(s.strong,{children:"execu\xe7\xe3o sequencial"})," sem necessidade de gerenciar l\xf3gica de orquestra\xe7\xe3o manualmente dentro do c\xf3digo."]}),"\n"]}),(0,i.jsxs)(s.p,{children:["\ud83d\udccc Uma aplica\xe7\xe3o precisa executar ",(0,i.jsx)(s.strong,{children:"uma \xfanica fun\xe7\xe3o Lambda de maneira independente"}),", sem necessidade de acompanhar estados ou combinar m\xfaltiplas execu\xe7\xf5es. O uso do Step Functions \xe9 necess\xe1rio?"]}),(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:["\u274c ",(0,i.jsx)(s.strong,{children:"N\xe3o!"})," Para esse caso, uma \xfanica ",(0,i.jsx)(s.strong,{children:"AWS Lambda"})," chamada diretamente pelo API Gateway ou EventBridge seria suficiente, sem a sobrecarga do Step Functions."]}),"\n"]}),(0,i.jsx)(s.hr,{}),(0,i.jsxs)(s.blockquote,{children:["\n",(0,i.jsxs)(s.p,{children:["Quest\xf5es podem abordar ",(0,i.jsx)(s.strong,{children:"integra\xe7\xf5es do Step Functions com outros servi\xe7os AWS"}),"."]}),"\n"]}),(0,i.jsxs)(s.p,{children:["\ud83d\udccc Uma empresa precisa ",(0,i.jsx)(s.strong,{children:"orquestrar um processo de Machine Learning"}),", onde os dados s\xe3o carregados no ",(0,i.jsx)(s.strong,{children:"S3"}),", pr\xe9-processados com ",(0,i.jsx)(s.strong,{children:"AWS Glue"}),", e depois enviados ao ",(0,i.jsx)(s.strong,{children:"Amazon SageMaker"})," para infer\xeancia. Como automatizar essa pipeline?"]}),(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:["\u2705 ",(0,i.jsx)(s.strong,{children:"AWS Step Functions"}),", pois permite orquestrar m\xfaltiplos servi\xe7os AWS, garantindo que cada etapa seja executada na ordem correta e lidando com falhas automaticamente."]}),"\n"]}),(0,i.jsxs)(s.p,{children:["\ud83d\udccc Uma empresa quer executar ",(0,i.jsx)(s.strong,{children:"c\xe1lculos financeiros pesados em grande escala"})," usando um workflow. No entanto, cada c\xe1lculo pode levar ",(0,i.jsx)(s.strong,{children:"mais de 15 minutos"})," para ser conclu\xeddo. Qual a melhor abordagem?"]}),(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:["\u2705 ",(0,i.jsx)(s.strong,{children:"Executar os c\xe1lculos em containers no AWS Batch"})," e orquestr\xe1-los com ",(0,i.jsx)(s.strong,{children:"AWS Step Functions"}),", pois Lambdas possuem limite de ",(0,i.jsx)(s.strong,{children:"15 minutos"})," de execu\xe7\xe3o."]}),"\n"]})]}),"\n",(0,i.jsx)(s.hr,{}),"\n",(0,i.jsx)(s.h2,{id:"aws-sqs",children:"AWS SQS"}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.img,{alt:"SQS",src:n(56781).A+"",width:"850",height:"326"})}),"\n",(0,i.jsxs)(s.p,{children:["O ",(0,i.jsx)(s.strong,{children:"Amazon Simple Queue Service (SQS)"})," \xe9 um servi\xe7o de ",(0,i.jsx)(s.strong,{children:"mensageria ass\xedncrona"}),", totalmente gerenciado pela AWS, que permite o desacoplamento de componentes de aplica\xe7\xf5es distribu\xeddas."]}),"\n",(0,i.jsxs)(s.blockquote,{children:["\n",(0,i.jsx)(s.p,{children:"Principais Caracter\xedsticas:"}),"\n"]}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:["Possui ",(0,i.jsx)(s.strong,{children:"escopo regional"})," e \xe9 gerenciado pela AWS."]}),"\n",(0,i.jsxs)(s.li,{children:["Segue o modelo:","\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Produtor"})," \u2192 ",(0,i.jsx)(s.strong,{children:"envia"})," \u2192 ",(0,i.jsx)(s.strong,{children:"fila"})," \u2190 ",(0,i.jsx)(s.strong,{children:"recupera"})," \u2190 ",(0,i.jsx)(s.strong,{children:"Consumidor"}),"."]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(s.li,{children:["O consumidor faz um ",(0,i.jsx)(s.strong,{children:"pull"})," na fila para recuperar mensagens.","\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:["Pode receber at\xe9 ",(0,i.jsx)(s.strong,{children:"10 mensagens por vez"}),"."]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"O consumidor deve excluir a mensagem ap\xf3s o processamento"}),", pois ",(0,i.jsx)(s.strong,{children:"n\xe3o h\xe1 exclus\xe3o autom\xe1tica"})," ap\xf3s a leitura."]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Escalabilidade autom\xe1tica"}),", suportando desde ",(0,i.jsx)(s.strong,{children:"1 at\xe9 10.000 mensagens por segundo"}),"."]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Tempo de reten\xe7\xe3o"})," das mensagens entre ",(0,i.jsx)(s.strong,{children:"4 horas (m\xednimo) e 14 dias (m\xe1ximo)"}),"."]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Sem limite de quantidade de mensagens na fila"}),"."]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Mensagens de at\xe9 256 KB"}),". Para mensagens maiores, pode-se armazen\xe1-las no ",(0,i.jsx)(s.strong,{children:"S3"})," e usar ",(0,i.jsx)(s.strong,{children:"SQS Extended Client Library"}),"."]}),"\n"]}),"\n",(0,i.jsx)(s.hr,{}),"\n",(0,i.jsxs)(s.blockquote,{children:["\n",(0,i.jsx)(s.p,{children:"Auto Scaling e M\xe9tricas"}),"\n"]}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:["O ",(0,i.jsx)(s.strong,{children:"Amazon CloudWatch"})," monitora m\xe9tricas da fila, como:","\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"ApproximateNumberOfMessages"}),": N\xfamero estimado de mensagens na fila."]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"NumberOfMessagesSent"}),": Quantidade de mensagens enviadas."]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"NumberOfMessagesReceived"}),": Quantidade de mensagens recebidas."]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(s.li,{children:["\xc9 poss\xedvel configurar ",(0,i.jsx)(s.strong,{children:"Auto Scaling"})," para escalar os consumidores de forma autom\xe1tica com base no tamanho da fila."]}),"\n"]}),"\n",(0,i.jsx)(s.hr,{}),"\n",(0,i.jsxs)(s.blockquote,{children:["\n",(0,i.jsx)(s.p,{children:"Pol\xedtica de Acesso"}),"\n"]}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.img,{alt:"image-20230812075815579",src:n(77925).A+"",width:"905",height:"401"})}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:["Permite definir quem pode ",(0,i.jsx)(s.strong,{children:"enviar"})," e ",(0,i.jsx)(s.strong,{children:"consumir"})," mensagens da fila."]}),"\n",(0,i.jsxs)(s.li,{children:["Pode ser usada para permitir ",(0,i.jsx)(s.strong,{children:"acesso entre contas"})," (cross-account)."]}),"\n",(0,i.jsxs)(s.li,{children:["Exemplo de uso: Permitir que um bucket do ",(0,i.jsx)(s.strong,{children:"S3"})," publique eventos na fila SQS."]}),"\n"]}),"\n",(0,i.jsx)(s.hr,{}),"\n",(0,i.jsxs)(s.blockquote,{children:["\n",(0,i.jsx)(s.p,{children:"Integra\xe7\xe3o com AWS Lambda"}),"\n"]}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:["A ",(0,i.jsx)(s.strong,{children:"SQS pode acionar fun\xe7\xf5es Lambda"}),", processando mensagens ",(0,i.jsx)(s.strong,{children:"em batch"})," automaticamente."]}),"\n",(0,i.jsx)(s.li,{children:"Lambda l\xea mensagens da fila, processa e as remove ap\xf3s o sucesso da execu\xe7\xe3o."}),"\n",(0,i.jsxs)(s.li,{children:["Ideal para ",(0,i.jsx)(s.strong,{children:"event-driven architectures"}),"."]}),"\n"]}),"\n",(0,i.jsx)(s.hr,{}),"\n",(0,i.jsxs)(s.blockquote,{children:["\n",(0,i.jsx)(s.p,{children:"Criptografia no SQS"}),"\n"]}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Em tr\xe2nsito"}),": O tr\xe1fego entre os servi\xe7os e o SQS \xe9 ",(0,i.jsx)(s.strong,{children:"criptografado automaticamente via HTTPS"}),"."]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Em repouso"}),":","\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:["O ",(0,i.jsx)(s.strong,{children:"SQS usa SSE-SQS (Server-Side Encryption)"})," com uma chave padr\xe3o."]}),"\n",(0,i.jsxs)(s.li,{children:["Tamb\xe9m \xe9 poss\xedvel usar uma ",(0,i.jsx)(s.strong,{children:"chave gerenciada no AWS KMS (SSE-KMS)"})," para maior controle."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(s.hr,{}),"\n",(0,i.jsxs)(s.blockquote,{children:["\n",(0,i.jsx)(s.p,{children:"Message Visibility Timeout"}),"\n"]}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:["Quando um consumidor recupera uma mensagem, ela fica ",(0,i.jsx)(s.strong,{children:"invis\xedvel"})," para os outros consumidores at\xe9 ser processada."]}),"\n",(0,i.jsxs)(s.li,{children:["O tempo de invisibilidade \xe9 definido pelo ",(0,i.jsx)(s.strong,{children:"Message Visibility Timeout"}),"."]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Valor padr\xe3o: 30 segundos"}),"."]}),"\n",(0,i.jsxs)(s.li,{children:["Se o processamento demorar mais que o tempo definido, a mensagem ",(0,i.jsx)(s.strong,{children:"reaparece na fila"})," e pode ser processada novamente, levando a ",(0,i.jsx)(s.strong,{children:"duplica\xe7\xe3o"}),"."]}),"\n",(0,i.jsxs)(s.li,{children:["Para estender o tempo de invisibilidade, usa-se a API ",(0,i.jsx)(s.strong,{children:"ChangeMessageVisibility"})," do AWS SDK."]}),"\n"]}),"\n",(0,i.jsx)(s.hr,{}),"\n",(0,i.jsxs)(s.blockquote,{children:["\n",(0,i.jsx)(s.p,{children:"Delay Queues"}),"\n"]}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:["Define um ",(0,i.jsx)(s.strong,{children:"atraso"})," na entrega da mensagem para os consumidores."]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Padr\xe3o: 0 segundos"})," (entrega imediata)."]}),"\n",(0,i.jsxs)(s.li,{children:["No momento da ",(0,i.jsx)(s.strong,{children:"cria\xe7\xe3o da fila"}),", pode-se configurar um ",(0,i.jsx)(s.strong,{children:"atraso padr\xe3o"})," para todas as mensagens."]}),"\n",(0,i.jsx)(s.li,{children:"Ideal para cen\xe1rios onde \xe9 necess\xe1rio um tempo antes de processar as mensagens."}),"\n"]}),"\n",(0,i.jsx)(s.hr,{}),"\n",(0,i.jsxs)(s.blockquote,{children:["\n",(0,i.jsx)(s.p,{children:"Dead Letter Queue (DLQ)"}),"\n"]}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:["As mensagens podem ser enviadas para uma ",(0,i.jsx)(s.strong,{children:"fila de erro (DLQ - Dead Letter Queue)"})," se ",(0,i.jsx)(s.strong,{children:"n\xe3o forem processadas corretamente ap\xf3s um n\xfamero definido de tentativas"}),"."]}),"\n",(0,i.jsxs)(s.li,{children:["O n\xfamero de tentativas antes de mover para a DLQ \xe9 definido pelo ",(0,i.jsx)(s.strong,{children:"maximumReceives"}),"."]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Usado para debug"}),", permitindo identificar problemas sem perder as mensagens."]}),"\n",(0,i.jsxs)(s.li,{children:["Importante:","\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"A DLQ deve ser do mesmo tipo da fila principal"}),", ou seja, ",(0,i.jsx)(s.strong,{children:"se a fila for FIFO, a DLQ tamb\xe9m deve ser FIFO"}),"."]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Redrive to Source Queue"}),": Permite reenviar as mensagens da DLQ para a fila original ap\xf3s corrigir o problema."]}),"\n"]}),"\n",(0,i.jsx)(s.hr,{}),"\n",(0,i.jsxs)(s.blockquote,{children:["\n",(0,i.jsx)(s.p,{children:"Request-Response System no SQS"}),"\n"]}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:["O SQS pode ser usado para ",(0,i.jsx)(s.strong,{children:"modelos de requisi\xe7\xe3o-resposta"}),"."]}),"\n",(0,i.jsxs)(s.li,{children:["Ao postar uma mensagem na fila, o produtor informa um ",(0,i.jsx)(s.strong,{children:"CorrelationID"})," e uma ",(0,i.jsx)(s.strong,{children:"fila de resposta"}),"."]}),"\n",(0,i.jsx)(s.li,{children:"Assim que a mensagem for processada, a resposta \xe9 enviada para a fila de retorno."}),"\n"]}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.img,{alt:"request-response-system",src:n(23128).A+"",width:"1053",height:"531"})}),"\n",(0,i.jsx)(s.hr,{}),"\n",(0,i.jsxs)(s.blockquote,{children:["\n",(0,i.jsx)(s.p,{children:"Compara\xe7\xe3o: SQS vs SNS vs Kinesis"}),"\n"]}),"\n",(0,i.jsxs)(s.p,{children:["Embora todos sejam ",(0,i.jsx)(s.strong,{children:"servi\xe7os de mensageria"}),", possuem diferen\xe7as fundamentais."]}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.img,{alt:"SQS x SNS x Kinesis",src:n(31158).A+"",width:"1032",height:"429"})}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.strong,{children:"Principais diferen\xe7as:"})}),"\n",(0,i.jsxs)(s.table,{children:[(0,i.jsx)(s.thead,{children:(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.th,{children:"Servi\xe7o"}),(0,i.jsx)(s.th,{children:"Tipo"}),(0,i.jsx)(s.th,{children:"Mensagens Persistentes?"}),(0,i.jsx)(s.th,{children:"Casos de Uso"})]})}),(0,i.jsxs)(s.tbody,{children:[(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:(0,i.jsx)(s.strong,{children:"SQS"})}),(0,i.jsx)(s.td,{children:"Fila"}),(0,i.jsx)(s.td,{children:"\u2705 Sim"}),(0,i.jsx)(s.td,{children:"Processamento ass\xedncrono, desacoplamento de sistemas"})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:(0,i.jsx)(s.strong,{children:"SNS"})}),(0,i.jsx)(s.td,{children:"Publica\xe7\xe3o/Assinatura"}),(0,i.jsx)(s.td,{children:"\u274c N\xe3o"}),(0,i.jsx)(s.td,{children:"Notifica\xe7\xf5es push, mensagens broadcast para m\xfaltiplos consumidores"})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:(0,i.jsx)(s.strong,{children:"Kinesis"})}),(0,i.jsx)(s.td,{children:"Stream"}),(0,i.jsx)(s.td,{children:"\u2705 Sim"}),(0,i.jsx)(s.td,{children:"Processamento de eventos em tempo real, an\xe1lise cont\xednua de dados"})]})]})]}),"\n",(0,i.jsx)(s.hr,{}),"\n",(0,i.jsxs)(s.admonition,{type:"note",children:[(0,i.jsx)(s.mdxAdmonitionTitle,{children:(0,i.jsx)(s.strong,{children:"Quando usar SQS, SNS ou Kinesis?"})}),(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"SQS"}),": Quando precisa de ",(0,i.jsx)(s.strong,{children:"mensagens persistentes"})," e consumidores independentes."]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"SNS"}),": Quando quer ",(0,i.jsx)(s.strong,{children:"distribuir mensagens para m\xfaltiplos assinantes"})," (ex.: notifica\xe7\xf5es push, alertas)."]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Kinesis"}),": Quando precisa de ",(0,i.jsx)(s.strong,{children:"an\xe1lise de dados em tempo real"})," e streaming cont\xednuo de eventos."]}),"\n"]})]}),"\n",(0,i.jsx)(s.hr,{}),"\n",(0,i.jsxs)(s.admonition,{type:"tip",children:[(0,i.jsx)(s.mdxAdmonitionTitle,{children:(0,i.jsx)(s.strong,{children:"Dica para a prova \ud83c\udfaf"})}),(0,i.jsxs)(s.blockquote,{children:["\n",(0,i.jsxs)(s.p,{children:[(0,i.jsx)(s.strong,{children:"Dead Letter Queue (DLQ) \xe9 frequentemente abordado na prova"}),", especialmente sobre quando e como configurar essa funcionalidade para evitar perda de mensagens."]}),"\n"]}),(0,i.jsxs)(s.p,{children:["\ud83d\udccc Uma aplica\xe7\xe3o est\xe1 processando mensagens de uma fila ",(0,i.jsx)(s.strong,{children:"SQS Standard"}),", mas algumas mensagens falham repetidamente no processamento. Como garantir que essas mensagens possam ser analisadas posteriormente?"]}),(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:["\u2705 Configurar uma ",(0,i.jsx)(s.strong,{children:"Dead Letter Queue (DLQ)"})," e definir um ",(0,i.jsx)(s.strong,{children:"MaximumReceives"})," apropriado."]}),"\n"]}),(0,i.jsxs)(s.p,{children:["\ud83d\udccc Uma aplica\xe7\xe3o usa ",(0,i.jsx)(s.strong,{children:"SQS FIFO"})," para garantir ordem e exatamente uma vez no processamento. Como deve ser configurada a DLQ?"]}),(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:["\u2705 A ",(0,i.jsx)(s.strong,{children:"DLQ tamb\xe9m deve ser FIFO"}),", pois n\xe3o \xe9 permitido misturar tipos de fila."]}),"\n"]}),(0,i.jsx)(s.hr,{}),(0,i.jsxs)(s.blockquote,{children:["\n",(0,i.jsxs)(s.p,{children:[(0,i.jsx)(s.strong,{children:"Message Visibility Timeout"})," pode gerar duplica\xe7\xe3o de mensagens se n\xe3o for configurado corretamente."]}),"\n"]}),(0,i.jsxs)(s.p,{children:["\ud83d\udccc Um servi\xe7o recupera mensagens da SQS, mas leva ",(0,i.jsx)(s.strong,{children:"1 minuto"})," para process\xe1-las. Se o ",(0,i.jsx)(s.strong,{children:"Message Visibility Timeout"})," estiver no valor padr\xe3o (30 segundos), o que pode acontecer?"]}),(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:["\u2705 A mensagem pode ser entregue a outro consumidor antes de ser processada completamente, gerando ",(0,i.jsx)(s.strong,{children:"processamento duplicado"}),"."]}),"\n"]}),(0,i.jsx)(s.p,{children:"\ud83d\udccc Como evitar a duplica\xe7\xe3o no cen\xe1rio acima?"}),(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:["\u2705 Ajustar o ",(0,i.jsx)(s.strong,{children:"Message Visibility Timeout"})," para um tempo superior ao tempo m\xe9dio de processamento das mensagens."]}),"\n"]}),(0,i.jsx)(s.hr,{}),(0,i.jsxs)(s.blockquote,{children:["\n",(0,i.jsxs)(s.p,{children:[(0,i.jsx)(s.strong,{children:"Integra\xe7\xe3o do SQS com Lambda"})," \xe9 um tema comum na certifica\xe7\xe3o."]}),"\n"]}),(0,i.jsxs)(s.p,{children:["\ud83d\udccc O que acontece quando uma fun\xe7\xe3o Lambda processa mensagens de uma fila ",(0,i.jsx)(s.strong,{children:"SQS Standard"})," e falha no processamento?"]}),(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:["\u2705 A mensagem ser\xe1 ",(0,i.jsx)(s.strong,{children:"reprocessada automaticamente"}),", pois ",(0,i.jsx)(s.strong,{children:"SQS Standard pode entregar mensagens mais de uma vez"}),"."]}),"\n"]}),(0,i.jsx)(s.p,{children:"\ud83d\udccc Como evitar que mensagens com erro causem reprocessamentos infinitos ao usar Lambda com SQS?"}),(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:["\u2705 Configurar uma ",(0,i.jsx)(s.strong,{children:"DLQ"})," para armazenar mensagens que falharam ap\xf3s um n\xfamero m\xe1ximo de tentativas."]}),"\n"]}),(0,i.jsx)(s.hr,{}),(0,i.jsxs)(s.blockquote,{children:["\n",(0,i.jsxs)(s.p,{children:[(0,i.jsx)(s.strong,{children:"Compara\xe7\xe3o entre SQS, SNS e Kinesis"})," \xe9 essencial para escolher a melhor solu\xe7\xe3o na prova."]}),"\n"]}),(0,i.jsxs)(s.p,{children:["\ud83d\udccc Um sistema precisa entregar ",(0,i.jsx)(s.strong,{children:"uma mensagem para m\xfaltiplos consumidores simultaneamente"}),", garantindo ",(0,i.jsx)(s.strong,{children:"baixa lat\xeancia"}),". Qual servi\xe7o AWS \xe9 mais adequado?"]}),(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:["\u2705 ",(0,i.jsx)(s.strong,{children:"Amazon SNS"}),", pois permite ",(0,i.jsx)(s.strong,{children:"publica\xe7\xe3o/assinatura (pub/sub)"})," e entrega mensagens para v\xe1rios consumidores ao mesmo tempo."]}),"\n"]}),(0,i.jsxs)(s.p,{children:["\ud83d\udccc Uma aplica\xe7\xe3o precisa processar um ",(0,i.jsx)(s.strong,{children:"grande volume de dados em tempo real"}),", mantendo ",(0,i.jsx)(s.strong,{children:"ordem e reprocessamento"}),". Qual servi\xe7o AWS \xe9 mais adequado?"]}),(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:["\u2705 ",(0,i.jsx)(s.strong,{children:"Amazon Kinesis"}),", pois suporta ",(0,i.jsx)(s.strong,{children:"streaming de dados com reten\xe7\xe3o e reprocessamento"}),"."]}),"\n"]}),(0,i.jsx)(s.hr,{}),(0,i.jsxs)(s.blockquote,{children:["\n",(0,i.jsxs)(s.p,{children:[(0,i.jsx)(s.strong,{children:"Auto Scaling baseado em m\xe9tricas do SQS"})," pode aparecer na prova."]}),"\n"]}),(0,i.jsx)(s.p,{children:"\ud83d\udccc Como escalar dinamicamente os consumidores de uma fila SQS para lidar com um alto volume de mensagens?"}),(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:["\u2705 Configurar ",(0,i.jsx)(s.strong,{children:"Auto Scaling Group"})," para os consumidores baseado na m\xe9trica ",(0,i.jsx)(s.strong,{children:"ApproximateNumberOfMessages"})," do ",(0,i.jsx)(s.strong,{children:"Amazon CloudWatch"}),"."]}),"\n"]}),(0,i.jsxs)(s.p,{children:["\ud83d\udccc Uma fila SQS est\xe1 com ",(0,i.jsx)(s.strong,{children:"alto n\xfamero de mensagens pendentes"})," e os consumidores n\xe3o est\xe3o dando conta. Como resolver esse problema?"]}),(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:["\u2705 Aumentar o n\xfamero de inst\xe2ncias do consumidor via ",(0,i.jsx)(s.strong,{children:"Auto Scaling"})," ou otimizar o c\xf3digo para processar mensagens em batch."]}),"\n"]})]}),"\n",(0,i.jsx)(s.hr,{}),"\n",(0,i.jsx)(s.h2,{id:"aws-mq",children:"AWS MQ"}),"\n",(0,i.jsxs)(s.p,{children:["O ",(0,i.jsx)(s.strong,{children:"AWS MQ"})," \xe9 um servi\xe7o gerenciado de ",(0,i.jsx)(s.strong,{children:"mensageria compat\xedvel com protocolos tradicionais"}),", permitindo a execu\xe7\xe3o de ",(0,i.jsx)(s.strong,{children:"RabbitMQ"})," e ",(0,i.jsx)(s.strong,{children:"ActiveMQ"})," na AWS. Ele \xe9 ideal para empresas que desejam ",(0,i.jsx)(s.strong,{children:"migrar"})," suas solu\xe7\xf5es de mensageria existentes para a nuvem sem precisar modificar aplica\xe7\xf5es que dependem desses protocolos."]}),"\n",(0,i.jsxs)(s.blockquote,{children:["\n",(0,i.jsx)(s.p,{children:"Principais caracter\xedsticas:"}),"\n"]}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:["Suporta ",(0,i.jsx)(s.strong,{children:"protocolos tradicionais"})," de mensageria, como ",(0,i.jsx)(s.strong,{children:"MQTT, AMQP, STOMP, WSS e OpenWire"}),"."]}),"\n",(0,i.jsxs)(s.li,{children:["Servi\xe7o gerenciado da AWS para executar ",(0,i.jsx)(s.strong,{children:"RabbitMQ"})," e ",(0,i.jsx)(s.strong,{children:"ActiveMQ"}),"."]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"N\xe3o escala automaticamente"})," como o ",(0,i.jsx)(s.strong,{children:"Amazon SQS"})," ou ",(0,i.jsx)(s.strong,{children:"Amazon SNS"}),"."]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Pode ser configurado em Multi-AZ"}),", garantindo alta disponibilidade e ",(0,i.jsx)(s.strong,{children:"failover autom\xe1tico"}),"."]}),"\n",(0,i.jsxs)(s.li,{children:["Principalmente usado para ",(0,i.jsx)(s.strong,{children:"migra\xe7\xe3o de solu\xe7\xf5es legadas"})," que j\xe1 utilizam esses protocolos."]}),"\n"]}),"\n",(0,i.jsx)(s.hr,{}),"\n",(0,i.jsxs)(s.blockquote,{children:["\n",(0,i.jsx)(s.p,{children:"Casos de Uso"}),"\n"]}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:["Empresas que j\xe1 utilizam ",(0,i.jsx)(s.strong,{children:"RabbitMQ ou ActiveMQ"})," e desejam ",(0,i.jsx)(s.strong,{children:"migrar para a AWS"})," sem modificar a aplica\xe7\xe3o."]}),"\n",(0,i.jsxs)(s.li,{children:["Sistemas que exigem ",(0,i.jsx)(s.strong,{children:"entrega ordenada e garantida de mensagens"}),"."]}),"\n",(0,i.jsxs)(s.li,{children:["Ambientes que necessitam de ",(0,i.jsx)(s.strong,{children:"suporte a protocolos tradicionais"})," incompat\xedveis com ",(0,i.jsx)(s.strong,{children:"SQS/SNS"}),"."]}),"\n"]}),"\n",(0,i.jsx)(s.hr,{}),"\n",(0,i.jsxs)(s.admonition,{type:"note",children:[(0,i.jsx)(s.mdxAdmonitionTitle,{children:(0,i.jsx)(s.strong,{children:"AWS MQ vs SQS/SNS"})}),(0,i.jsxs)(s.table,{children:[(0,i.jsx)(s.thead,{children:(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.th,{children:"Caracter\xedstica"}),(0,i.jsx)(s.th,{children:"AWS MQ"}),(0,i.jsx)(s.th,{children:"Amazon SQS"}),(0,i.jsx)(s.th,{children:"Amazon SNS"})]})}),(0,i.jsxs)(s.tbody,{children:[(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:(0,i.jsx)(s.strong,{children:"Modelo"})}),(0,i.jsx)(s.td,{children:"Broker de Mensagens"}),(0,i.jsx)(s.td,{children:"Fila de Mensagens"}),(0,i.jsx)(s.td,{children:"Publica\xe7\xe3o/Assinatura (Pub/Sub)"})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:(0,i.jsx)(s.strong,{children:"Protocolos Suportados"})}),(0,i.jsx)(s.td,{children:"MQTT, AMQP, STOMP, OpenWire, etc."}),(0,i.jsx)(s.td,{children:"Protocolo propriet\xe1rio da AWS"}),(0,i.jsx)(s.td,{children:"Protocolo propriet\xe1rio da AWS"})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:(0,i.jsx)(s.strong,{children:"Escalabilidade"})}),(0,i.jsx)(s.td,{children:"Limitada"}),(0,i.jsx)(s.td,{children:"Altamente escal\xe1vel"}),(0,i.jsx)(s.td,{children:"Altamente escal\xe1vel"})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:(0,i.jsx)(s.strong,{children:"Persist\xeancia de Mensagens"})}),(0,i.jsx)(s.td,{children:"Sim"}),(0,i.jsx)(s.td,{children:"Sim"}),(0,i.jsx)(s.td,{children:"N\xe3o"})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:(0,i.jsx)(s.strong,{children:"Ordem Garantida"})}),(0,i.jsx)(s.td,{children:"Sim (depende da configura\xe7\xe3o)"}),(0,i.jsx)(s.td,{children:"Apenas em filas FIFO"}),(0,i.jsx)(s.td,{children:"N\xe3o"})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:(0,i.jsx)(s.strong,{children:"Caso de Uso"})}),(0,i.jsx)(s.td,{children:"Migra\xe7\xe3o de aplica\xe7\xf5es que j\xe1 usam mensageria tradicional"}),(0,i.jsx)(s.td,{children:"Processamento ass\xedncrono com alta escalabilidade"}),(0,i.jsx)(s.td,{children:"Distribui\xe7\xe3o de mensagens para m\xfaltiplos consumidores"})]})]})]})]}),"\n",(0,i.jsx)(s.hr,{}),"\n",(0,i.jsxs)(s.blockquote,{children:["\n",(0,i.jsx)(s.p,{children:"Alta Disponibilidade e Failover"}),"\n"]}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:["O ",(0,i.jsx)(s.strong,{children:"AWS MQ"})," pode ser configurado em ",(0,i.jsx)(s.strong,{children:"Multi-AZ"}),", garantindo ",(0,i.jsx)(s.strong,{children:"failover autom\xe1tico"})," caso ocorra falha em uma zona de disponibilidade."]}),"\n",(0,i.jsxs)(s.li,{children:["Em um ambiente ",(0,i.jsx)(s.strong,{children:"ActiveMQ"}),", \xe9 poss\xedvel configurar um ",(0,i.jsx)(s.strong,{children:"Cluster de Brokers"}),", distribuindo a carga e melhorando a resili\xeancia."]}),"\n",(0,i.jsxs)(s.li,{children:["No ",(0,i.jsx)(s.strong,{children:"RabbitMQ"}),", pode-se utilizar ",(0,i.jsx)(s.strong,{children:"replica\xe7\xe3o de filas"})," para maior confiabilidade."]}),"\n"]}),"\n",(0,i.jsx)(s.hr,{}),"\n",(0,i.jsxs)(s.blockquote,{children:["\n",(0,i.jsx)(s.p,{children:"Custos e Considera\xe7\xf5es"}),"\n"]}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"AWS MQ pode ser mais caro"})," que SQS/SNS devido \xe0 necessidade de manter brokers ativos."]}),"\n",(0,i.jsxs)(s.li,{children:["N\xe3o \xe9 ideal para ",(0,i.jsx)(s.strong,{children:"alta escala"}),", pois n\xe3o escala horizontalmente como o ",(0,i.jsx)(s.strong,{children:"SQS"}),"."]}),"\n",(0,i.jsxs)(s.li,{children:["Recomenda-se para ",(0,i.jsx)(s.strong,{children:"cargas de trabalho previs\xedveis"})," e ",(0,i.jsx)(s.strong,{children:"migra\xe7\xe3o de aplica\xe7\xf5es legadas"}),"."]}),"\n"]}),"\n",(0,i.jsx)(s.hr,{}),"\n",(0,i.jsxs)(s.admonition,{type:"tip",children:[(0,i.jsx)(s.mdxAdmonitionTitle,{children:(0,i.jsx)(s.strong,{children:"Dica para a prova \ud83c\udfaf"})}),(0,i.jsxs)(s.blockquote,{children:["\n",(0,i.jsxs)(s.p,{children:["Quest\xf5es frequentemente testam a ",(0,i.jsx)(s.strong,{children:"diferen\xe7a entre AWS MQ, SQS e SNS"}),", avaliando qual solu\xe7\xe3o \xe9 mais adequada para diferentes cen\xe1rios de mensageria."]}),"\n"]}),(0,i.jsxs)(s.p,{children:["\ud83d\udccc Uma empresa j\xe1 utiliza ",(0,i.jsx)(s.strong,{children:"ActiveMQ on-premises"})," e deseja migrar para a AWS sem refatorar a aplica\xe7\xe3o. Qual servi\xe7o AWS deve ser utilizado?"]}),(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:["\u2705 ",(0,i.jsx)(s.strong,{children:"AWS MQ"})," (Compat\xedvel com ActiveMQ, sem necessidade de modificar a aplica\xe7\xe3o)."]}),"\n"]}),(0,i.jsxs)(s.p,{children:["\ud83d\udccc Uma aplica\xe7\xe3o distribu\xedda precisa de uma solu\xe7\xe3o de mensageria ",(0,i.jsx)(s.strong,{children:"altamente escal\xe1vel"}),", mas n\xe3o exige compatibilidade com protocolos tradicionais. Qual a melhor op\xe7\xe3o?"]}),(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:["\u2705 ",(0,i.jsx)(s.strong,{children:"Amazon SQS"})," (Escal\xe1vel e totalmente gerenciado, ideal para mensagens ass\xedncronas)."]}),"\n"]}),(0,i.jsx)(s.hr,{}),(0,i.jsxs)(s.blockquote,{children:["\n",(0,i.jsxs)(s.p,{children:["O ",(0,i.jsx)(s.strong,{children:"AWS MQ pode ser configurado em Multi-AZ"})," para garantir alta disponibilidade, ativando um ",(0,i.jsx)(s.strong,{children:"failover autom\xe1tico"})," caso um broker falhe."]}),"\n"]}),(0,i.jsxs)(s.p,{children:["\ud83d\udccc Uma empresa precisa de um servi\xe7o de mensageria que ofere\xe7a ",(0,i.jsx)(s.strong,{children:"failover autom\xe1tico"})," entre zonas de disponibilidade, garantindo alta disponibilidade. Qual a melhor solu\xe7\xe3o?"]}),(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:["\u2705 ",(0,i.jsx)(s.strong,{children:"AWS MQ"})," configurado em ",(0,i.jsx)(s.strong,{children:"Multi-AZ"}),"."]}),"\n"]}),(0,i.jsx)(s.hr,{}),(0,i.jsxs)(s.blockquote,{children:["\n",(0,i.jsxs)(s.p,{children:["O ",(0,i.jsx)(s.strong,{children:"AWS MQ"})," n\xe3o escala horizontalmente como o ",(0,i.jsx)(s.strong,{children:"SQS"})," ou ",(0,i.jsx)(s.strong,{children:"SNS"}),", tornando-se ",(0,i.jsx)(s.strong,{children:"mais caro e menos adequado"})," para grandes volumes de mensagens."]}),"\n"]}),(0,i.jsxs)(s.p,{children:["\ud83d\udccc Qual servi\xe7o AWS \xe9 mais adequado para processar ",(0,i.jsx)(s.strong,{children:"milh\xf5es de mensagens por segundo"})," com escalabilidade autom\xe1tica?"]}),(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:["\u2705 ",(0,i.jsx)(s.strong,{children:"Amazon SQS"})," (Melhor para escalabilidade massiva)."]}),"\n"]}),(0,i.jsxs)(s.p,{children:["\ud83d\udccc Um sistema precisa garantir ",(0,i.jsx)(s.strong,{children:"ordem estrita"})," das mensagens e evitar duplica\xe7\xe3o. Qual servi\xe7o deve ser escolhido?"]}),(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:["\u2705 ",(0,i.jsx)(s.strong,{children:"Amazon SQS FIFO"})," (Suporte \xe0 ordem estrita e processamento \xfanico de mensagens)."]}),"\n"]})]}),"\n",(0,i.jsx)(s.hr,{}),"\n",(0,i.jsx)(s.h2,{id:"aws-sns",children:"AWS SNS"}),"\n",(0,i.jsxs)(s.p,{children:["O ",(0,i.jsx)(s.strong,{children:"Amazon Simple Notification Service (SNS)"})," \xe9 um servi\xe7o de ",(0,i.jsx)(s.strong,{children:"mensageria ass\xedncrona"})," baseado no padr\xe3o ",(0,i.jsx)(s.strong,{children:"pub/sub (publica\xe7\xe3o/assinatura)"}),", permitindo o envio de notifica\xe7\xf5es para m\xfaltiplos assinantes simultaneamente. Ele \xe9 amplamente utilizado para ",(0,i.jsx)(s.strong,{children:"distribuir eventos"})," e ",(0,i.jsx)(s.strong,{children:"notificar servi\xe7os ou usu\xe1rios"})," de maneira escal\xe1vel."]}),"\n",(0,i.jsxs)(s.blockquote,{children:["\n",(0,i.jsx)(s.p,{children:"Principais caracter\xedsticas"}),"\n"]}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:["Servi\xe7o ",(0,i.jsx)(s.strong,{children:"gerenciado"})," pela AWS, com ",(0,i.jsx)(s.strong,{children:"escopo regional"}),"."]}),"\n",(0,i.jsxs)(s.li,{children:["Utiliza o modelo ",(0,i.jsx)(s.strong,{children:"Produtor \u2192 Envia \u2192 T\xf3pico \u2192 Notifica \u2192 Assinantes"})," (",(0,i.jsx)(s.strong,{children:"pub/sub pattern"}),")."]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Cada t\xf3pico pode ter at\xe9 12 milh\xf5es de assinantes"}),"."]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Soft limit de 100.000 t\xf3picos por conta"}),"."]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Mensagens n\xe3o s\xe3o retidas"})," ap\xf3s a entrega; elas s\xe3o descartadas ap\xf3s a notifica\xe7\xe3o."]}),"\n",(0,i.jsxs)(s.li,{children:["Suporte a diversos tipos de assinantes:","\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"HTTP(S), e-mail, Lambda, dispositivos m\xf3veis, Kinesis Data Firehose"}),"."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(s.hr,{}),"\n",(0,i.jsxs)(s.blockquote,{children:["\n",(0,i.jsx)(s.p,{children:"Entrega de Mensagens e Ordem de Processamento"}),"\n"]}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:'O SNS "empurra" as mensagens para os assinantes'}),", ao contr\xe1rio do ",(0,i.jsx)(s.strong,{children:"SQS"}),", que exige polling."]}),"\n",(0,i.jsxs)(s.li,{children:["Caso seja necess\xe1rio garantir ",(0,i.jsx)(s.strong,{children:"ordem de entrega"})," e ",(0,i.jsx)(s.strong,{children:"evitar duplica\xe7\xe3o"}),", recomenda-se o uso de ",(0,i.jsx)(s.strong,{children:"SQS FIFO"})," como assinante."]}),"\n"]}),"\n",(0,i.jsxs)(s.admonition,{type:"info",children:[(0,i.jsxs)(s.mdxAdmonitionTitle,{children:["\ud83d\udccc ",(0,i.jsx)(s.strong,{children:"Quando usar SNS vs. SQS FIFO?"})]}),(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"SNS:"})," Para ",(0,i.jsx)(s.strong,{children:"notifica\xe7\xf5es em tempo real"})," para m\xfaltiplos assinantes sem necessidade de ordem espec\xedfica."]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"SQS FIFO:"})," Para garantir ",(0,i.jsx)(s.strong,{children:"ordem estrita"})," das mensagens e evitar ",(0,i.jsx)(s.strong,{children:"duplica\xe7\xf5es"}),"."]}),"\n"]})]}),"\n",(0,i.jsx)(s.hr,{}),"\n",(0,i.jsxs)(s.blockquote,{children:["\n",(0,i.jsx)(s.p,{children:"Pol\xedtica de Acesso (IAM Policy)"}),"\n"]}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:["Permite definir ",(0,i.jsx)(s.strong,{children:"quem pode enviar mensagens para um t\xf3pico"}),"."]}),"\n",(0,i.jsxs)(s.li,{children:["Funciona de forma semelhante \xe0s ",(0,i.jsx)(s.strong,{children:"pol\xedticas de acesso do SQS"}),"."]}),"\n",(0,i.jsxs)(s.li,{children:["Exemplo de caso de uso:","\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Restringir o envio de mensagens"})," apenas para servi\xe7os internos."]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Permitir que outra conta AWS publique mensagens no t\xf3pico"}),"."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(s.hr,{}),"\n",(0,i.jsxs)(s.blockquote,{children:["\n",(0,i.jsx)(s.p,{children:"Criptografia no SNS"}),"\n"]}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Em tr\xe2nsito:"})," A comunica\xe7\xe3o \xe9 ",(0,i.jsx)(s.strong,{children:"segura por padr\xe3o"})," via ",(0,i.jsx)(s.strong,{children:"HTTPS"}),"."]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Em repouso:"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:["Usa ",(0,i.jsx)(s.strong,{children:"SSE-SNS"})," (Server-Side Encryption) com chave padr\xe3o da AWS."]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Pode ser configurado com AWS KMS (SSE-KMS)"})," para maior controle."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(s.hr,{}),"\n",(0,i.jsxs)(s.blockquote,{children:["\n",(0,i.jsx)(s.p,{children:"SNS + SQS - Fan-Out Pattern"}),"\n"]}),"\n",(0,i.jsxs)(s.p,{children:["A arquitetura ",(0,i.jsx)(s.strong,{children:"Fan-Out"})," usa um ",(0,i.jsx)(s.strong,{children:"t\xf3pico SNS"})," para distribuir mensagens para m\xfaltiplas filas ",(0,i.jsx)(s.strong,{children:"SQS"}),", garantindo que diferentes sistemas possam processar o mesmo evento."]}),"\n",(0,i.jsxs)(s.p,{children:["\ud83d\udccc ",(0,i.jsx)(s.strong,{children:"Benef\xedcios do Fan-Out Pattern"}),":"]}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:["Permite que ",(0,i.jsx)(s.strong,{children:"v\xe1rios sistemas processem a mesma mensagem"}),"."]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Evita perda de dados"})," ao garantir que cada consumidor receba sua pr\xf3pria c\xf3pia da mensagem."]}),"\n",(0,i.jsxs)(s.li,{children:["\xdatil para servi\xe7os que ",(0,i.jsx)(s.strong,{children:"s\xf3 permitem notifica\xe7\xe3o para um \xfanico destino"})," (",(0,i.jsx)(s.strong,{children:"exemplo: S3 Events"}),")."]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Funciona entre regi\xf5es AWS"}),"."]}),"\n"]}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.img,{alt:"Fan-Out",src:n(84797).A+"",width:"908",height:"253"})}),"\n",(0,i.jsx)(s.hr,{}),"\n",(0,i.jsxs)(s.blockquote,{children:["\n",(0,i.jsx)(s.p,{children:"Message Filtering (Filtragem de Mensagens)"}),"\n"]}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:["O SNS permite filtrar mensagens para ",(0,i.jsx)(s.strong,{children:"notificar assinantes apenas quando um crit\xe9rio for atendido"}),"."]}),"\n",(0,i.jsxs)(s.li,{children:["Utiliza ",(0,i.jsx)(s.strong,{children:"JSON policies"})," para definir regras de filtragem."]}),"\n"]}),"\n",(0,i.jsx)(s.admonition,{title:"\ud83d\udccc Exemplo:",type:"tip",children:(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:["Um ",(0,i.jsx)(s.strong,{children:"sistema de pedidos"})," pode publicar eventos no SNS."]}),"\n",(0,i.jsxs)(s.li,{children:["Apenas ",(0,i.jsx)(s.strong,{children:'assinantes interessados em "Pedidos Cancelados"'})," recebem notifica\xe7\xf5es desse tipo."]}),"\n"]})}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.img,{alt:"Filtragem de Mensagens",src:n(81177).A+"",width:"753",height:"264"})}),"\n",(0,i.jsxs)(s.p,{children:["\ud83d\udd17 ",(0,i.jsx)(s.a,{href:"https://docs.aws.amazon.com/sns/latest/dg/message-filtering.html",children:"Documenta\xe7\xe3o oficial do SNS Message Filtering"})]}),"\n",(0,i.jsx)(s.hr,{}),"\n",(0,i.jsxs)(s.blockquote,{children:["\n",(0,i.jsx)(s.p,{children:"Integra\xe7\xe3o com Kinesis Data Firehose"}),"\n"]}),"\n",(0,i.jsxs)(s.p,{children:["O ",(0,i.jsx)(s.strong,{children:"Amazon SNS"})," pode enviar mensagens diretamente para o ",(0,i.jsx)(s.strong,{children:"Kinesis Data Firehose"}),", permitindo:"]}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Armazenamento em tempo real"})," no ",(0,i.jsx)(s.strong,{children:"S3, Redshift ou Elasticsearch"}),"."]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Processamento e an\xe1lise de logs e eventos"})," em grande escala."]}),"\n"]}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.img,{alt:"SNS + Firehose",src:n(8337).A+"",width:"987",height:"250"})}),"\n",(0,i.jsxs)(s.p,{children:["\ud83d\udd17 ",(0,i.jsx)(s.a,{href:"https://docs.aws.amazon.com/sns/latest/dg/sns-firehose-as-subscriber.html",children:"Documenta\xe7\xe3o oficial da integra\xe7\xe3o SNS + Firehose"})]}),"\n",(0,i.jsx)(s.hr,{}),"\n",(0,i.jsxs)(s.blockquote,{children:["\n",(0,i.jsx)(s.p,{children:"Retry e Dead Letter Queue (DLQ)"}),"\n"]}),"\n",(0,i.jsxs)(s.p,{children:["\ud83d\udccc O ",(0,i.jsx)(s.strong,{children:"SNS reenvia mensagens automaticamente"})," caso o assinante n\xe3o esteja dispon\xedvel."]}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Para servi\xe7os AWS (ex: Lambda, SQS)"}),", o ",(0,i.jsx)(s.strong,{children:"SNS j\xe1 possui um mecanismo de retry autom\xe1tico"}),"."]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Para endpoints externos (ex: HTTP)"}),", \xe9 necess\xe1rio ",(0,i.jsx)(s.strong,{children:"configurar uma pol\xedtica de retry"}),"."]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Caso uma mensagem n\xe3o seja entregue ap\xf3s v\xe1rias tentativas, pode-se configurar uma DLQ (Dead Letter Queue)"}),"."]}),"\n"]}),"\n",(0,i.jsxs)(s.p,{children:["\ud83d\udccc ",(0,i.jsx)(s.strong,{children:"Quando usar DLQ no SNS?"})]}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:["Para ",(0,i.jsx)(s.strong,{children:"garantir que mensagens n\xe3o sejam perdidas"})," se o destinat\xe1rio estiver indispon\xedvel."]}),"\n",(0,i.jsxs)(s.li,{children:["Para ",(0,i.jsx)(s.strong,{children:"analisar falhas na entrega"})," e evitar perda de dados cr\xedticos."]}),"\n"]}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.img,{alt:"Retry Policy",src:n(3591).A+"",width:"1086",height:"342"})}),"\n",(0,i.jsxs)(s.blockquote,{children:["\n",(0,i.jsx)(s.p,{children:"Como funciona a DLQ no SNS?"}),"\n"]}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:["A DLQ \xe9 ",(0,i.jsx)(s.strong,{children:"associada \xe0 assinatura"})," do t\xf3pico SNS."]}),"\n",(0,i.jsxs)(s.li,{children:["Mensagens que ",(0,i.jsx)(s.strong,{children:"falham ap\xf3s m\xfaltiplas tentativas"})," s\xe3o ",(0,i.jsx)(s.strong,{children:"enviadas para a DLQ"})," para futura an\xe1lise."]}),"\n"]}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.img,{alt:"DLQ SNS",src:n(59831).A+"",width:"1001",height:"320"})}),"\n",(0,i.jsxs)(s.p,{children:["\ud83d\udd17 ",(0,i.jsx)(s.a,{href:"https://docs.aws.amazon.com/sns/latest/dg/sns-dead-letter-queues.html",children:"Documenta\xe7\xe3o oficial sobre SNS DLQ"})]}),"\n",(0,i.jsx)(s.hr,{}),"\n",(0,i.jsxs)(s.admonition,{type:"tip",children:[(0,i.jsx)(s.mdxAdmonitionTitle,{children:(0,i.jsx)(s.strong,{children:"Dica para a prova \ud83c\udfaf"})}),(0,i.jsxs)(s.blockquote,{children:["\n",(0,i.jsxs)(s.p,{children:["Quest\xf5es sobre ",(0,i.jsx)(s.strong,{children:"SNS vs. SQS"})," s\xe3o comuns, exigindo que voc\xea escolha a solu\xe7\xe3o mais adequada para um caso espec\xedfico."]}),"\n"]}),(0,i.jsxs)(s.p,{children:["\ud83d\udccc Uma aplica\xe7\xe3o precisa enviar notifica\xe7\xf5es ",(0,i.jsx)(s.strong,{children:"instant\xe2neas"})," para diversos sistemas distribu\xeddos, garantindo ",(0,i.jsx)(s.strong,{children:"entrega em tempo real"}),", mas ",(0,i.jsx)(s.strong,{children:"n\xe3o exige ordena\xe7\xe3o nem processamento \xfanico"})," das mensagens. Qual servi\xe7o deve ser utilizado?"]}),(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:["\u2705 ",(0,i.jsx)(s.strong,{children:"Amazon SNS"})," (pub/sub para notifica\xe7\xf5es em tempo real)"]}),"\n"]}),(0,i.jsxs)(s.p,{children:["\ud83d\udccc Um sistema precisa garantir que ",(0,i.jsx)(s.strong,{children:"mensagens sejam processadas em ordem e sem duplica\xe7\xf5es"}),". Qual servi\xe7o deve ser utilizado?"]}),(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:["\u2705 ",(0,i.jsx)(s.strong,{children:"Amazon SQS FIFO"})," (garante ordem e deduplica\xe7\xe3o)"]}),"\n"]}),(0,i.jsxs)(s.p,{children:["\ud83d\udd17 ",(0,i.jsx)(s.a,{href:"https://docs.aws.amazon.com/sns/latest/dg/sns-vs-sqs.html",children:"Compara\xe7\xe3o oficial SNS vs. SQS"})]}),(0,i.jsx)(s.hr,{}),(0,i.jsxs)(s.blockquote,{children:["\n",(0,i.jsxs)(s.p,{children:["Perguntas podem abordar ",(0,i.jsx)(s.strong,{children:"pol\xedticas de acesso (IAM) do SNS"}),", testando se voc\xea sabe como controlar ",(0,i.jsx)(s.strong,{children:"quem pode publicar ou assinar t\xf3picos SNS"}),"."]}),"\n"]}),(0,i.jsxs)(s.p,{children:["\ud83d\udccc Uma equipe de seguran\xe7a exige que ",(0,i.jsx)(s.strong,{children:"apenas aplica\xe7\xf5es dentro da conta AWS da empresa possam publicar mensagens em um t\xf3pico SNS"}),". Como garantir isso?"]}),(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:["\u2705 Criar uma ",(0,i.jsx)(s.strong,{children:"SNS Access Policy"})," restringindo publica\xe7\xf5es apenas para a ",(0,i.jsx)(s.strong,{children:"conta AWS espec\xedfica"}),"."]}),"\n"]}),(0,i.jsxs)(s.p,{children:["\ud83d\udccc Um parceiro externo precisa ",(0,i.jsx)(s.strong,{children:"assinar"})," um t\xf3pico SNS para receber notifica\xe7\xf5es, mas ",(0,i.jsx)(s.strong,{children:"n\xe3o pode publicar mensagens"}),". Como configurar isso corretamente?"]}),(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:["\u2705 Criar uma ",(0,i.jsx)(s.strong,{children:"pol\xedtica SNS"})," permitindo apenas ",(0,i.jsx)(s.strong,{children:'"Subscribe"'})," para o parceiro e negando ",(0,i.jsx)(s.strong,{children:'"Publish"'}),"."]}),"\n"]}),(0,i.jsxs)(s.p,{children:["\ud83d\udd17 ",(0,i.jsx)(s.a,{href:"https://docs.aws.amazon.com/sns/latest/dg/sns-access-policy-use-cases.html",children:"Guia oficial de pol\xedticas do SNS"})]}),(0,i.jsx)(s.hr,{}),(0,i.jsxs)(s.blockquote,{children:["\n",(0,i.jsxs)(s.p,{children:["SNS pode ser testado em rela\xe7\xe3o \xe0 ",(0,i.jsx)(s.strong,{children:"criptografia"})," e ",(0,i.jsx)(s.strong,{children:"seguran\xe7a"})," na prova, exigindo que voc\xea saiba configurar ",(0,i.jsx)(s.strong,{children:"SSE-SNS"})," e ",(0,i.jsx)(s.strong,{children:"SSE-KMS"}),"."]}),"\n"]}),(0,i.jsxs)(s.p,{children:["\ud83d\udccc Uma aplica\xe7\xe3o envia mensagens ",(0,i.jsx)(s.strong,{children:"sens\xedveis"})," para um t\xf3pico SNS. A empresa exige que os dados estejam ",(0,i.jsx)(s.strong,{children:"criptografados em repouso"})," usando uma ",(0,i.jsx)(s.strong,{children:"chave gerenciada pelo cliente"}),". Qual configura\xe7\xe3o deve ser usada?"]}),(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:["\u2705 ",(0,i.jsx)(s.strong,{children:"Habilitar SSE-KMS"})," no t\xf3pico SNS com uma chave do AWS KMS."]}),"\n"]}),(0,i.jsxs)(s.p,{children:["\ud83d\udccc O tr\xe1fego entre os produtores e o SNS ",(0,i.jsx)(s.strong,{children:"deve ser criptografado"})," para evitar intercepta\xe7\xe3o. Qual configura\xe7\xe3o garante isso?"]}),(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:["\u2705 ",(0,i.jsx)(s.strong,{children:"Configurar os produtores para usar HTTPS"})," ao publicar mensagens no SNS."]}),"\n"]}),(0,i.jsxs)(s.p,{children:["\ud83d\udd17 ",(0,i.jsx)(s.a,{href:"https://docs.aws.amazon.com/sns/latest/dg/sns-server-side-encryption.html",children:"Documenta\xe7\xe3o sobre criptografia do SNS"})]}),(0,i.jsx)(s.hr,{}),(0,i.jsxs)(s.blockquote,{children:["\n",(0,i.jsxs)(s.p,{children:["SNS \xe9 frequentemente cobrado na prova em quest\xf5es sobre ",(0,i.jsx)(s.strong,{children:"Fan-Out Pattern"})," e ",(0,i.jsx)(s.strong,{children:"integra\xe7\xe3o com SQS"}),"."]}),"\n"]}),(0,i.jsxs)(s.p,{children:["\ud83d\udccc Uma aplica\xe7\xe3o precisa ",(0,i.jsx)(s.strong,{children:"garantir que m\xfaltiplos sistemas recebam e processem mensagens do mesmo evento"}),", evitando perda de dados. Qual solu\xe7\xe3o AWS pode ser usada?"]}),(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:["\u2705 ",(0,i.jsx)(s.strong,{children:"Configurar SNS para distribuir mensagens para v\xe1rias filas SQS (Fan-Out Pattern)"}),"."]}),"\n"]}),(0,i.jsx)(s.p,{children:"\ud83d\udccc Um servi\xe7o em outra regi\xe3o precisa processar mensagens enviadas por um t\xf3pico SNS. Como garantir que ele receba os eventos corretamente?"}),(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:["\u2705 Criar ",(0,i.jsx)(s.strong,{children:"SQS em outra regi\xe3o"}),", assin\xe1-la ao t\xf3pico SNS e habilitar ",(0,i.jsx)(s.strong,{children:"cross-region replication"}),"."]}),"\n"]}),(0,i.jsxs)(s.p,{children:["\ud83d\udd17 ",(0,i.jsx)(s.a,{href:"https://docs.aws.amazon.com/sns/latest/dg/sns-sqs-as-subscriber.html",children:"Fan-Out Pattern com SNS + SQS"})]}),(0,i.jsx)(s.hr,{}),(0,i.jsxs)(s.blockquote,{children:["\n",(0,i.jsxs)(s.p,{children:["Quest\xf5es podem testar ",(0,i.jsx)(s.strong,{children:"retry policies e Dead Letter Queues (DLQ) no SNS"}),", cobrando como garantir a entrega de mensagens."]}),"\n"]}),(0,i.jsx)(s.p,{children:"\ud83d\udccc Um endpoint HTTP assina um t\xf3pico SNS, mas est\xe1 frequentemente indispon\xedvel. Como evitar a perda de mensagens?"}),(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:["\u2705 ",(0,i.jsx)(s.strong,{children:"Configurar uma DLQ para armazenar mensagens falhas e reprocess\xe1-las posteriormente"}),"."]}),"\n"]}),(0,i.jsx)(s.p,{children:"\ud83d\udccc Um servi\xe7o recebe notifica\xe7\xf5es do SNS via Lambda, mas algumas mensagens est\xe3o falhando. Como melhorar a resili\xeancia?"}),(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:["\u2705 ",(0,i.jsx)(s.strong,{children:"Habilitar DLQ no SNS para capturar mensagens falhas e analisar os erros"}),"."]}),"\n"]}),(0,i.jsxs)(s.p,{children:["\ud83d\udd17 ",(0,i.jsx)(s.a,{href:"https://docs.aws.amazon.com/sns/latest/dg/sns-dead-letter-queues.html",children:"DLQ no SNS"})]})]}),"\n",(0,i.jsx)(s.hr,{})]})}function h(e={}){const{wrapper:s}={...(0,a.R)(),...e.components};return s?(0,i.jsx)(s,{...e,children:(0,i.jsx)(t,{...e})}):t(e)}},16302:(e,s,n)=>{n.d(s,{A:()=>r});const r=n.p+"assets/images/image-20230220120340225-072088eee0a7e127694c4413fd31a559.png"},23128:(e,s,n)=>{n.d(s,{A:()=>r});const r=n.p+"assets/images/image-20210902210040788-b2df3254b315e3a5cd1a780b8d5fee91.png"},28453:(e,s,n)=>{n.d(s,{R:()=>o,x:()=>d});var r=n(96540);const i={},a=r.createContext(i);function o(e){const s=r.useContext(a);return r.useMemo((function(){return"function"==typeof e?e(s):{...s,...e}}),[s,e])}function d(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:o(e.components),r.createElement(a.Provider,{value:s},e.children)}},31158:(e,s,n)=>{n.d(s,{A:()=>r});const r=n.p+"assets/images/image-20210903062441530-fcb72f02eee5662e623df8b3d964473e.png"},53817:(e,s,n)=>{n.d(s,{A:()=>r});const r=n.p+"assets/images/image-20230220120628216-3c6f7e0f6fd4a0fa8598df3b9d16a04e.png"},56781:(e,s,n)=>{n.d(s,{A:()=>r});const r=n.p+"assets/images/5e3f44ce52788a4fb8b8432e4441bf3f-SQS-diagram-55fc40afe501ed4ed4ed864e9e624f04.svg"},59831:(e,s,n)=>{n.d(s,{A:()=>r});const r=n.p+"assets/images/image-20230221061229092-d56b0566834cc505787712978f2fccb0.png"},63727:(e,s,n)=>{n.d(s,{A:()=>r});const r=n.p+"assets/images/image-20230220121021456-747c88872cbbd30e86de945a750049cd.png"},77925:(e,s,n)=>{n.d(s,{A:()=>r});const r=n.p+"assets/images/image-20230812075815579-731bb9064100f16ff7941547b5425226.png"},81177:(e,s,n)=>{n.d(s,{A:()=>r});const r=n.p+"assets/images/image-20230221054138361-f821aec006065f4ae74ad58331df599f.png"},84797:(e,s,n)=>{n.d(s,{A:()=>r});const r=n.p+"assets/images/image-20210902211203812-1676968809224-3-9fa8d0258ed0553ac21c34429721899e.png"},96900:(e,s,n)=>{n.d(s,{A:()=>r});const r=n.p+"assets/images/image-20210911102112816-79ebff01a9d5b08b8df851af25563ec6.png"}}]);