"use strict";(self.webpackChunkuni_docs=self.webpackChunkuni_docs||[]).push([[3520],{28453:(e,n,a)=>{a.d(n,{R:()=>o,x:()=>r});var s=a(96540);const l={},i=s.createContext(l);function o(e){const n=s.useContext(i);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function r(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(l):e.components||l:o(e.components),s.createElement(i.Provider,{value:n},e.children)}},61469:(e,n,a)=>{a.r(n),a.d(n,{assets:()=>d,contentTitle:()=>r,default:()=>h,frontMatter:()=>o,metadata:()=>s,toc:()=>c});const s=JSON.parse('{"id":"developer-notes/linux/Arch","title":"Arch","description":"Documenta\xe7\xe3o","source":"@site/docs/developer-notes/01-linux/02-Arch.md","sourceDirName":"developer-notes/01-linux","slug":"/developer-notes/linux/Arch","permalink":"/uni-salva/docs/developer-notes/linux/Arch","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/developer-notes/01-linux/02-Arch.md","tags":[],"version":"current","sidebarPosition":2,"frontMatter":{"title":"Arch"},"sidebar":"developerNotesSidebar","previous":{"title":"Ubuntu","permalink":"/uni-salva/docs/developer-notes/linux/Ubuntu"},"next":{"title":"Servicores de aplica\xe7\xe3o","permalink":"/uni-salva/docs/category/servicores-de-aplica\xe7\xe3o"}}');var l=a(74848),i=a(28453);const o={title:"Arch"},r=void 0,d={},c=[{value:"Documenta\xe7\xe3o",id:"documenta\xe7\xe3o",level:2},{value:"Instala\xe7\xe3o",id:"instala\xe7\xe3o",level:2},{value:"Formatando o disco",id:"formatando-o-disco",level:3},{value:"Pontos de montagem",id:"pontos-de-montagem",level:2},{value:"instalando o arch linux",id:"instalando-o-arch-linux",level:2},{value:"Gerando tabela FSTAB",id:"gerando-tabela-fstab",level:2},{value:"Alterando para o sistema instalado",id:"alterando-para-o-sistema-instalado",level:2},{value:"Alterando a data e hora",id:"alterando-a-data-e-hora",level:2},{value:"Configurar o idioma do sistema",id:"configurar-o-idioma-do-sistema",level:2},{value:"Configurar Sistema",id:"configurar-sistema",level:2},{value:"Nome da maquina",id:"nome-da-maquina",level:3},{value:"senha do usuario root",id:"senha-do-usuario-root",level:3},{value:"Criando usuarios",id:"criando-usuarios",level:3},{value:"Instalando pacotes uteis",id:"instalando-pacotes-uteis",level:3},{value:"Adicionando usuario ao sudores",id:"adicionando-usuario-ao-sudores",level:3},{value:"Configurando a o GRUB - UEFI",id:"configurando-a-o-grub---uefi",level:2},{value:"Documenta\xe7\xe3o",id:"documenta\xe7\xe3o-1",level:2}];function t(e){const n={a:"a",blockquote:"blockquote",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",hr:"hr",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,i.R)(),...e.components};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(n.h2,{id:"documenta\xe7\xe3o",children:"Documenta\xe7\xe3o"}),"\n",(0,l.jsxs)(n.p,{children:["link: ",(0,l.jsx)(n.a,{href:"https://wiki.archlinux.org/index.php/Installation_guide",children:"https://wiki.archlinux.org/index.php/Installation_guide"})]}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h2,{id:"instala\xe7\xe3o",children:"Instala\xe7\xe3o"}),"\n",(0,l.jsx)(n.p,{children:"Inicie o archlinux e:"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Sete o teclado"}),"\n"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-shell",children:"loadkeys br-abnt2\n"})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Verifique se vc tem conex\xe3o de rede"}),"\n"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-shell",children:"ip link\n\nping google.com.br\n"})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Caso voc\xea tenha Wi-Fi:"}),"\n"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-shell",children:"wifi-menu\n"})}),"\n",(0,l.jsxs)(n.blockquote,{children:["\n",(0,l.jsx)(n.p,{children:"Abre um di\xe1logo simples de escaneamento de rede, permitindo que voc\xea selecione com o teclado a rede desejada, digite a senha e pronto."}),"\n"]}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Particionamendo do disco"}),"\n"]}),"\n",(0,l.jsxs)(n.blockquote,{children:["\n",(0,l.jsx)(n.p,{children:"Use o comando para iniciar o particionamento do disco"}),"\n"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-shell",children:"# Para listar as parti\xe7\xf5es existentes\n lsblk \nfdisk -l \n\n# Para cira novas parti\xe7\xf5es GPT, para a parti\xe7\xe3o /dev/sda\ncfdisk /dev/sda\n"})}),"\n",(0,l.jsxs)(n.table,{children:[(0,l.jsx)(n.thead,{children:(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.th,{children:(0,l.jsx)(n.strong,{children:"Parti\xe7\xe3o"})}),(0,l.jsx)(n.th,{children:(0,l.jsx)(n.strong,{children:"Tipo de partir\xe7\xe3o"})}),(0,l.jsx)(n.th,{children:(0,l.jsx)(n.strong,{children:"Sugest\xe3o de tamanho"})}),(0,l.jsx)(n.th,{children:(0,l.jsx)(n.strong,{children:"Ponto de montagem"})})]})}),(0,l.jsxs)(n.tbody,{children:[(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"/dev/efi_system_partition"}),(0,l.jsx)(n.td,{children:"EFI system partition"}),(0,l.jsx)(n.td,{children:"500MB"}),(0,l.jsx)(n.td,{children:"/mnt/boot"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsxs)(n.td,{children:["/dev/",(0,l.jsx)(n.em,{children:"swap_partition"})]}),(0,l.jsx)(n.td,{children:"Linux swap"}),(0,l.jsx)(n.td,{children:"2G"}),(0,l.jsx)(n.td,{children:"[SWAP]"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"/dev/root_partition"}),(0,l.jsx)(n.td,{children:"Linux x86-64 root (/)"}),(0,l.jsx)(n.td,{children:"O resto"}),(0,l.jsx)(n.td,{children:"/mnt"})]})]})]}),"\n",(0,l.jsx)(n.h3,{id:"formatando-o-disco",children:"Formatando o disco"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Pati\xe7\xe3o de boot (n\xe3o fiz isso)\xa0"}),"\n"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-shell",children:"#mkfs.fat -F32 /dev/boot_partition\nmkfs.fat -F32 /dev/sda1\n"})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.strong,{children:"Parti\xe7\xe3o de SWAP"})}),"\n"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-shell",children:"# mkswap /dev/swap_partition\nmkswap /dev/sda2\n"})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.strong,{children:"Parti\xe7\xe3o de do filesystem"})}),"\n"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-shell",children:"# mkfs.ext4 /dev/root_partition\nmkfs.ext4 \nmount /dev/sda3 /mnt\n"})}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h2,{id:"pontos-de-montagem",children:"Pontos de montagem"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.strong,{children:"Parti\xe7\xe3o do filesystem"})}),"\n"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-shell",children:"# mount /dev/root_partition/mnt\nmount /dev/sda3 /mnt\n\nmkdir /mnt/home\nmkdir /mnt/boot\nmkdir /mnt/boot/efi\n"})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.strong,{children:"Parti\xe7\xe3o de boot"})}),"\n"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-shell",children:"# mount /dev/boot_partition/mnt\nmount /dev/sda1 /mnt/boot/efi\n"})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.strong,{children:"Habilitando Swap"})}),"\n"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-shell",children:"# swapon /dev/swap_partition\nswapon  /dev/sda2\n"})}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h2,{id:"instalando-o-arch-linux",children:"instalando o arch linux"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-shell",children:"pacstrap /mnt base linux linux-firmware\n"})}),"\n",(0,l.jsx)(n.p,{children:"Isso pode demorar um tempinho, v\xe1 tomar um ch\xe1"}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h2,{id:"gerando-tabela-fstab",children:"Gerando tabela FSTAB"}),"\n",(0,l.jsx)(n.p,{children:"Vamos gerar a nossa tabela FSTAB, que vai dizer para o sistema onde est\xe3o montadas cada uma das parti\xe7\xf5es, faremos isso usando este comando:"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-shell",children:"# Cria a tabela do fstab\ngenfstab -U -p /mnt >> /mnt/etc/fstab\n\n# mostra o conteudo da tabela fstab\ncat  /mnt/etc/fstab\n"})}),"\n",(0,l.jsx)(n.p,{children:"Esse \u201c-U\u201d ali \u201cno meio da turma\u201d \xe9 para que seja usados os IDs dos discos no FSTAB, ao inv\xe9s dos r\xf3tulos"}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h2,{id:"alterando-para-o-sistema-instalado",children:"Alterando para o sistema instalado"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-shell",children:"arch-chroot /mnt\n"})}),"\n",(0,l.jsx)(n.p,{children:"Uma vez logado no seu sistema (repare que o terminal mudou de apar\xeancia), tudo o que voc\xea fizer agora, ficar\xe1 em definitivo no seu Arch Linux."}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h2,{id:"alterando-a-data-e-hora",children:"Alterando a data e hora"}),"\n",(0,l.jsx)(n.p,{children:"Para alterar ajustar o fuso horario precisamos criar um link simbolivo"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-shell",children:"# ln -sf /usr/share/zoneinfo/Regi\xe3o/Cidade /etc/localtime\n\nEx:\nln -sf /usr/share/zoneinfo/America/Sao_Paulo /etc/localtime\n"})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Sincronizar o rel\xf3gio com as informa\xe7\xf5es da BIOS"}),"\n"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-shell",children:"hwclock --systohc\n"})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Validando"}),"\n"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-shell",children:"date\n"})}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h2,{id:"configurar-o-idioma-do-sistema",children:"Configurar o idioma do sistema"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Instalando o nano"}),"\n"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-shell",children:"pacman -S nano\n"})}),"\n",(0,l.jsx)(n.p,{children:"Para alterar para portugu\xeas"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"descomente a linha \u201cpt_BR.UTF-8 UTF-8\u201d"}),"\n"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-shell",children:"nano /etc/locale.gen\n"})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Gere o arquivo"}),"\n"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-shell",children:"locale-gen\n"})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Atualize a linguagem"}),"\n"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-shell",children:"echo LANG=pt_BR.UTF-8 >> /etc/locale.conf\n"})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Configure o teclado"}),"\n"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-shell",children:"echo KEYMAP=br-abnt2 >> /etc/vconsole.conf\n"})}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h2,{id:"configurar-sistema",children:"Configurar Sistema"}),"\n",(0,l.jsx)(n.h3,{id:"nome-da-maquina",children:"Nome da maquina"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Nome da maquina (Pode ser qualquer nome)"}),"\n"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-shell",children:"# coloquei uni_arch\nnano /etc/hostname\n"})}),"\n",(0,l.jsx)(n.p,{children:"Porem vc deve adicionalos na tabela hosts"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Atualizando tabela hosts"}),"\n"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-shell",children:"nano /etc/hosts\n\n# ADD\n127.0.0.1      localhost.localdomain            localhost\n::1            localhost.localdomain            localhost\n127.0.1.1      uni_arch.localdomain                uni_arch\n"})}),"\n",(0,l.jsx)(n.h3,{id:"senha-do-usuario-root",children:"senha do usuario root"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Digite o comando"}),"\n"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-shell",children:"passwd\n"})}),"\n",(0,l.jsx)(n.p,{children:"senha: unisenha"}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h3,{id:"criando-usuarios",children:"Criando usuarios"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Digite os comandos abaixo"}),"\n"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-shell",children:"# useradd -m -g users -G wheel nome_desejado_para_o_usuario\nuseradd -m -g users -G wheel uni_user\n"})}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h3,{id:"instalando-pacotes-uteis",children:"Instalando pacotes uteis"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Use o comando"}),"\n"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-shell",children:"# pacman -S dosfstools os-prober mtools network-manager-applet networkmanager wpa_supplicant wireless_tools dialog sudo\n\n# na vm\npacman -S dosfstools os-prober mtools  systemd-networkd, systemd-resolved iwd  sudo\n"})}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h3,{id:"adicionando-usuario-ao-sudores",children:"Adicionando usuario ao sudores"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"\xe9 preciso adicionar o seu usu\xe1rio dentro do arquivo \u201csudoers\u201d:"}),"\n"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-shell",children:"nano /etc/sudoers\n"})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Ao final do arquivo adicione \u201cUSER_NAME ALL=(ALL) ALL\u201d, por exemplo:"}),"\n"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-shell",children:"uni_user ALL=(ALL) ALL\n"})}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h2,{id:"configurando-a-o-grub---uefi",children:"Configurando a o GRUB - UEFI"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-shell",children:"pacman -S grub-efi-x86_64 efibootmgr\ngrub-install --target=x86_64-efi --efi-directory=/boot/efi --bootloader-id=arch_grub --recheck\ncp /usr/share/locale/en@quot/LC_MESSAGES/grub.mo /boot/grub/locale/en.mo\n"})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"E por fim, vamos gerar o arquivo de configura\xe7\xf5es do Boot:"}),"\n"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-shell",children:"grub-mkconfig -o /boot/grub/grub.cfg\n"})}),"\n",(0,l.jsx)(n.p,{children:"Chegamos ao final da instala\xe7\xe3o padr\xe3o, digite \u201cexit\u201d ou pressione \u201cCtrl+D\u201d e use o comando \u201creboot\u201d para reiniciar o computador, remova o pen drive da m\xe1quina."}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h1,{id:"instalando-aplica\xe7\xf5es",children:"Instalando aplica\xe7\xf5es"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Xorg"}),"\n"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-shell",children:"pacman -Sy\npacman -S xorg-server\n"})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Placa de video virtual box"}),"\n"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-shell",children:"pacman -S virtualbox-guest-utils virtualbox-guest-modules-arch mesa mesa-libgl\n"})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Gnome"}),"\n"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-shell",children:"pacman -S gnome gnome-terminal nautilus gnome-tweaks gnome-control-center gnome-backgrounds adwaita-icon-theme\npacman -S firefox \nsystemctl enable gdm\n"})}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h2,{id:"documenta\xe7\xe3o-1",children:"Documenta\xe7\xe3o"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.a,{href:"https://diolinux.com.br/linux/arch-linux/como-instalar-arch-linux-tutorial-iniciantes.html",children:"https://diolinux.com.br/linux/arch-linux/como-instalar-arch-linux-tutorial-iniciantes.html"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.a,{href:"https://wiki.archlinux.org/index.php/Installation_guide_%28Portugu%C3%AAs%29",title:"https://wiki.archlinux.org/index.php/Installation_guide_(Portugu%C3%AAs)",children:"https://wiki.archlinux.org/index.php/Installation_guide_(Portugu\xeas)"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.a,{href:"https://wiki.archlinux.org/index.php/General_recommendations_%28Portugu%C3%AAs%29",title:"https://wiki.archlinux.org/index.php/General_recommendations_(Portugu%C3%AAs)",children:"https://wiki.archlinux.org/index.php/General_recommendations_(Portugu\xeas)"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.a,{href:"https://wiki.archlinux.org/index.php/GRUB#Installation",children:"https://wiki.archlinux.org/index.php/GRUB#Installation"})}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,l.jsx)(n,{...e,children:(0,l.jsx)(t,{...e})}):t(e)}}}]);