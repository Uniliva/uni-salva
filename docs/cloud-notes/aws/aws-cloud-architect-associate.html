<!doctype html>
<html lang="pt-BR" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-cloud-notes/aws/aws-cloud-architect-associate/index" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.7.0">
<title data-rh="true">Architect Associate | Uniii docs</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://docs.uniii.com.br/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://docs.uniii.com.br/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://docs.uniii.com.br/docs/cloud-notes/aws/aws-cloud-architect-associate"><meta data-rh="true" property="og:locale" content="pt_BR"><meta data-rh="true" name="docusaurus_locale" content="pt-BR"><meta data-rh="true" name="docsearch:language" content="pt-BR"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Architect Associate | Uniii docs"><meta data-rh="true" name="description" content="Prova de certificação"><meta data-rh="true" property="og:description" content="Prova de certificação"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://docs.uniii.com.br/docs/cloud-notes/aws/aws-cloud-architect-associate"><link data-rh="true" rel="alternate" href="https://docs.uniii.com.br/docs/cloud-notes/aws/aws-cloud-architect-associate" hreflang="pt-BR"><link data-rh="true" rel="alternate" href="https://docs.uniii.com.br/docs/cloud-notes/aws/aws-cloud-architect-associate" hreflang="x-default"><link rel="stylesheet" href="/assets/css/styles.012ab6c4.css">
<script src="/assets/js/runtime~main.dc084c2f.js" defer="defer"></script>
<script src="/assets/js/main.3a4bc957.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const n=new URLSearchParams(window.location.search).entries();for(var[t,e]of n)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><link rel="preload" as="image" href="/img/logo.svg"><div role="region" aria-label="Pular para o conteúdo principal"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Pular para o conteúdo principal</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Alternar a barra de navegação" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.svg" alt="Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/img/logo.svg" alt="Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">Uniii Docs</b></a><a class="navbar__item navbar__link" href="/docs/developer-notes">Developer Notes</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/cloud-notes">Cloud Notes</a><a class="navbar__item navbar__link" href="/docs/devops-notes">DevOps Notes</a></div><div class="navbar__items navbar__items--right"><a href="https://www.linkedin.com/in/uniliva" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Linkedin<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><a href="https://github.com/Uniliva" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Alterar entre os modos claro e escuro (modo modo claro ativado)" aria-label="Alterar entre os modos claro e escuro (modo modo claro ativado)" aria-live="polite" aria-pressed="false"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Volte para o topo" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/cloud-notes">☁️ Cloud Notes</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" href="/docs/cloud-notes/aws/aws-cloud-develop-associate/certificacao">☁️ AWS Certifications</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/docs/cloud-notes/aws/aws-cloud-develop-associate/certificacao">Developer Associate</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/cloud-notes/aws/aws-cloud-architect-associate">Architect Associate</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/docs/cloud-notes/aws/aws-cloud-architect-professional/certificacao">Architect Professional</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/cloud-notes/aws/aws-advanced-architecting">Advanced Architecting on AWS</a></li></ul></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Página Inicial" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">☁️ AWS Certifications</span><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Architect Associate</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">Nessa página</button></div><div class="theme-doc-markdown markdown"><header><h1>Architect Associate</h1></header><h3 class="anchor anchorWithStickyNavbar_LWe7" id="prova-de-certificação">Prova de certificação<a href="#prova-de-certificação" class="hash-link" aria-label="Link direto para Prova de certificação" title="Link direto para Prova de certificação">​</a></h3>
<ul>
<li>Domínios</li>
</ul>
<table><thead><tr><th>Domínio</th><th>percentual</th></tr></thead><tbody><tr><td>Domínio 1: Design de arquiteturas resilientes</td><td>30%</td></tr><tr><td>Domínio 2: Design de arquiteturas de alta performance</td><td>28%</td></tr><tr><td>Domínio 3: Design de aplicações e arquiteturas seguras</td><td>24%</td></tr><tr><td>Domínio 4: Design de arquiteturas econômicas</td><td>18%</td></tr></tbody></table>
<ul>
<li>
<p>Tecnologias aws que podem vão cair na prova</p>
<ul>
<li>Computação</li>
<li>Gerenciamento de custos</li>
<li>Banco de dados</li>
<li>Recuperação de desastres</li>
<li>Alta disponibilidade</li>
<li>Gerenciamento e governança</li>
<li>Microsserviços e desacoplamento de componentes</li>
<li>Migração e transferência de dados</li>
<li>Redes, conectividade e entrega de conteúdo</li>
<li>Segurança</li>
<li>Princípios de design sem servidor</li>
<li>Armazenamento</li>
</ul>
</li>
<li>
<p>Serviços abordados</p>
</li>
</ul>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary> title=&quot;veja a lista completa&quot;  </summary><div><div class="collapsibleContent_i85q"><ul>
<li>Análises:<!-- -->
<ul>
<li>Amazon Athena</li>
<li>Amazon Elasticsearch Service (Amazon ES)</li>
<li>Amazon EMR</li>
<li>AWS Glue</li>
<li>Amazon Kinesis</li>
<li>Amazon QuickSight</li>
</ul>
</li>
<li>Gerenciamento de Faturamento e Custos da AWS<!-- -->
<ul>
<li>AWS Budgets</li>
<li>Cost Explorer</li>
</ul>
</li>
<li>Integração de aplicações:<!-- -->
<ul>
<li>Amazon Simple Notification Service (Amazon SNS)</li>
<li>Amazon Simple Queue Service (Amazon SQS)</li>
</ul>
</li>
<li>Computação:<!-- -->
<ul>
<li>Amazon EC2</li>
<li>AWS Elastic Beanstalk</li>
<li>Amazon Elastic Container Service (Amazon ECS)</li>
<li>Amazon Elastic Kubernetes Service (Amazon EKS)</li>
<li>Elastic Load Balancing</li>
<li>AWS Fargate</li>
<li>AWS Lambda</li>
</ul>
</li>
<li>Banco de dados:<!-- -->
<ul>
<li>Amazon Aurora</li>
<li>Amazon DynamoDB</li>
<li>Amazon ElastiCache</li>
<li>Amazon RDS</li>
<li>Amazon Redshift</li>
</ul>
</li>
<li>Gerenciamento e governança:<!-- -->
<ul>
<li>AWS Backup</li>
<li>AWS CloudFormation</li>
<li>AWS CloudTrail</li>
<li>Amazon CloudWatch</li>
<li>AWS Config</li>
<li>Amazon EventBridge (Amazon CloudWatch Events)</li>
<li>AWS Organizations</li>
<li>AWS Resource Access Manager</li>
<li>AWS Systems Manager</li>
<li>AWS Trusted Advisor</li>
</ul>
</li>
<li>Migração e transferência:<!-- -->
<ul>
<li>AWS Database Migration Service (AWS DMS)</li>
<li>AWS DataSync</li>
<li>AWS Migration Hub</li>
<li>AWS Server Migration Service (AWS SMS)</li>
<li>AWS Snowball</li>
<li>AWS Transfer Family</li>
</ul>
</li>
<li>Redes e entrega de conteúdo:<!-- -->
<ul>
<li>Amazon API Gateway</li>
<li>Amazon CloudFront</li>
<li>AWS Direct Connect</li>
<li>AWS Global Accelerator</li>
<li>Amazon Route 53</li>
<li>AWS Transit Gateway</li>
<li>Amazon VPC (e recursos associados)</li>
</ul>
</li>
<li>Segurança, identidade e conformidade:<!-- -->
<ul>
<li>AWS Certificate Manager (ACM)</li>
<li>AWS Directory Service</li>
<li>Amazon GuardDuty</li>
<li>AWS Identity and Access Management (IAM)</li>
<li>Amazon Inspector</li>
<li>AWS Key Management Service (AWS KMS)</li>
<li>Amazon Macie</li>
<li>AWS Secrets Manager</li>
<li>AWS Shield</li>
<li>AWS Single Sign-On</li>
<li>AWS WAF</li>
</ul>
</li>
<li>Armazenamento:<!-- -->
<ul>
<li>Amazon Elastic Block Store (Amazon EBS)</li>
<li>Amazon Elastic File System (Amazon EFS)</li>
<li>Amazon FSx</li>
<li>Amazon S3</li>
<li>Amazon S3 Glacier</li>
<li>AWS Storage Gateway<!-- -->
<ul>
<li>Architecting for the cloud: Best practices</li>
<li>AWS well architected Framework</li>
</ul>
</li>
</ul>
</li>
</ul></div></div></details>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="1---conceitos">1 - Conceitos<a href="#1---conceitos" class="hash-link" aria-label="Link direto para 1 - Conceitos" title="Link direto para 1 - Conceitos">​</a></h2>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="escalabilidade">Escalabilidade<a href="#escalabilidade" class="hash-link" aria-label="Link direto para Escalabilidade" title="Link direto para Escalabilidade">​</a></h3>
<p><img decoding="async" loading="lazy" alt="Escalabilidade" src="/assets/images/image-20210819052819070-022200909d1eae0d48ea969e8c12ef89.png" width="730" height="450" class="img_ev3q"></p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="alta-disponibilidade">Alta disponibilidade<a href="#alta-disponibilidade" class="hash-link" aria-label="Link direto para Alta disponibilidade" title="Link direto para Alta disponibilidade">​</a></h3>
<p>No caso do AWS, refere-se as multi AZs, que dão a segurança de que caso uma fique de fora, a outras ainda estarão disponível.
<img decoding="async" loading="lazy" alt="Alta disponibilidade" src="/assets/images/image-20210819053332013-2c20bb0d16711afe3d1107669085588d.png" width="600" height="250" class="img_ev3q"></p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="serverless">Serverless<a href="#serverless" class="hash-link" aria-label="Link direto para Serverless" title="Link direto para Serverless">​</a></h3>
<p><img decoding="async" loading="lazy" alt="serveless" src="/assets/images/image-20210903201544942-4f2b5d7f4ddb85f8c1c7d645baa3a70e.png" width="698" height="555" class="img_ev3q"></p>
<ul>
<li>A computação <strong>serverless</strong>, ou sem servidor, consiste em plataforma que permite aos usuários desenvolver, rodar e gerenciar aplicativos sem ter a preocupação de construir, provisionar e manter a infraestrutura necessária para o projeto.</li>
<li>SAM - <strong>Serveless aplication model</strong>
<ul>
<li>Framework para desenvolvimento e deploy de aplicações serveless.</li>
<li>Configurações são escritas em YAML.</li>
</ul>
</li>
<li>Serviços que são <strong>Serveles</strong> na AWS<!-- -->
<ul>
<li>SQS, SNS, Lambdas, Kinesis, DynamoDB, Cognito, S3, Aurora, Fargate ..</li>
</ul>
</li>
</ul>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="disaster-recovery-in-aws">Disaster Recovery in AWS<a href="#disaster-recovery-in-aws" class="hash-link" aria-label="Link direto para Disaster Recovery in AWS" title="Link direto para Disaster Recovery in AWS">​</a></h3>
<ul>
<li>DR é um modelo de arquitetura que visa prevenir desastres que possam afetar sua operação.</li>
<li>A ideia e &quot;ter uma copia de sua solução&quot; em uma região afastada, que seria &quot;acionada&quot; quando sua região principal ficasse fora.</li>
<li>Na <strong>AWS</strong> a ideia e semelhante, mas propõe que seus serviços e recurso sejam distribuído / replicados em mais de uma região.</li>
<li><strong>Tipos</strong>
<ul>
<li><strong>on-primeses -&gt; on-primeses</strong> -&gt; tem um datacenter em SP e outro em Fortaleza. -&gt; Solução bem cara de manter.</li>
<li><strong>on-primeses -&gt; AWS</strong> - uma estrutura Híbrida.</li>
<li><strong>AWS Região A -&gt; AWS Região B</strong> - Replica ou distribui os serviços e recurso em mais de uma região</li>
</ul>
</li>
<li><strong>Termos importante</strong>
<ul>
<li>RPO - Recover point objective - está relacionado com a frequência de backup.</li>
<li>RTO - Recover point objective - está relacionado a tempo de recuperação de desastre.
<img decoding="async" loading="lazy" alt="rpo-rto" src="/assets/images/image-20210909060015823-8592bd6f60bfbb5233025f2604b159c4.png" width="981" height="490" class="img_ev3q"></li>
</ul>
</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="estratégias-de-dr">Estratégias de DR<a href="#estratégias-de-dr" class="hash-link" aria-label="Link direto para Estratégias de DR" title="Link direto para Estratégias de DR">​</a></h4>
<p><img decoding="async" loading="lazy" alt="dr-estrategias" src="/assets/images/image-20210909061054824-5446a57eae4667517dea73bd60972769.png" width="632" height="174" class="img_ev3q"></p>
<ul>
<li><strong>Backup e Restore</strong>
​ <img decoding="async" loading="lazy" alt="bkp-restore" src="/assets/images/image-20210909061455821-5b117c87a492ecfc5b5b55459d68ef84.png" width="948" height="465" class="img_ev3q">
<ul>
<li>A ideia aqui e realizar backups com uma certa frequência (RPO) e quando dá um problema se recuperar os dados do backup (RTO).</li>
<li>Tem uma alta tempo de recuperação (alto RTO).</li>
<li>Muito barato comparado as outras.</li>
</ul>
</li>
<li><strong>Pilot Light</strong>
​ <img decoding="async" loading="lazy" alt="dr-pilot" src="/assets/images/image-20210909062035023-c6a4abf435ded54caa0e453fc3bd68eb.png" width="558" height="274" class="img_ev3q">
<ul>
<li>A ideia aqui é usar versões pequenas das aplicação (apenas para Apps Core) em outra regiões, e continuamente, sincronizar os dados entre elas. Caso ocorra um desastre seria só redirecionar os trafico para nova região e escalar a aplicação.</li>
</ul>
</li>
<li><strong>Warm standby</strong>
​ <img decoding="async" loading="lazy" alt="dr-warm-standby" src="/assets/images/image-20210909062340297-f450459592f6f6bf77627ca0d9ab9beb.png" width="718" height="332" class="img_ev3q">
<ul>
<li>A ideia aqui seria ter toda a infraestrutura replicada só que em escala menor, caso haja um desastre, se redirecionaria o trafico e escalava as aplicações.</li>
</ul>
</li>
<li><strong>hot site / multi site approach</strong>
<img decoding="async" loading="lazy" alt="hot-site" src="/assets/images/image-20210909062732217-c8c373b9f2f3693cd12103e59fe78fb6.png" width="604" height="337" class="img_ev3q">
<img decoding="async" loading="lazy" alt="DR-muilt-site" src="/assets/images/image-20210909062821953-f9f904da8fb3bc564e9b6ef97cafeac6.png" width="870" height="460" class="img_ev3q">
<ul>
<li>A ideia aqui e se ter as aplicações e recurso distribuídos entres as regiões, e os dados sincronizados assim se ocorrer um desastre o trafico seria redirecionado quase que instantaneamente.</li>
<li>Tem o menor tempo de recuperação (RTO), porém é uma solução mas cara.</li>
</ul>
</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="dicas">Dicas<a href="#dicas" class="hash-link" aria-label="Link direto para Dicas" title="Link direto para Dicas">​</a></h4>
<p><img decoding="async" loading="lazy" alt="dicas" src="/assets/images/image-20210909063130084-8ed24904e0f4baf2b7543646c7d403cf.png" width="595" height="396" class="img_ev3q"></p>
<hr>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="2---análises">2 - Análises:<a href="#2---análises" class="hash-link" aria-label="Link direto para 2 - Análises:" title="Link direto para 2 - Análises:">​</a></h2>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="aws-athena">AWS Athena<a href="#aws-athena" class="hash-link" aria-label="Link direto para AWS Athena" title="Link direto para AWS Athena">​</a></h3>
<ul>
<li>Serviço <strong>Serverless</strong>, que permite realizar analises em arquivos no S3.</li>
<li>Usa <strong>SQL</strong> para fazer queries nos arquivos.</li>
<li>Tem conetores <strong>JDBC</strong> e <strong>ODBC</strong> para conectar aplicativos de BI.</li>
<li>Suportar CVS, JSON, ORC, Avro ...</li>
<li>Cobrado por uso, queries executadas e mede de dados escaneados.</li>
<li>Pode ser usado em BI, Analitics, relatórios e analises de VPC Flow Logs, ELB Log ..</li>
<li>Ideal para queries rápidas ad hoc e se integrar com o AWS <strong>QuickSight</strong> para facilidade de visualização, ele também consegue lidar com análise complexa, inclusive grandes junções, funções de janela e arrays.</li>
<li>Usa o <a href="https://aws.amazon.com/pt/big-data/what-is-presto/" target="_blank" rel="noopener noreferrer">Presto</a> com suporte completo a SQL padrão.</li>
<li><strong>well architected</strong>
<img decoding="async" loading="lazy" alt="athena-well-arch" src="/assets/images/image-20210905115942523-98db3f02a1a855e4c54eeb4d62ddc31e.png" width="980" height="258" class="img_ev3q"></li>
</ul>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="aws-elasticsearch">AWS Elasticsearch<a href="#aws-elasticsearch" class="hash-link" aria-label="Link direto para AWS Elasticsearch" title="Link direto para AWS Elasticsearch">​</a></h3>
<ul>
<li>Usado para buscas de qualquer campo, muito usado em conjunto com aplicações big data.</li>
<li>Pode se disponibilizar um cluster com varias instâncias.</li>
<li>Tem integrações com <strong>Kinesis Data FireHose</strong>, AWS IoT, <strong>Cloud Watch Logs</strong>.</li>
<li>Seria o ELK stack da AWS.</li>
<li>Foi subsistido pelo <strong>OpenSearch Service</strong></li>
<li><strong>well architected</strong>
<img decoding="async" loading="lazy" alt="well-arch-search" src="/assets/images/image-20210905130015143-00ab75f1dee74ed0a18dbf5eb300e52d.png" width="1070" height="263" class="img_ev3q"></li>
</ul>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="aws-glue">AWS Glue<a href="#aws-glue" class="hash-link" aria-label="Link direto para AWS Glue" title="Link direto para AWS Glue">​</a></h3>
<ul>
<li>Serviço gerenciado de <strong>ETL</strong> (extract, tranform, and Load).</li>
<li>Serviço <strong>Serverless</strong>, possui 3 serviços:<!-- -->
<ul>
<li><strong>AWS Crawler</strong> - Os rastreadores (Crawler) e classificadores examinam dados de fontes diferentes, classificam dados, detectam informações de esquema e armazenam meta-dados automaticamente no AWS Glue Data Catalog.</li>
<li>**AWS ETL ** - O núcleo do programa ETL fornece geração de código Python ou Scala para limpeza, enriquecimento, remoção de duplicatas e outras tarefas complexas de transformação de dados.</li>
<li><strong>AWS Glue Data Catalog</strong> - fornece armazenamento centralizado e uniforme de meta-dados para rastreamento, consulta e transformação de dados usando meta-dados salvos.</li>
</ul>
</li>
<li>Permite extrair dados do <strong>S3</strong> ou <strong>RBDMS</strong> e transformar e enviar para o <strong>RedShift</strong>.
<img decoding="async" loading="lazy" alt="glue" src="/assets/images/image-20210905124633707-1f60d64d9e9bd67b20db92120d853c53.png" width="958" height="208" class="img_ev3q"></li>
<li>Pode ser usado com <strong>Athena</strong>, <strong>Redshift</strong>, <strong>EMR</strong> para se criar um catalogo de dados
(dataSet) reutilizável (GLUE Data catalog).
<img decoding="async" loading="lazy" alt="glue-catalog" src="/assets/images/image-20210905124749244-a410c3a169bf6244af524eeb01c0d736.png" width="985" height="503" class="img_ev3q"></li>
</ul>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="aws-kinesis">AWS Kinesis<a href="#aws-kinesis" class="hash-link" aria-label="Link direto para AWS Kinesis" title="Link direto para AWS Kinesis">​</a></h3>
<p><img decoding="async" loading="lazy" alt="Amazon Kinesis " src="/assets/images/product-page-diagram_Amazon-Kinesis_Evolve-from-batch-to-real-time-Analytics.d7ed76be304a30be5720fd159469f157e7c09ede-ef852ce70f4ce9e6e6e5b6d19e577edd.png" width="1770" height="429" class="img_ev3q"></p>
<ul>
<li>Facilita coletar e processar e analisar fluxos (<strong>steams</strong>) de dados em tempo real.</li>
<li>Opção ao <strong>kafka</strong> da AWS.</li>
<li>Tem se um produtor &gt; enviar um <strong>record</strong> &gt; <strong>kinesis data stream</strong> &gt; repassa o <strong>record</strong> &gt; ao consumidores.</li>
<li>O ordenação dos dados pode ser feita passando a mesma chave de partição, pois assim os dados serão enviado para o mesmo <strong>shard</strong>.
<img decoding="async" loading="lazy" alt="chave-partição" src="/assets/images/image-20210903061639616-8b152b9bb94e46b48a7c28d12a16ce81.png" width="544" height="325" class="img_ev3q"></li>
<li>Tipo de aplicação<!-- -->
<ul>
<li><strong>Kinesis Data streams</strong> - Captura, processa e armazena fluxos de dados.</li>
<li><strong>Kinesis Data Firehose</strong> - Carrega dados para armazenamentos no AWS.</li>
<li><strong>Kiness Data Analytics</strong> - Analisa fluxos de dados com SQL e Apache Flink.</li>
<li><strong>Kinesis vídeo streams</strong> - Capture, processa e guardar fluxo de dados de vídeos.</li>
</ul>
</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="kinesis-data-streams">Kinesis Data streams<a href="#kinesis-data-streams" class="hash-link" aria-label="Link direto para Kinesis Data streams" title="Link direto para Kinesis Data streams">​</a></h4>
<ul>
<li>Captura, processa e armazena fluxos de dados.<img decoding="async" loading="lazy" alt="data-streams" src="/assets/images/image-20210903054120413-e9d78829b9f93c7071084a34be19db8d.png" width="1086" height="479" class="img_ev3q"></li>
<li>É cobrado por <strong>shard</strong> provisionados.</li>
<li>Cada fragmento (<strong>shard</strong>) permite entrada de 1 MB/s e saída de dados de 2 MB/s.</li>
<li>Tem um período de retenção de 1 (padrão) a <strong>365</strong> dia.</li>
<li>Os dados não podem ser deletados (são imutáveis).</li>
<li><strong>Consumers</strong> - Kinesis client library (KCL) ou AWS SDK.</li>
<li><strong>Producer</strong> - Lambda, Kinesis data firehose, kinesis data analytics.</li>
<li>Pode ser usado como Streaming ETL que permitem que você limpe, aprimore, organize e transforme dados brutos antes de carregar seu data lake ou data warehouse em tempo real.</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="kinesis-data-firehose"><strong>Kinesis Data Firehose</strong><a href="#kinesis-data-firehose" class="hash-link" aria-label="Link direto para kinesis-data-firehose" title="Link direto para kinesis-data-firehose">​</a></h4>
<ul>
<li>Carrega dados para armazenamentos no AWS.
<img decoding="async" loading="lazy" alt="data-firehose" src="/assets/images/image-20210903055128503-0ec30b3812cfa59d30789bc6d12ee35e.png" width="1104" height="544" class="img_ev3q"></li>
<li>Serviço totalmente gerenciado pela AWS (Auto Scale, Serveless).</li>
<li>Pague apenas pelos dados processados.</li>
<li>Serviço próximo do <strong>tempo real.</strong></li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="kinesis-data-analytics"><strong>Kinesis Data Analytics</strong><a href="#kinesis-data-analytics" class="hash-link" aria-label="Link direto para kinesis-data-analytics" title="Link direto para kinesis-data-analytics">​</a></h4>
<ul>
<li>Analisa fluxos de dados com SQL e Apache Flink.
<img decoding="async" loading="lazy" alt="data-analytics" src="/assets/images/image-20210903055735875-bdd521507c961d69af5d4819dc31e7ad.png" width="1073" height="442" class="img_ev3q"></li>
<li>Executa os processos em tempo real.</li>
<li>Totalmente gerenciado pela AWS.</li>
<li>Pagos por <strong>volume</strong> de dados consumidos.</li>
<li>Permite criar fluxo consulta em tempo real.</li>
<li>Uso:<!-- -->
<ul>
<li>Analise de período de tempo.</li>
<li>Dashboard em tempo real.</li>
<li>Métricas em tempo real.</li>
</ul>
</li>
</ul>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="aws-quicksight">AWS QuickSight<a href="#aws-quicksight" class="hash-link" aria-label="Link direto para AWS QuickSight" title="Link direto para AWS QuickSight">​</a></h3>
<p>![Como o Amazon Quicksight funciona](assets/How QuickSight Works_without Q_final.026e51297c1fa18b850ce2ffc1575a9124bbad16.png)</p>
<ul>
<li>Serviço de inteligência comercial (BI) promovido por machine learning, escalável, sem servidor, incorporável, construído para a nuvem.</li>
<li>Permite que você crie e publique facilmente painéis interativos que incluem o Insights de Machine Learning.</li>
<li>é baseado no “SPICE”, um mecanismo de cálculo super-rápido e paralelo na memória</li>
</ul>
<hr>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="3---gerenciamento-de-faturamento-e-custos-da-aws">3 - Gerenciamento de Faturamento e Custos da AWS<a href="#3---gerenciamento-de-faturamento-e-custos-da-aws" class="hash-link" aria-label="Link direto para 3 - Gerenciamento de Faturamento e Custos da AWS" title="Link direto para 3 - Gerenciamento de Faturamento e Custos da AWS">​</a></h2>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="aws-budget">AWS Budget<a href="#aws-budget" class="hash-link" aria-label="Link direto para AWS Budget" title="Link direto para AWS Budget">​</a></h3>
<ul>
<li>Pode definir um orçamento que o alerte quando você exceder (ou estiver previsto para exceder) seu custo orçado ou valor de uso.</li>
<li>Usado para gerenciamento de custo antes de uma demanda, ou seja definir orçamento para determinada demanda.</li>
<li>Pode ser usado para saber quanto se usou daquele planejamento inicial.</li>
<li>Através das tags permite ver onde se está gastando seu dinheiro.</li>
<li>Pode gerar alarmes de gastos, enviar email, postar em tópicos <strong>SNS</strong> e configurar ações (Lambdas).</li>
<li>Pode criar até 20.000 orçamentos. (soft Limit)</li>
</ul>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="aws-cost-explorer">AWS Cost explorer<a href="#aws-cost-explorer" class="hash-link" aria-label="Link direto para AWS Cost explorer" title="Link direto para AWS Cost explorer">​</a></h3>
<p><img decoding="async" loading="lazy" alt="cost-explorer" src="/assets/images/image-20210911104942473-00dde27fb8552c460d25d0682d790571.png" width="685" height="370" class="img_ev3q"></p>
<ul>
<li>Serviço usado para ver, entender e gerenciar os gastos (com varias granularidade mês, ano , dia).</li>
<li>Permite que você explore seus custos e uso da AWS em um nível alto e detalhado de análise, e permite que você mergulhe mais fundo usando uma série de dimensões de filtragem (por exemplo, serviço da AWS, região, conta de membro, etc.)</li>
<li>Contem vários relatórios para analisar os gastos, e permite criar outros customizado.</li>
<li><strong>Quando devo usar o AWS Compute Optimizer e quando devo usar o AWS Cost Explorer</strong>?<!-- -->
<ul>
<li><strong>AWS Cost Explorer</strong> se quiser identificar instâncias do EC2 subutilizadas e quiser entender o impacto potencial em sua fatura.</li>
<li><strong>AWS Compute Optimizer</strong> se quiser ver as recomendações de tipo de instância além do downsizing. Faz o uso de aprendizado de máquina para identificar tipos de carga de trabalho e escolher automaticamente a metodologia de recomendação específica de carga de trabalho para eles.</li>
</ul>
</li>
</ul>
<hr>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="4---integração-de-aplicações">4 - Integração de aplicações<a href="#4---integração-de-aplicações" class="hash-link" aria-label="Link direto para 4 - Integração de aplicações" title="Link direto para 4 - Integração de aplicações">​</a></h2>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="amazon-amazon-sns">Amazon Amazon SNS<a href="#amazon-amazon-sns" class="hash-link" aria-label="Link direto para Amazon Amazon SNS" title="Link direto para Amazon Amazon SNS">​</a></h3>
<p><img decoding="async" loading="lazy" alt="Amazon SNS - SMS " src="/assets/images/aws-sns-222-88d45fa7187ef7e1b08324bc8d874009.png" width="1325" height="615" class="img_ev3q"></p>
<ul>
<li>Simple Notification Service.</li>
<li>Tem escopo regional. Gerenciado pela AWS.</li>
<li>Produtor -&gt; <strong>envia</strong> &gt; topico -&gt; <strong>envia</strong> &gt; assinante (pub/sub pattern).</li>
<li>O tópico da <strong>push</strong> na mensagem para os assinantes.</li>
<li>Usado quando se precisa notificar varios sistemas.</li>
<li>Cada tópico pode ter 10 milhões de assinantes.</li>
<li>Limite de 100000 tópicos. (soft Limit)</li>
<li>Não retem mensagems, após notificar o assinante é descartada.</li>
<li>Assinantes (http, email, lambda, mobile).</li>
<li><strong>Politica de acesso</strong>.<!-- -->
<ul>
<li>Permite definir uma política de quem pode enviar mensagens para o tópico.</li>
</ul>
</li>
<li><strong>Encriptação</strong>
<ul>
<li>Em transito vem habilitado por padrão (HTTPS).</li>
<li>A do lado do servidor, vem desabilitada, e caso habilite pode selecionar um CMK (<em>Chave mestra do cliente</em>).</li>
</ul>
</li>
<li><strong>SNS + SQS - Fan Out pattern</strong>
<ul>
<li>A ideia é usar um tópico SNS na frente de <strong>N</strong> fila para garantir que aquela mensagem possa se processado por <strong>N</strong> sistema, seja para evitar perda de dados ou por causas de serviços que só permitem notificar um único tópico (ex: <strong>S3 events</strong>).
<img decoding="async" loading="lazy" alt="fan out" src="/assets/images/image-20210902211203812-9fa8d0258ed0553ac21c34429721899e.png" width="908" height="253" class="img_ev3q"></li>
<li><strong>Message Filtering</strong> - permite filtrar as mensagem e notificar os assinantes de acordo com os filtros.
<img decoding="async" loading="lazy" alt="message-filter" src="/assets/images/image-20210902211615363-a26ec4f9637bca89c136724e4441609e.png" width="1053" height="358" class="img_ev3q"></li>
</ul>
</li>
</ul>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="amazon-sqs">Amazon SQS<a href="#amazon-sqs" class="hash-link" aria-label="Link direto para Amazon SQS" title="Link direto para Amazon SQS">​</a></h3>
<p><img decoding="async" loading="lazy" alt="SQS" src="/assets/images/5e3f44ce52788a4fb8b8432e4441bf3f-SQS-diagram-55fc40afe501ed4ed4ed864e9e624f04.svg" width="850" height="326" class="img_ev3q"></p>
<ul>
<li>Amazon Simple Queue Service.</li>
<li>Tem escopo regional. Gerenciado pela AWS.</li>
<li><code>Produtor -&gt; **envia** &gt; fila &lt; **recupera** &lt;- consumidor.</code></li>
<li>O consumidor da um <strong>pull</strong> na fila para recupera a mensagem.</li>
<li>Auto escalável vai de 1 mensagem por segundo a 10000 por segundo.</li>
<li>Retém as mensagem de 1 a 14 dias.</li>
<li>Não há limites de quantidade de mensagens na fila.</li>
<li>O consumidor deve deletar a mensagem, pois não há um delete após a leitura.</li>
<li>Mensagem de ate 254Kb de tamanho, é possível usar o S3 para guardar mensagem maiores.</li>
<li>Possível usar métrica da <strong>SQS</strong> para dispara o <strong>Auto Scaling Group</strong> via CloudWatch metrics (<strong>approximateNumerofMensages</strong>).</li>
<li><strong>Política de acesso</strong>.<!-- -->
<ul>
<li>Permite definir uma politica de quem pode enviar mensagens e consumir da fila.</li>
</ul>
</li>
<li><strong>Encriptação</strong>
<ul>
<li>Em transito vem habilitado por padrão (HTTPS).</li>
<li>A do lado do servidor, vem desabilitada, e caso habilite pode selecionar um CMK (<em>Chave mestra do cliente</em>)..</li>
</ul>
</li>
<li><strong>Message visibility timeout</strong>
<ul>
<li>Quando uma mensagem é recuperado por um consumidor, ela fica invisível para os outros, esse tempo que invisibilidade é definido por esse campo.</li>
<li>Caso seja necessário é possível mudar essa visibilidade via API do SDK.</li>
</ul>
</li>
<li><strong>Delay Queues</strong> - Permite definir uma atraso na <strong>disponibilização</strong> da mensagem para <strong>leitura</strong>.</li>
<li><strong>Dead letter queue</strong>
<ul>
<li>Fila onde pode ser enviada mensagens não processada, ou processadas com erro por varias vezes. Exemplo a mensagem foi processada 5 vezes sem sucesso, mova ela para <strong>DLQ</strong> para debbug futuro.</li>
</ul>
</li>
<li><strong>Request-Response System</strong>
<ul>
<li>Ao postar na fila, é informado um correlationID e a fila de retorno da reposta. Assim que for processar a mensagem devolver o resultado na fila de retorno.</li>
<li><img decoding="async" loading="lazy" alt="request-response-system" src="/assets/images/image-20210902210040788-b2df3254b315e3a5cd1a780b8d5fee91.png" width="1053" height="531" class="img_ev3q"></li>
</ul>
</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="sqs-x-sns-x-kinesis">SQS x SNS x Kinesis<a href="#sqs-x-sns-x-kinesis" class="hash-link" aria-label="Link direto para SQS x SNS x Kinesis" title="Link direto para SQS x SNS x Kinesis">​</a></h3>
<ul>
<li>Apesar se serem serviços de mensageira, há diferencia sobre o funcionamento deles.
<img decoding="async" loading="lazy" alt="SQS x SNS x Kinesis" src="/assets/images/image-20210903062441530-fcb72f02eee5662e623df8b3d964473e.png" width="1032" height="429" class="img_ev3q"></li>
</ul>
<hr>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="5---computação">5 - Computação<a href="#5---computação" class="hash-link" aria-label="Link direto para 5 - Computação" title="Link direto para 5 - Computação">​</a></h2>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="ec2">EC2<a href="#ec2" class="hash-link" aria-label="Link direto para EC2" title="Link direto para EC2">​</a></h3>
<ul>
<li>Elastic Compute cloud.</li>
<li>Maquinas nas nuvem que são possível usar sob demanda.</li>
<li>O Armazenamento e feito com:<!-- -->
<ul>
<li><strong>Network-attached:</strong>
<ul>
<li>EBS (Elastic block storage)</li>
</ul>
</li>
<li><strong>hardware</strong> (EC2 Instance Store)</li>
</ul>
</li>
<li>Tem que ter uma rede conectada.</li>
<li>Tem que um firewall (<strong>Security group</strong>).</li>
<li>Quando parado os dados de memorias são perdidos e os dados no volume <strong>EBS</strong> e mantido ate a próxima inicialização</li>
<li>Caso queira manter os dados de memoria salvo quando para use a opção de <strong>Hibernate</strong> (hibernar), que mantém em memoria os dados.</li>
<li>Quando destruído a instância os dados de memoria e do <strong>EBS</strong> principal são destruídos, mas é possível adicionar um segundo EBS ou marcar para preservar o default.</li>
<li><strong>EC2 Nitro</strong> - nova tecnologia de virtualização adotada pela AWS,<!-- -->
<ul>
<li>Melhora o uso da rede.</li>
<li>Melhora o <strong>IOPS</strong> (Input/output operations per second) dos armazenamento <strong>EBS</strong>.</li>
</ul>
</li>
<li><strong>EC2 vCPU</strong>
<ul>
<li>Uma CPU, seria um core de um processador, pode conter varias threads.</li>
<li>Uma vCPU seria cada uma dessas threads.</li>
<li>É possível especificar qual a configuração de vCPU você precisa, por exemplo para uma aplicação node que é single thead pode se definir 1 vCPU.</li>
</ul>
</li>
<li><strong>Placement Groups</strong> - Grupos de Posicionamento<!-- -->
<ul>
<li>Permite decide a estratégia posicionamento das instâncias EC2. ou seja onde vai ficar as instâncias de vai ser:<!-- -->
<ul>
<li><strong>Cluster</strong> - Todas ais instâncias ficam juntas, tem baixa latência, mas ficam numa única AZ. (alta performance, mas tem um alto risco).</li>
<li><strong>Spread</strong> - (espalhadas) As instâncias ficar espalhadas em servidores em diferentes AZ, com uma máximo de 7 por grupo por AZ. Usados em aplicações criticas.</li>
<li><strong>Partition</strong> - Similar ao <strong>Spread</strong>, mas as instâncias ficam espalhadas em diferentes partições (conjunto de Racks) numa AZ. Pode escalar para centenas de instâncias por grupo, usadas com o Hadoop, Kafka, Cassandra.
<img decoding="async" loading="lazy" alt="AWS - Placement Groups" src="/assets/images/placementgroups-bb99c8a77307afa9cfad107a27051b60.jpg" width="1257" height="683" class="img_ev3q"></li>
</ul>
</li>
</ul>
</li>
</ul>
<hr>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="tipos-de-instâncias">Tipos de instâncias<a href="#tipos-de-instâncias" class="hash-link" aria-label="Link direto para Tipos de instâncias" title="Link direto para Tipos de instâncias">​</a></h4>
<ul>
<li><a href="https://aws.amazon.com/pt/ec2/instance-types/" target="_blank" rel="noopener noreferrer">https://aws.amazon.com/pt/ec2/instance-types/</a>
<img decoding="async" loading="lazy" alt="Tipos de instancias" src="/assets/images/image-20210819053521220-4a7a3e34ab825b2f835e06173a94bdf3.png" width="1359" height="580" class="img_ev3q"></li>
</ul>
<hr>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="precificação">Precificação<a href="#precificação" class="hash-link" aria-label="Link direto para Precificação" title="Link direto para Precificação">​</a></h4>
<ul>
<li>
<p>Todas são pagas por <strong>horas</strong> ativas.</p>
</li>
<li>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="on-demand"><strong>on-demand</strong><a href="#on-demand" class="hash-link" aria-label="Link direto para on-demand" title="Link direto para on-demand">​</a></h5>
<ul>
<li>Não necessário contrato, só rodar quando necessário.</li>
<li>Recomendado para cargas de trabalho curtas, (dura 3 meses, ou 1 mês).</li>
</ul>
</li>
<li>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="reserved-instances"><strong>reserved Instances</strong><a href="#reserved-instances" class="hash-link" aria-label="Link direto para reserved-instances" title="Link direto para reserved-instances">​</a></h5>
<ul>
<li>Se faz um contrato de <strong>1 a 3 anos,</strong> se reduz o custo em ate <strong>75%.</strong></li>
<li>Recomendado para <strong>longas cargas de trabalho</strong>, exemplo banco de dados</li>
<li><strong>Tipos de reservas</strong>
<ul>
<li><strong>reserved Instances</strong> - onde se reserva um instância de um determinado tipo.</li>
<li><strong>convertible reserved instance</strong> - onde se reserva um instância e é possível alterar o tipo depois pode ter ate <strong>54% de desconto</strong>.</li>
<li><strong>scheduled reserved instance</strong> - exemplo - toda terça entre 20 a 22 horas</li>
</ul>
</li>
<li><strong>Tipos de pagamento</strong>
<ul>
<li><strong>NURI</strong> - no upfront payments - Nenhum pagamento adiantado - redução em ate <strong>32%.</strong></li>
<li><strong>PURI</strong> - partial up-front - Adiantado parcial - redução em ate <strong>42% .</strong></li>
<li><strong>AURI</strong> - All up-front - Tudo adiantado - redução em ate <strong>43%.</strong></li>
</ul>
</li>
</ul>
</li>
<li>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="spot-instances"><strong>spot instances</strong><a href="#spot-instances" class="hash-link" aria-label="Link direto para spot-instances" title="Link direto para spot-instances">​</a></h5>
<ul>
<li>Usado para aplicação <strong>Serveless</strong>, que podem ser <strong>paradas a qualquer momento</strong>, são maquinas que <strong>estão paradas na AWS</strong>, poder chegar ate 90% mais baratas. a desvantagens e que ela pode para a qualquer momento, quando quiser.</li>
<li>Não são recomendadas para aplicações que precisam de disponibilidades.</li>
<li>AWS pode interromper com uma notificação de 2 minutos.<!-- -->
<ul>
<li><strong>spot fleets</strong>
<ul>
<li>Conjuntos de <strong>spot instance</strong> (pool de tipo da maquina e em diferentes regiões), a fim de ter maior economia para executar as carga de trabalho. São configuradas para <em>manter</em> a capacidade alvo, iniciando instâncias de substituição após as Instâncias Spot na frota serem encerradas</li>
<li>Usados para aproveitar <strong>spot instances com baixo custo</strong>, pois o spot <strong>fleets</strong> pode automaticamente selecionar o conjunto mais barato para executar sua carga de trabalho.</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li>
<p><strong>dedicate host</strong></p>
<ul>
<li>Aluga-se um servidor físico, para demandas de compliance principalmente.</li>
<li>Aluga-se por ate 3 anos.</li>
<li>Mas caro tipo de instância.</li>
</ul>
</li>
<li>
<p><strong>Saving plan</strong></p>
<ul>
<li>Modelo de economia baseado no compromisso de uma quantidade de uso medido em horas num período de 1 ou 3 anos.</li>
<li>Economia de ate 66%, é flexível e não precisa se preocupar em gerenciar o custo por instância, apenas com a quantidade de horas usados nas cargas de trabalho</li>
</ul>
</li>
<li>
<p><strong>Capacity Reservation</strong></p>
<ul>
<li>Permite reserva instâncias por um período &quot;<strong>curto de tempo</strong>&quot;, sem precisar se comprometer com um plano de 1 ou 3 anos.</li>
<li>Usando por exemplo para reservar maquinas para a <strong>black friday.</strong></li>
<li>Pode ser combinado com o <strong>Salving plan.</strong></li>
</ul>
</li>
</ul>
<hr>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="vpc-virtual-private-cloud">VPC (Virtual Private Cloud)<a href="#vpc-virtual-private-cloud" class="hash-link" aria-label="Link direto para VPC (Virtual Private Cloud)" title="Link direto para VPC (Virtual Private Cloud)">​</a></h4>
<ul>
<li>Uma rede virtual dedicada à sua conta da AWS.</li>
<li>Não há custo adicional por usar a <strong>VPC</strong>. Há cobranças para alguns componentes da VPC, como NAT Gateways.
<img decoding="async" loading="lazy" alt="VPC (Virtual Private Cloud)" src="/assets/images/image-20210819053609626-3bd1ad850cfcf647ad89af08bed99832.png" width="1210" height="630" class="img_ev3q">
<img decoding="async" loading="lazy" alt="VPC (Virtual Private Cloud)" src="/assets/images/image-20210819053632802-d4539daaaa0d12072a5d458fcdab0448.png" width="1920" height="900" class="img_ev3q"></li>
</ul>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="eni---interface-de-rede-elástica">ENI - interface de rede elástica<a href="#eni---interface-de-rede-elástica" class="hash-link" aria-label="Link direto para ENI - interface de rede elástica" title="Link direto para ENI - interface de rede elástica">​</a></h5>
<ul>
<li>É um componente lógico de redes em uma <strong>VPC</strong> que representa uma placa de <strong>rede virtual</strong>.</li>
<li>É atachado como interface de rede no EC2.</li>
<li>Pode ser criado separado e depois se atachado a uma instância (exemplo de IP Estático para coletar métricas).</li>
<li>Tem escopo regional.
<img decoding="async" loading="lazy" alt="ENI - interface de rede elástica" src="/assets/images/image-20210819053719805-2d107bdc7f70da4b60897c7b0f9b784a.png" width="516" height="581" class="img_ev3q">
<img decoding="async" loading="lazy" alt="Movendo ENI" src="/assets/images/image-20210819053745468-c8e57123201d6ebf4ab2df7560c9c6b9.png" width="430" height="386" class="img_ev3q"></li>
</ul>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="security-group">Security Group<a href="#security-group" class="hash-link" aria-label="Link direto para Security Group" title="Link direto para Security Group">​</a></h5>
<ul>
<li>Firewall virtual para sua instância para <strong>controlar o tráfego</strong> de entrada e saída.</li>
<li>Fica restrito a uma <strong>VPC</strong>.</li>
<li>(Regras de acessos) por padrão vem negando tudo na entrada (inbound) e permitindo tudo na saída (outbound).</li>
<li>Realiza o controle de acesso em nível de <strong>instância</strong>, e não ao nível de sub rede.
<img decoding="async" loading="lazy" alt="Secure Group" src="/assets/images/image-20210819053823185-951b7897314050a4ebdc141a9b419fc7.png" width="1414" height="754" class="img_ev3q"></li>
<li><a href="https://docs.aws.amazon.com/vpc/latest/userguide/VPC_SecurityGroups.html" target="_blank" rel="noopener noreferrer">Amazon VPC - Security Groups</a></li>
</ul>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="subnet---sub-redes">Subnet - sub-redes<a href="#subnet---sub-redes" class="hash-link" aria-label="Link direto para Subnet - sub-redes" title="Link direto para Subnet - sub-redes">​</a></h5>
<ul>
<li>Bloco de rede dentro de uma <strong>VPC</strong>.</li>
<li>Quando se criar ele é privado por padrão.</li>
<li>Para se fazer ela publica, deve se atachar um <strong>Internet Gateway</strong> e adicionar uma <strong>tabela de rota</strong> para que tenha acesso ao internet.</li>
</ul>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="gateway-da-internet">Gateway da Internet<a href="#gateway-da-internet" class="hash-link" aria-label="Link direto para Gateway da Internet" title="Link direto para Gateway da Internet">​</a></h5>
<ul>
<li>É um <strong>Gateway</strong> que você anexa à <strong>VPC</strong> para permitir a comunicação entre recursos na VPC e a Internet.</li>
</ul>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="route-table">Route table<a href="#route-table" class="hash-link" aria-label="Link direto para Route table" title="Link direto para Route table">​</a></h5>
<ul>
<li>É usada para direcionar o tráfego de entrada / saída de uma sub-rede.</li>
<li>Ele contém vários CIDRs (intervalos de endereços IP) e para onde direcionar o tráfego apropriado.</li>
</ul>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="nacl">NACL<a href="#nacl" class="hash-link" aria-label="Link direto para NACL" title="Link direto para NACL">​</a></h5>
<ul>
<li>Network access control list.</li>
<li>Camada de segurança opcional para sua <strong>VPC</strong> que funciona como firewall para controlar o tráfego de entrada e saída de uma ou mais sub-redes.</li>
<li>É usada junto as <strong>subnets</strong>, por padrão já vem uma que libera todos os tráfegos de IPv4 / IPv6 de entrada e saída.</li>
<li>O comportamento padrão de uma <strong>ACL</strong> e negar tudo tanto na entrada quanto na saída.</li>
</ul>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="virtual-private-gateway-vgw">Virtual Private Gateway (VGW)<a href="#virtual-private-gateway-vgw" class="hash-link" aria-label="Link direto para Virtual Private Gateway (VGW)" title="Link direto para Virtual Private Gateway (VGW)">​</a></h5>
<ul>
<li>É um <strong>Gateway</strong> lógico criado dentro da AWS, e pode ser usado tanto para sua conexão via VPN ou DX (Direct Conect).</li>
</ul>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="aws-direct-connect">AWS Direct Connect<a href="#aws-direct-connect" class="hash-link" aria-label="Link direto para AWS Direct Connect" title="Link direto para AWS Direct Connect">​</a></h5>
<ul>
<li>Conexão dedicada, fibra que vai do seu datacenter ate a AWS.</li>
<li>o <strong>Direct Connect (DX)</strong> é um recurso que permite a conexão dedicada e direta com a AWS, fora da infraestrutura da Internet.</li>
</ul>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="elastic-ip">Elastic IP<a href="#elastic-ip" class="hash-link" aria-label="Link direto para Elastic IP" title="Link direto para Elastic IP">​</a></h5>
<ul>
<li>Permite solicitar um IPv4 publico.</li>
<li>Permite alocar um IP publico a uma instância ou sub-rede.</li>
<li>Tem um limite de 5 por região, porque IPv4 são limitados, e AWS coloca barreira obrigando a usar outras soluções.</li>
<li>Não será cobrado se você usar a maquina, porém se ela estiver parado você será cobrado.</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="ec2---metadados">EC2 - Metadados<a href="#ec2---metadados" class="hash-link" aria-label="Link direto para EC2 - Metadados" title="Link direto para EC2 - Metadados">​</a></h4>
<p>Acessando a API de meta-dados de EC2 e possível acessar informações sobre diversos dados usados pela instância apenas dando um <strong>curl 169.254.169.254/latest/meta-data</strong>.</p>
<ul>
<li>Possível recuperar informações de ID, hostaname e segurança da instância.</li>
<li><strong>Só é acessível de dentro da instância EC2</strong>, de dentro da <strong>AWS</strong>.</li>
</ul>
<hr>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="elastic-load-balancing">Elastic Load Balancing<a href="#elastic-load-balancing" class="hash-link" aria-label="Link direto para Elastic Load Balancing" title="Link direto para Elastic Load Balancing">​</a></h4>
<ul>
<li>Distribui o trafico entre as instâncias de EC2.</li>
<li>Usa o healh check para verificar o status da instâncias.</li>
<li>Cria um endpoint, para ser a única entrada de requisições.</li>
<li>Não gerencia sessões por padrão, existe uma <strong>feature</strong> chamada <strong>Stick session,</strong> que realiza isso, porém não é recomendado o uso, pois que controla o dados da sessão é a aplicação.</li>
<li>Serviço gerenciado pela AWS.</li>
<li>Pode ser configurado com <strong>privado</strong> ou <strong>publico</strong>.</li>
<li>Envia métricas para o CloudWatch.</li>
<li>Há 4 tipos de <strong>ELB</strong>:<!-- -->
<ul>
<li><strong>classic load balancer</strong> CLB -(v1 - old generation - 2009)<!-- -->
<ul>
<li>http, https e tcp.</li>
<li>Checa a saúde via endpoint da aplicação.</li>
<li>Necessário adicionar instâncias manualmente.</li>
</ul>
</li>
<li><strong>Application load balancer</strong> ALB (v2 - new generation - 2016)<!-- -->
<ul>
<li>http, htttps e webSocket. - Usa target group para agrupara as instâncias EC2.</li>
<li>Tem suporte a <strong>routinhg</strong> baseado em (<strong>listeners</strong>) sendo:<!-- -->
<ul>
<li><strong>Path</strong> ex:(uni.com/post &amp; uni.com/users).</li>
<li><strong>hostmane url</strong> (curriculo.uni.com e fotos.uni.com).</li>
<li><strong>query string</strong> (uni.com?id=123&amp;order=123).</li>
</ul>
</li>
<li>Usados bastante numa arquitetura de microserviços
<img decoding="async" loading="lazy" alt="Application load balancer" src="/assets/images/image-20210819053919782-059374aa81ef5af28a67f5476d7ab4de.png" width="1110" height="466" class="img_ev3q"></li>
</ul>
</li>
<li><strong>Gateway load balance</strong> GWLB - (v2 - 2020)</li>
<li><strong>Network load balancer</strong> NLB -(v2 - new generation - 2017)<!-- -->
<ul>
<li>tcp, tls (secure tcp) e udp.</li>
<li>Tem uma latência menor que o ALB ~ 100ms vs (400 ms do ALB).</li>
<li>Tem um IP estatico por AZ, é possível usar um Elastic IP.
<img decoding="async" loading="lazy" alt="Network load balancer" src="/assets/images/image-20210819053951068-9e54526072c67b583e2082579d1b2f70.png" width="1093" height="466" class="img_ev3q"></li>
</ul>
</li>
</ul>
</li>
</ul>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="target-groups">Target groups<a href="#target-groups" class="hash-link" aria-label="Link direto para Target groups" title="Link direto para Target groups">​</a></h5>
<ul>
<li>Agrupa as &quot;maquinas&quot; para onde o trafico será redirecionado.</li>
<li>Essas &quot;Maquinas&quot; podem ser instâncias EC2, servidores on-premisses linkados via IP e lambdas.</li>
<li>É responsável por checar a saúde das instâncias.</li>
</ul>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="stick-session">Stick session<a href="#stick-session" class="hash-link" aria-label="Link direto para Stick session" title="Link direto para Stick session">​</a></h5>
<ul>
<li>Permite que as requisições enviada as instâncias que já atenderam aquele cliente a fim de não perder os dados de sessão.</li>
<li>Tipos cookies que podem ser usados<!-- -->
<ul>
<li><strong>aplication-based cookies</strong>
<ul>
<li><strong>Custom cookie</strong>
<ul>
<li>Gerado pelo target.</li>
<li>Pode incluir diversos atributos.</li>
<li>Pode ter um nome individual por target group.</li>
<li>Não use os nomes AWSALB, AWSALBAPP, AWSALBBTG, pois são reservados.</li>
</ul>
</li>
<li><strong>application cookie</strong>
<ul>
<li>Gerados pelo load balancer.</li>
<li>Cookie name AWSALBAPP.</li>
</ul>
</li>
</ul>
</li>
<li><strong>duration-based cookies</strong>
<ul>
<li>Cookie gerados pelo load balance.</li>
<li>Tem uma duração especificada.</li>
<li>Tem os nomes AWSALB para ALB, AWSALBBTG para CLB.</li>
</ul>
</li>
</ul>
</li>
</ul>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="cross-zone-load-balance">Cross-Zone load balance<a href="#cross-zone-load-balance" class="hash-link" aria-label="Link direto para Cross-Zone load balance" title="Link direto para Cross-Zone load balance">​</a></h5>
<ul>
<li>Essa funcionalidade distribui o acesso igualmente pela quantidade de instâncias, independente de que zona ela esta, caso não habilitada será distribuído o trafico igualmente pela zonas de disponibilidade, e cada instância pode receber quantidade de trafico diferente.
<img decoding="async" loading="lazy" alt="Cross-Zone load balance" src="/assets/images/image-20210819054020911-0c06debe3c6e338a9f532ade72304881.png" width="1086" height="582" class="img_ev3q"></li>
<li>Configurações de disponibilidade
<img decoding="async" loading="lazy" alt="Configurações de disponibilidade" src="/assets/images/image-20210819054054427-5c39fbb1198c40de4ec8d35cff724c42.png" width="756" height="559" class="img_ev3q"></li>
</ul>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="ssl-certificates">SSL Certificates<a href="#ssl-certificates" class="hash-link" aria-label="Link direto para SSL Certificates" title="Link direto para SSL Certificates">​</a></h5>
<ul>
<li>Permite criptografar trafico entre cliente o <strong>load balance</strong> (in-flight encryption).</li>
<li>Hoje temos o SSL e o TLS (este é mais seguro que o SSL).</li>
<li><strong>CLB</strong> - apenas uma aplicação e apenas um certificado.</li>
<li><strong>ALB</strong> - suporta múltiplos <strong>listeners</strong> (entenda como app diferente) e múltiplos certificados e usa <strong>SNI</strong> (server name indication) para isso.</li>
<li><strong>NLB</strong> - suporta múltiplos <strong>listeners</strong> (entenda como app diferente) e múltiplos certificados usa <strong>SNI</strong> para isso.
<img decoding="async" loading="lazy" alt="LB SSL Certificates" src="/assets/images/image-20210819054122152-9163c02489d1fb3e5af466009792d724.png" width="1024" height="244" class="img_ev3q">
<img decoding="async" loading="lazy" alt="SNI" src="/assets/images/image-20210819054148720-2670a9bda932e48dea5bf218b3fb34e3.png" width="1149" height="514" class="img_ev3q"></li>
</ul>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="auto-scaling-group-alg">Auto Scaling group ALG<a href="#auto-scaling-group-alg" class="hash-link" aria-label="Link direto para Auto Scaling group ALG" title="Link direto para Auto Scaling group ALG">​</a></h5>
<ul>
<li>Permite aumentar a quantidade de <strong>EC2</strong> de acordo com a demanda, ou alarmes gerados pelo <strong>CloudWatch</strong> com base nas métricas ou eventos.</li>
<li>Não a cobrança, você só e cobrando pelas recursos (ec2, ebs ..) que são usados.<!-- -->
<ul>
<li><strong>Escabilidade</strong> - habilidade de escalar vertical e/ou horizontal.</li>
<li><strong>Elaticidades</strong> - Capacidade de escalar dinamicamente, através de alarmes ou métricas, ou reduzir as instâncias com a diminuição do volume de acesso, ou uso.</li>
<li><strong>Agilidade</strong> - Velocidade de se ter infraestrutura a toque de caixa.
<img decoding="async" loading="lazy" alt="Auto Scaling group" src="/assets/images/image-20210819054218858-5a05a009fc7078746e34d75e20ce1d19.png" width="1109" height="451" class="img_ev3q"></li>
</ul>
</li>
<li><strong>Composto pelo atributos</strong>
<ul>
<li>Uma <strong>configuração</strong> \ <strong>templates</strong> de lançamento (define o tipo de maquina/ armazenamento / Security Group / SSH key pair / User Data que será usada nas instância que seram criadas) .</li>
<li>Seta as capacidade mínimas e máximas (quantidade de instâncias).</li>
<li>Rede onde ira criar as instâncias.</li>
<li>Informações sobre o <strong>Load balance</strong> onde esta linkado.</li>
<li>Política de escalabilidade, que define quando ira escalar para cima ou para baixo.</li>
</ul>
</li>
<li><strong>Scaling polices</strong>
<ul>
<li>Política de escalabilidade, que define quando ira escalar para cima ou para baixo.<!-- -->
<ul>
<li><strong>Dynamic scaling police</strong>
<ul>
<li>É possível usar métricas geradas pelo <strong>CloudWatch</strong> para definir as políticas (como media de consume de CPU, ou quantidade de requisição).</li>
</ul>
</li>
<li><strong>Sheduled scaling police</strong>
<ul>
<li>É possível agendar para uma determinado período.</li>
</ul>
</li>
<li><strong>Preditive scaling police</strong>
<ul>
<li>É possível usa <strong>marchine learning</strong> (analise do uso anteriores) para criar uma previsão de escalabilidade.</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li><strong>Scaling cooldowns</strong> - tempo que deve ser esperado após ser lançada uma instância para validar se as métricas delas estão valida, ou se é preciso escalar.</li>
</ul>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="para-a-prova">Para a prova<a href="#para-a-prova" class="hash-link" aria-label="Link direto para Para a prova" title="Link direto para Para a prova">​</a></h5>
<ul>
<li>Existe uma política de encerramento no <strong>auto scaling group:</strong>
<ul>
<li>
<ol>
<li>Encontra a AZ com maior numero de instâncias.</li>
</ol>
</li>
<li>2 . Termina a que tiver o configuração de inicialização mais antiga.</li>
</ul>
</li>
<li>Ciclo de vida de uma instancia com o ASG
<img decoding="async" loading="lazy" alt="Ciclo de vida de uma instancia" src="/assets/images/image-20210819054243240-a7773d764ab484f1bc68264b0499b4ca.png" width="1124" height="566" class="img_ev3q"></li>
<li>Diferença entre Configuração de lançamento (Launch configuration) e templates de lançamento (Launch tempalte)<!-- -->
<ul>
<li><strong>Launch configuration</strong> é legado, devem ser <strong>recriado</strong> toda vez que se alterar algum atributo</li>
<li><strong>Launch tempalte</strong> é nova e:<!-- -->
<ul>
<li>Tem versionamento, que resolve o problema anterior.</li>
<li>Pode se cria subconjuntos de configurações que podem ser herdados por outros templates</li>
<li>Permite provisionar instâncias on-demand / spot instances ou um mix de ambos.</li>
</ul>
</li>
</ul>
</li>
</ul>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="aws-elastic-beanstalk">AWS Elastic Beanstalk<a href="#aws-elastic-beanstalk" class="hash-link" aria-label="Link direto para AWS Elastic Beanstalk" title="Link direto para AWS Elastic Beanstalk">​</a></h3>
<ul>
<li>Feito para o desenvolvedor, permite ter uma visão centralizada do ambiente de deployado.</li>
<li>Usados para aplicações web, ex: cria toa infraestrutura e só precisa passar o pacote que será usando. ex. (war para o tomcat).</li>
<li>Usa todos os componentes do AWS (ec2, S3 ..).</li>
<li>Seria uma PAAS.</li>
<li>O serviço do Beanstalk é gratis, o uso dele não é cobrado, apenas os <strong>componentes usados serão cobrados.</strong></li>
<li>É totalmente gerenciado pela AWS.</li>
<li>Usa como base o CouldFormation para criar os recursos.</li>
<li><strong>Componetes</strong>
<ul>
<li><strong>Aplicação</strong> - Aplicação em si.</li>
<li><strong>Versão da aplicação</strong> - define a versão da aplicação.</li>
<li><strong>Ambiente</strong> - Ambiente onde a aplicação pode ser disponibiliza. - Web tier - usa uma balanciador de cargas. - Worker tier - usa filas.
<img decoding="async" loading="lazy" alt="beanstalk" src="/assets/images/image-20210823060717977-2b5803a660079a1c5ea3cda79bed31f9.png" width="759" height="168" class="img_ev3q">
<img decoding="async" loading="lazy" alt="tiers" src="/assets/images/image-20210823060841556-412c9b89516deb8adde8cc70470ca209.png" width="1067" height="495" class="img_ev3q"></li>
</ul>
</li>
</ul>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="amazon-ecs">Amazon ECS<a href="#amazon-ecs" class="hash-link" aria-label="Link direto para Amazon ECS" title="Link direto para Amazon ECS">​</a></h3>
<ul>
<li>Elastic Container Service - <strong>Serviço de container proprietário da AWS.</strong></li>
<li>Você deve prover e manter a infraestrutura (instâncias EC2). Ou usa o <strong>Fargate</strong> que abstrai esse gerenciamento.</li>
<li>Não te tem custo, só paga as maquinas usadas (EC2, EBS ...).</li>
<li>Para se subir container, primeiro é necessário configurar uma <strong>ECS Task</strong>, ele descreve com será construido o container, seria algo semelhante como um arquivo <strong>docker-compose</strong>. E na Task que se define as políticas de acesso a recursos que a aplicação vai usar alem de rede e grupo de segurança.</li>
<li>As Task podem ser disparadas pelo <strong>Event Brigde</strong>, isso dispara a execução do ECS.
<img decoding="async" loading="lazy" alt="ecs" src="/assets/images/image-20210903065745303-f9333429fd8a3c5a39f5e66443fd2601.png" width="679" height="319" class="img_ev3q">
<img decoding="async" loading="lazy" alt="ecs-ec2" src="/assets/images/image-20210903070040856-478ebd6c67cda5c60749eb9e99f5337d.png" width="1005" height="551" class="img_ev3q">
<img decoding="async" loading="lazy" alt="ecs-fargate" src="/assets/images/image-20210903070257948-9c03c1ad4f0daab5e4b665d53e7d4d32.png" width="1020" height="546" class="img_ev3q"></li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="ec2-x-fargate">EC2 x Fargate<a href="#ec2-x-fargate" class="hash-link" aria-label="Link direto para EC2 x Fargate" title="Link direto para EC2 x Fargate">​</a></h4>
<p><img decoding="async" loading="lazy" alt="fagate_ec2" src="/assets/images/image-20210903074403137-43c3400c4426dee0aa81dcf19fcc7c02.png" width="647" height="464" class="img_ev3q">
<img decoding="async" loading="lazy" alt="ec2-fargate" src="/assets/images/image-20210903074442934-89b15bf6f45215c1621d3d87a1172b54.png" width="669" height="335" class="img_ev3q"></p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="amazon-eks">Amazon EKS<a href="#amazon-eks" class="hash-link" aria-label="Link direto para Amazon EKS" title="Link direto para Amazon EKS">​</a></h3>
<ul>
<li>Amazon Elastic Kubernetes Service.</li>
<li>Serviço de <strong>kubernetes</strong> totalmente gerenciado pela AWS.</li>
<li>Custo de <strong>$0,1</strong> por hora por cluster kubernete ($75$ por mês) mais os recurso (EC2, EBS).</li>
<li>Deploy complexo, requer uma pessoa que manja.</li>
<li>É Open source assim caso migre de nuvem terá mais facilidade no processo.</li>
<li>Usa o <strong>ECR</strong> para armazenar as imagens.
<img decoding="async" loading="lazy" alt="eks" src="/assets/images/image-20210903074736202-d8dffe48459feeddfdf07417d0f3cd8f.png" width="1059" height="537" class="img_ev3q"></li>
</ul>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="aws-lambda">AWS Lambda<a href="#aws-lambda" class="hash-link" aria-label="Link direto para AWS Lambda" title="Link direto para AWS Lambda">​</a></h3>
<ul>
<li>Trabalha com eventos.</li>
<li>Tem de <strong>128 MB</strong> ate <strong>10 GB</strong> de memoria que pode ser usado.</li>
<li>Tem escopo regional.</li>
<li>Pague por <strong>milissegundo</strong> usado para executar o código.</li>
<li><strong>Serveless</strong> (não tem servidor para se preocupar).</li>
<li>Se preocupe apenas com a aplicação não com a infraestrutura.</li>
<li>Necessário monitorar bem, pois toda a infraestrutura e liberada após o uso.</li>
<li>Provisiona servidores de acordo com as chamadas.</li>
<li>Altamente disponível e totalmente tolerante a falha.</li>
<li>Tempo de execução de ate <strong>15 minutos.</strong></li>
<li>Cobrado de 100 em 100 milissegundos de uso.</li>
<li>Faz escalonamento horizontal e pode ter <strong>ate 999 execução simultâneas.</strong></li>
<li>Limitações<!-- -->
<ul>
<li><strong>Execução</strong>
<ul>
<li>Alocação de memoria - 128MB - 10GB.</li>
<li>Tempo de execução - ate 15 minutos.</li>
<li>Variáveis de ambiente - ate 4KB.</li>
<li>Espaço em disco (no container do Lambda) - 512 MB.</li>
<li>Execuções simultâneas da mesma lambda - 1000 (Pode ser alterado com solicitação).</li>
</ul>
</li>
<li><strong>Deploy</strong>
<ul>
<li>Tamanho do pacote zippado com a função lambda - 50MB.</li>
<li>Tamanho do pacote com a função lambda - 250MB.</li>
</ul>
</li>
</ul>
</li>
<li>Lambdas@Edge<!-- -->
<ul>
<li>É possível executar Lambdas em ponto de presenças, para auxiliar itens relacionados ao CDN , Route 53 ....
<img decoding="async" loading="lazy" alt="lambda@edge" src="/assets/images/image-20210903204606738-03351d44099666a21f5c97f00355f7d7.png" width="1003" height="316" class="img_ev3q"></li>
</ul>
</li>
</ul>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="aws-step-functions">AWS Step Functions<a href="#aws-step-functions" class="hash-link" aria-label="Link direto para AWS Step Functions" title="Link direto para AWS Step Functions">​</a></h3>
<p><img decoding="async" loading="lazy" alt="step-function" src="/assets/images/image-20210911102112816-79ebff01a9d5b08b8df851af25563ec6.png" width="545" height="314" class="img_ev3q"></p>
<ul>
<li>Permite criar uma <strong>workflow</strong> para orquestrar <strong>Lambdas functions</strong>.</li>
<li>O Fluxo (flow) é representado o com <strong>maquina de estado Json.</strong></li>
<li>Pode configurar para executar lambda sequencialmente, paralelas, com condições, e timeouts ..</li>
<li>O workflow pode ser executado por no máximo 1 ano, após isso é necessário aprovar por mais 1 ano.</li>
</ul>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="aws-swf---simples-workflow-service">AWS SWF - Simples Workflow Service<a href="#aws-swf---simples-workflow-service" class="hash-link" aria-label="Link direto para AWS SWF - Simples Workflow Service" title="Link direto para AWS SWF - Simples Workflow Service">​</a></h3>
<p><img decoding="async" loading="lazy" alt="AWS Flow Framework Basic Concepts: Application Structure - AWS Flow  Framework for Java" src="/assets/images/swf-application-model-7e2c5ed53777549917437cd0e4d2bebc.png" width="518" height="505" class="img_ev3q"></p>
<ul>
<li>Maneira antiga de orquestrar um grande fluxo de trabalho.</li>
<li>Semelhante a Step Function, porém roda em EC2.</li>
<li>Recomendado apenas para quando se precisar de:<!-- -->
<ul>
<li>Sinais externos para interferir no processo.</li>
<li>Quando um processo filho precisar retornar valor ao processo pai.</li>
</ul>
</li>
</ul>
<hr>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="6---banco-de-dados">6 - Banco de dados<a href="#6---banco-de-dados" class="hash-link" aria-label="Link direto para 6 - Banco de dados" title="Link direto para 6 - Banco de dados">​</a></h2>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="rds">RDS<a href="#rds" class="hash-link" aria-label="Link direto para RDS" title="Link direto para RDS">​</a></h3>
<p>Serviço de banco de dados relacional da AWS.</p>
<ul>
<li>Escala automaticamente em minutos.</li>
<li>Serviço totalmente gerenciado pela AWS.<!-- -->
<ul>
<li>Provisiona SO, faz os bkpd e restores, monitora desempenho, faz manutenção.</li>
<li>Usa armazenamento do tipo EBS (gp2 ou io1).</li>
<li>Não temos acesso ao <strong>SSH</strong> da maquina onde esta o banco.</li>
</ul>
</li>
<li>Permite criptografia.</li>
<li>Replica em mais de uma AZ, para segurança.</li>
<li>Permite replicas de leitura (<strong>read replicas</strong>) para melhorar a performance.</li>
<li><strong>Tipos</strong>
<ul>
<li><strong>Postgres</strong></li>
<li><strong>Mysql</strong></li>
<li><strong>MariaDB</strong></li>
<li><strong>Oracle</strong></li>
<li><strong>Aurora</strong></li>
</ul>
</li>
<li><strong>Pilares da well architecture</strong>
<img decoding="async" loading="lazy" alt="well-arch" src="/assets/images/image-20210905112316072-6073c87ca8c4589897b3c2bc42fbbdd6.png" width="1040" height="398" class="img_ev3q"></li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="aurora">Aurora<a href="#aurora" class="hash-link" aria-label="Link direto para Aurora" title="Link direto para Aurora">​</a></h4>
<ul>
<li>DB proprietário da AWS.</li>
<li>5 vezes mais performatico que o <strong>mysql.</strong></li>
<li>3 vezes mais performatico que o <strong>postgres</strong>.</li>
<li>Serviço de escopo regional, porém é possível usar em multi regiões podendo criar uma instalação o global, mas o que será uma <strong>master</strong> numa região e replicas de leituras nas outras.</li>
<li>Faz replicação (6 copias) em 3 AZ.</li>
<li>Pode se adicionar ate 15 replica de leituras, para melhorar o uso.</li>
<li>Tem a opção serveless, não se preocupando com gerenciamento.</li>
<li>Cresce de 10GB em 10GB podendo chegar ate 64TB de dados.</li>
<li>20% mais barato que o RDS comum.</li>
<li><img decoding="async" loading="lazy" alt="aurora" src="/assets/images/image-20210819082549024-8a67d08d3a7e5482c66a4393f48395b5.png" width="1132" height="447" class="img_ev3q"></li>
<li><img decoding="async" loading="lazy" alt="aurora-cluster" src="/assets/images/image-20210819082823818-7d83654f53b76145cdec655fbf8f6222.png" width="1017" height="503" class="img_ev3q"></li>
</ul>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="auroral---well-architected">Auroral - well architected<a href="#auroral---well-architected" class="hash-link" aria-label="Link direto para Auroral - well architected" title="Link direto para Auroral - well architected">​</a></h5>
<p><img decoding="async" loading="lazy" alt="aurora-well-arch" src="/assets/images/image-20210905112856784-12b50b5fe2beda4c6e06fa7fd44fd0b8.png" width="1048" height="389" class="img_ev3q"></p>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="conceitos-avançados-aurora">Conceitos avançados aurora<a href="#conceitos-avançados-aurora" class="hash-link" aria-label="Link direto para Conceitos avançados aurora" title="Link direto para Conceitos avançados aurora">​</a></h5>
<h6 class="anchor anchorWithStickyNavbar_LWe7" id="aurora-replica---auto-scaling">Aurora Replica - auto scaling<a href="#aurora-replica---auto-scaling" class="hash-link" aria-label="Link direto para Aurora Replica - auto scaling" title="Link direto para Aurora Replica - auto scaling">​</a></h6>
<p><img decoding="async" loading="lazy" alt="aurora-auto scaling" src="/assets/images/image-20210819084400925-291afea94e77621323a3791c77e8d761.png" width="1016" height="569" class="img_ev3q"></p>
<h6 class="anchor anchorWithStickyNavbar_LWe7" id="custom-endpoints">Custom endpoints<a href="#custom-endpoints" class="hash-link" aria-label="Link direto para Custom endpoints" title="Link direto para Custom endpoints">​</a></h6>
<p><img decoding="async" loading="lazy" alt="custom-endpoint" src="/assets/images/image-20210819084618981-2accd26f7f28f4d5b3cb056a18b7297e.png" width="1053" height="609" class="img_ev3q"></p>
<h6 class="anchor anchorWithStickyNavbar_LWe7" id="serveless">Serveless<a href="#serveless" class="hash-link" aria-label="Link direto para Serveless" title="Link direto para Serveless">​</a></h6>
<ul>
<li>Scala automaticamente o banco de acordo com o uso.</li>
<li>Bom para carga de trabalho que não são muito frequente.</li>
<li>Não e necessário planejar, pois ele auto escala para atender a demanda.</li>
<li>Pago por segundo de uso.</li>
</ul>
<h6 class="anchor anchorWithStickyNavbar_LWe7" id="multi-master">Multi Master<a href="#multi-master" class="hash-link" aria-label="Link direto para Multi Master" title="Link direto para Multi Master">​</a></h6>
<ul>
<li>Caso queira alta disponibilidade, nesse caso caso haja falha, todos os nós de leitura passa a escrever também.</li>
<li><img decoding="async" loading="lazy" alt="multi-master" src="/assets/images/image-20210819085334494-797dba46e77a1701a86b31358a701d8c.png" width="1023" height="474" class="img_ev3q"></li>
</ul>
<h6 class="anchor anchorWithStickyNavbar_LWe7" id="global-aurora">Global aurora<a href="#global-aurora" class="hash-link" aria-label="Link direto para Global aurora" title="Link direto para Global aurora">​</a></h6>
<ul>
<li><strong>Cross region read</strong> replica - útil para desastre <strong>recover</strong> .</li>
<li>Global database<!-- -->
<ul>
<li>Se tem 1 região primaria (read/write) e 5 outras regioões segundarias, com replicação de menor que 1 segundo.</li>
<li>há 16 replicas de leitura por região segundaria.</li>
<li>Caso de desastre, promove-se outra região como primaria em menos de 1 minuto.</li>
<li><img decoding="async" loading="lazy" alt="global" src="/assets/images/image-20210819085935598-180bc8c6a9140717e68f84f307240b3f.png" width="327" height="559" class="img_ev3q"></li>
</ul>
</li>
</ul>
<h6 class="anchor anchorWithStickyNavbar_LWe7" id="marchine-learning">Marchine Learning<a href="#marchine-learning" class="hash-link" aria-label="Link direto para Marchine Learning" title="Link direto para Marchine Learning">​</a></h6>
<ul>
<li>Aurora permite usar <strong>marchine learning</strong> nos dados através de interação com os serviços <strong>Amazon SageMaker</strong> e <strong>Amazon comprehand</strong>.</li>
<li>Não há necessidade de ter experiência em <strong>marchine learning</strong> para usar essa funcionalidade.</li>
<li>Caso de uso:<!-- -->
<ul>
<li>Deteção de fraude, propaganda localizada, recomendação de produtos.
<img decoding="async" loading="lazy" alt="aurora-ml" src="/assets/images/image-20210819091225067-5cd0a662d99aeaf2ce9637a9fc137888.png" width="442" height="496" class="img_ev3q"></li>
</ul>
</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="backups">Backups<a href="#backups" class="hash-link" aria-label="Link direto para Backups" title="Link direto para Backups">​</a></h4>
<ul>
<li>São habilitado automaticamente no RDS.</li>
<li>São realizados automaticamente.<!-- -->
<ul>
<li>Backup diário.</li>
<li>Logs de transações são feito backup a cada 5 minutos, o que permite que seja restaurado a qualquer ponto de 5 em 5 minutos.</li>
</ul>
</li>
<li>Tem uma retenção default de <strong>7</strong> dias, que pode ser estendido para <strong>35</strong> dias.</li>
<li>Também é possível realizar snapshot do banco <strong>(db snapshot)</strong>.<!-- -->
<ul>
<li>Isso permite uma maior tempo de retenção.</li>
</ul>
</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="storage-auto-scale">Storage auto scale<a href="#storage-auto-scale" class="hash-link" aria-label="Link direto para Storage auto scale" title="Link direto para Storage auto scale">​</a></h4>
<p>Quando se cria um bando no RDS se passa quando ele deve ter, com essa funcionalidade ele aumenta o tamanho da banco ao se aproximar de limite de uso do espaço.</p>
<ul>
<li>Ajuda a aumentar o armazenamento dinamicamente. Quando detetado que esta próximo do limite.</li>
<li>Necessário setar um <em>threshold</em> de limite máximo de alocação de armazenamento.</li>
<li>Automaticamente modifica o armazenamento se:<!-- -->
<ul>
<li>Tiver menos que <strong>10%</strong> de armazenamento alocado.</li>
</ul>
</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="read-replicas">Read replicas<a href="#read-replicas" class="hash-link" aria-label="Link direto para Read replicas" title="Link direto para Read replicas">​</a></h4>
<ul>
<li>Ajusta a escalar na leitura dos dados do banco.</li>
<li>Podem ser criada em:<!-- -->
<ul>
<li>Na mesma <strong>AZ</strong> onde esta o banco..</li>
<li>Em outra <strong>AZ</strong>.</li>
<li>Em outra <strong>Região</strong>.</li>
</ul>
</li>
<li>Após criado, é realizado replicação dos dados de forma assíncrona <strong>( por isso a consistência eventual)</strong></li>
</ul>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="caso-de-uso">Caso de uso<a href="#caso-de-uso" class="hash-link" aria-label="Link direto para Caso de uso" title="Link direto para Caso de uso">​</a></h5>
<ul>
<li>Imagine que se tenha uma aplicação em produção que armazena informação num banco, ai surgi outra aplicação que gera relatório, e que ler varia tabelas, nesse cenário se cria uma replica só de leitura para essa nova aplicação
<img decoding="async" loading="lazy" alt="read-replicas" src="/assets/images/image-20210819064416702-45bf76a0ea98f9380a4be622a661e0d8.png" width="529" height="500" class="img_ev3q"></li>
</ul>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="precificação-1">Precificação<a href="#precificação-1" class="hash-link" aria-label="Link direto para Precificação" title="Link direto para Precificação">​</a></h5>
<ul>
<li>Custo de rede (replicação).<!-- -->
<ul>
<li>Não há se a replica estiver na mesma região.</li>
<li>Caso seja em regiões diferentes há um custo adicional de transferência
<img decoding="async" loading="lazy" alt="price" src="/assets/images/image-20210819064819009-274bbd42b42de58891d1d55f79f0ade6.png" width="1622" height="542" class="img_ev3q"></li>
</ul>
</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="multi-az-disastre-recover">Multi AZ (disastre recover)<a href="#multi-az-disastre-recover" class="hash-link" aria-label="Link direto para Multi AZ (disastre recover)" title="Link direto para Multi AZ (disastre recover)">​</a></h4>
<ul>
<li>E criado uma replica do banco de dados em outra <strong>AZ</strong>, e os dados são sincronizados.</li>
<li>E gerado um único <strong>DNS name</strong> para apontar para o banco tido com &quot;master&quot;.</li>
<li>Caso falha ele auto eleva o outro para &quot;<strong>master</strong>&quot; e não e necessário intervenção manual.</li>
<li>Não é usado para escalar, apenas como medida de <strong>disastre recover.</strong></li>
<li>Caso já tenha um banco que seja <strong>Single AZ</strong> e queira converte-lo para <strong>multi AZ</strong>, será criado por debaixo dos panos um snapshot do banco, que será restaurado no novo banco em outra AZ, e então iniciara o processo de sincronização entre os bancos.
<img decoding="async" loading="lazy" alt="new db multi az" src="/assets/images/image-20210819065600206-d682b2b3deb2bf591501f90003ca496b.png" width="809" height="753" class="img_ev3q"></li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="encryption">Encryption<a href="#encryption" class="hash-link" aria-label="Link direto para Encryption" title="Link direto para Encryption">​</a></h4>
<ul>
<li>Para encriptação em repouso.<!-- -->
<ul>
<li>Tanto do <strong>master</strong> quanto das replicas de leitura com <strong>AWS KMS - AES-256</strong>.</li>
<li>Define a encriptação durante a criação, se o <strong>master</strong> não for encriptado as <strong>replicas de leitura</strong> não poderão ser.</li>
<li>Para Oracle e SQL Server há o <strong>TDE</strong> (Trasparent Data Encryption) que é outra maneira de fazer a encriptação do banco.</li>
</ul>
</li>
<li>Para encriptação de a bordo (in-flight / durante as transferência).<!-- -->
<ul>
<li>Pode se usar certificados SSL para realizar a encriptação.</li>
</ul>
</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="autenticação">Autenticação<a href="#autenticação" class="hash-link" aria-label="Link direto para Autenticação" title="Link direto para Autenticação">​</a></h4>
<ul>
<li>Pode ser feita usando usurário e senha.</li>
<li>Para os bancos postgres, aurora e mysql, ha a opção de <strong>IAM Autetication</strong> que gera um token para se acessar o banco.<!-- -->
<ul>
<li>Centraliza os usuários, controla acesso via roles.</li>
<li>Todo o trafico seria feito usando SSL.
<img decoding="async" loading="lazy" alt="iam-autatication-rds" src="/assets/images/image-20210819081821387-d7d4b69953c7119e611219bfcd76b5e9.png" width="470" height="508" class="img_ev3q"></li>
</ul>
</li>
</ul>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="elasticache">ElastiCache<a href="#elasticache" class="hash-link" aria-label="Link direto para ElastiCache" title="Link direto para ElastiCache">​</a></h3>
<ul>
<li>Banco de dados em memoria, Redis o MemCached.</li>
<li>Serviço gerenciado pela AWS.</li>
<li>Caso de uso:<!-- -->
<ul>
<li>Pode ser usado como cache do banco de dado, para aliviar o acesso ao RDS.</li>
<li>Pode ser usado para guarda dados de sessão do usuário, permitindo assim criar aplicações sem estado (aplication <strong>stateless</strong>)</li>
</ul>
</li>
<li><strong>well architected</strong>
<img decoding="async" loading="lazy" alt="elastic-cache-well-arch" src="/assets/images/image-20210905113428849-aa538547b1d62898af39c0d9cc592241.png" width="1041" height="340" class="img_ev3q"></li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="redis">Redis<a href="#redis" class="hash-link" aria-label="Link direto para Redis" title="Link direto para Redis">​</a></h4>
<ul>
<li>Deploy em multi AZ.</li>
<li>Tem replicas de leitura para escalar a leitura, tem alta disponibilidade.</li>
<li>Persiste os dados, o que permite realizar <strong>restores features</strong>.</li>
<li>Permite encriptar os dados em:<!-- -->
<ul>
<li>Repouso com KMS.</li>
<li>Em transito com Redis AUTH.
<img decoding="async" loading="lazy" alt="redis" src="/assets/images/image-20210820053524603-643d0be93fb7329f89e0db470f7769b5.png" width="387" height="103" class="img_ev3q"></li>
</ul>
</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="mencached">MenCached<a href="#mencached" class="hash-link" aria-label="Link direto para MenCached" title="Link direto para MenCached">​</a></h4>
<ul>
<li>Multi node para partição dos dados (compartimento - Sharding)</li>
<li>Não tem alta disponibilidade (replicação).</li>
<li>Não persiste dados e não tem backups.</li>
<li>Usa arquitetura de multi-thead.
<img decoding="async" loading="lazy" alt="mancached" src="/assets/images/image-20210820053825076-e27ee72a18b2fc283bed3a2e33f0ecc0.png" width="371" height="126" class="img_ev3q"></li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="comparação">Comparação<a href="#comparação" class="hash-link" aria-label="Link direto para Comparação" title="Link direto para Comparação">​</a></h4>
<p><img decoding="async" loading="lazy" alt="comparação" src="/assets/images/image-20210820054422264-56a92c111f82682d7c798c15df49eaa4.png" width="620" height="458" class="img_ev3q"></p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="para-prova">Para Prova<a href="#para-prova" class="hash-link" aria-label="Link direto para Para Prova" title="Link direto para Para Prova">​</a></h4>
<ul>
<li>Caches no <strong>ElastiCach</strong>:<!-- -->
<ul>
<li>Não suportam autenticação com IAM.</li>
<li>As políticas criada usando IAM, só são usadas em nível de API AWS, não do banco em si.</li>
</ul>
</li>
<li>Autenticação:<!-- -->
<ul>
<li><strong>Redis</strong>
<ul>
<li>Usa se o Redis Auth, onde se cria uma token de acesso quando se cria o cluster.</li>
<li>Isso e algo a mais, pois a segurança mesmo deve ser feita usando <strong>Security Groups.</strong></li>
<li>Permite usar <strong>SSL</strong> para os dados em transito.
<img decoding="async" loading="lazy" alt="redis-access" src="/assets/images/image-20210820055640021-04e5fe0879401ca5f7fe00adb5968d09.png" width="348" height="472" class="img_ev3q"></li>
</ul>
</li>
<li><strong>MemCached</strong>
<ul>
<li>Suporta autenticação baseada em SASL.</li>
<li>Lazy load feature
<img decoding="async" loading="lazy" alt="lazy-load" src="/assets/images/image-20210820055934511-22bc79712d8958936acab1d44bf2e75e.png" width="700" height="476" class="img_ev3q"></li>
</ul>
</li>
</ul>
</li>
</ul>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="dynamodb">DynamoDB<a href="#dynamodb" class="hash-link" aria-label="Link direto para DynamoDB" title="Link direto para DynamoDB">​</a></h3>
<ul>
<li>NoSql do tipo chave e valor.</li>
<li>Alto volume de dados.</li>
<li>Escala horizontalmente automaticamente de acordo com numero de requisição.</li>
<li>Permite usar o DAX (DynamoDB Accelarator) para melhorar o IO para milissegundos.<!-- -->
<ul>
<li>Cachea registo muito acessado, por 5 minutos (TTL)</li>
</ul>
</li>
<li>Replica em 3 AZ (Zona de disponibilidade).</li>
<li>Tem um scopo regional.</li>
<li>Responde em milissegundos.</li>
<li>Permite criar tabela global, que replica os dados em diferentes regiões (Brasil,
EUA, Europa por exemplo) para isso é necessário ativar o DynamoDB Streams.</li>
<li>É schemaless (não tem schema forte).</li>
<li>Dispara eventos para o <strong>Event Bridge</strong> via <strong>DynamoDB Streams.</strong></li>
<li>Consistências<!-- -->
<ul>
<li><strong>eventual (eventually)</strong> -&gt; Pega de qualquer a informação uma das replicas é 5
vezes mais rápido, pois não valida se a informação é a mais recente.</li>
<li><strong>forte (strong)</strong> -&gt; valida se a informação é mais recente e para isso antes de
retorna-la, valida em todas as replicas.</li>
</ul>
</li>
<li>Quando criado pode se escolher entre provisionado e on-demand caso provisionado é preciso definir a:<!-- -->
<ul>
<li>Unidade de capacidade de leitura (<strong>RCU</strong> - Read Capacity Units), sendo cobrado ($0.00013) por RCU.<!-- -->
<ul>
<li>1 RCU - 1 leitura consistente (<strong>strong</strong>) lendo ate 4KB por segundo.</li>
<li>1 RCU - 2 Leitura Eventual (eventually) lendo ate 4KB por segundo.</li>
</ul>
</li>
<li>Unidade de capacidade de escrita (<strong>WCU</strong> - Write Capacity Units), sendo cobrado ($0.00065) por WCU.<!-- -->
<ul>
<li>1 WCU - 1 escrita de ate 1KB</li>
</ul>
</li>
</ul>
</li>
<li><strong>well architected</strong>
<img decoding="async" loading="lazy" alt="dynamoDB-weel-arch" src="/assets/images/image-20210905114039856-ea6474157594b438e8628c27c199732b.png" width="1023" height="334" class="img_ev3q"></li>
</ul>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="redshift">Redshift<a href="#redshift" class="hash-link" aria-label="Link direto para Redshift" title="Link direto para Redshift">​</a></h3>
<ul>
<li>Banco para Data warehouse.</li>
<li>Baseado no <strong>Postgres</strong>, mas não e usado para OLTP (online transation processing) e sim para OLAP (online analytical processing).</li>
<li>Envia-se os dados em escala (de hora em hora) para data <strong>warehouse</strong>.</li>
<li><strong>10x</strong> melhor que outros <strong>OLAP</strong>, e escala para PBs (Penta bytes) de dados.</li>
<li>Baseado em colunas e permite execução massiva de consultas (MPP).</li>
<li>Pague pelo que usa, baseado em instâncias provisionadas.</li>
<li>Tem uma interface SQL pra escrita de querys.</li>
<li>Pode se integra com o <strong>AWS Quicksight</strong> or <strong>Tableau</strong> para tarefas de BI.</li>
<li>Os dados podem ser carregados do S3, Do <strong>DynamoDB</strong> ou de qualquer branco via <strong>DMS</strong> (data migration service) ou via <strong>Kinesis firehose</strong>.
<img decoding="async" loading="lazy" alt="data-importe" src="/assets/images/image-20210905122049485-9b6960d83699134a5211c3641f421d39.png" width="1119" height="419" class="img_ev3q"></li>
<li>Pode escalar de <strong>1 nó ate 128</strong> nós com cada nó tendo ate <strong>160 GB</strong> de espaço.</li>
<li>Há dois tipos de nós:<!-- -->
<ul>
<li><strong>Nó líder</strong> - usado para o planejamento da queries e agregação dos resultados.</li>
<li><strong>Nó de computação</strong> - Responsável por executar as queries e enviar o resultado ao líder.</li>
</ul>
</li>
<li>Tem uma funcionado chamada <strong>Sprectrum</strong> que permite executar a queries direto no <strong>S3</strong>, sem precisar carregar os dados para o <strong>RedShift</strong>.
<img decoding="async" loading="lazy" alt="sprectrum" src="/assets/images/image-20210905122151802-625b722fe3199853615611e805cc1ae2.png" width="658" height="571" class="img_ev3q"></li>
<li><strong>Redshift Enhanced VPC Routing</strong> - permite copiar e carregar dados através de uma VPC sem passar pela internet.</li>
<li>Não é multi <strong>AZ</strong>, cada nó fica numa <strong>AZ</strong>, por isso para ter recuperação de desastres é feito <strong>Snapshots</strong> incrementais que são internamente armazenados no S3.</li>
<li>Os Snapshots são feitos automaticamente de a cada <strong>8 horas</strong> ou a cada <strong>5GB</strong> ou podem ser agendados.
<img decoding="async" loading="lazy" alt="redshit" src="/assets/images/image-20210905121920707-11175d8457449f8830421822f169845d.png" width="490" height="509" class="img_ev3q"></li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="well-architected">Well architected<a href="#well-architected" class="hash-link" aria-label="Link direto para Well architected" title="Link direto para Well architected">​</a></h4>
<p><img decoding="async" loading="lazy" alt="well-arch-redshift" src="/assets/images/image-20210905122323552-aec6e6c821293c87eb1b61b8e055b742.png" width="1033" height="338" class="img_ev3q"></p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="neptune">Neptune<a href="#neptune" class="hash-link" aria-label="Link direto para Neptune" title="Link direto para Neptune">​</a></h3>
<ul>
<li>Banco gerenciado pela AWS usado para grafos.</li>
<li>Tem esquemas flexível.</li>
<li>Usado por exemplo:<!-- -->
<ul>
<li>Para relacionamentos de Redes Sociais ou para situações que tem muitos relacionamentos.</li>
<li>Para os artigos do Wikipédia.</li>
</ul>
</li>
<li>Replicado em 3 AZ, pode ter ate <strong>15 replicas de leituras.</strong></li>
<li>Visão <strong>well architected.</strong>
<img decoding="async" loading="lazy" alt="netune-well-arch" src="/assets/images/image-20210905125237432-10f884ee58a9b4e4af4473cd6b864f24.png" width="1038" height="255" class="img_ev3q"></li>
</ul>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="emr">EMR<a href="#emr" class="hash-link" aria-label="Link direto para EMR" title="Link direto para EMR">​</a></h3>
<ul>
<li>Ajuda a criar clusters Hadoop (Big data).</li>
<li>Pode ser construido em cima de centenas de instâncias EC2.</li>
<li>Suporta Apache Spark, HBase, Presto, Flink.</li>
<li>Usa <strong>Spot Instances</strong> para <strong>Auto Scale</strong> (que reduz os custos).</li>
<li>Uso: Big Data, Marchine Learning e Web Indexing.</li>
</ul>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="como-escolher-o-melhor-bd">Como escolher o melhor BD<a href="#como-escolher-o-melhor-bd" class="hash-link" aria-label="Link direto para Como escolher o melhor BD" title="Link direto para Como escolher o melhor BD">​</a></h3>
<p>Para escolher o melhor banco de dados para lhe atender algumas perguntas são importantes a se fazer.</p>
<ul>
<li>A carga de trabalho pesada e de leitura ou escrita?</li>
<li>Qual o thoughput (taxa em que os dados são transmitidos) se precisa?</li>
<li>Os itens anteriores são contínuos ou são variam de tempos em tempos, ou seja há picos de acessos?</li>
<li>Qual a quantidade de dados se deseja armazenar e por quanto tempo e qual seria o tamanho dos dados?</li>
<li>Como serão acessado (segurança)?</li>
<li>Qual e o modelo de dado? estruturados ou não? vai precisar fazer joins?<!-- -->
<ul>
<li>Schema forte, ou flexível.</li>
<li>NoSql ou RBDMS.</li>
</ul>
</li>
<li>Qual seria a latência, haverá concorrência?</li>
<li>Qual o custo de licença?</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="tipos-de-bancos-e-5-pillares">Tipos de Bancos e 5 pillares<a href="#tipos-de-bancos-e-5-pillares" class="hash-link" aria-label="Link direto para Tipos de Bancos e 5 pillares" title="Link direto para Tipos de Bancos e 5 pillares">​</a></h4>
<ul>
<li><strong>RBDMS</strong> (SQL | OLTP)<!-- -->
<blockquote>
<ul>
<li><em>RDS</em> - Postgres, MySql, SqlServer, Oracle</li>
<li><em>Aurora</em> - Bons para Joins e Dados normalizados.</li>
</ul>
</blockquote>
</li>
<li><strong>NoSql</strong>
<blockquote>
<ul>
<li><em>DynamoDB</em> (~Json)</li>
<li><em>ElastiCache</em> (key-pairs)</li>
<li><em>Neptune</em> (Graphs) - Sem Joins</li>
</ul>
</blockquote>
</li>
<li>**Object Store **(não é bem um banco, mas serve para armazenar, e deve ser considerado na hora).<!-- -->
<blockquote>
<ul>
<li><em>S3</em> (Objetos grandes)</li>
<li><em>S3 Glacier</em> - (backups | Arquivamento)</li>
</ul>
</blockquote>
</li>
<li><strong>Data WareHouse</strong> (SQL analytics | BI)<!-- -->
<blockquote>
<ul>
<li><em>RedShift</em> (OLAP)</li>
<li><em>Athena</em> (S3 Querys)</li>
</ul>
</blockquote>
</li>
<li><strong>Search</strong> (Buscas)<!-- -->
<blockquote>
<ul>
<li><em>ElasticSearch</em> (json) - Busca por texto livre, ou estruturas pré definidas.</li>
</ul>
</blockquote>
</li>
<li><strong>Graphs</strong>
<blockquote>
<ul>
<li><em>Neptune</em> - Mostra relacionamento entre objetos</li>
</ul>
</blockquote>
</li>
</ul>
<hr>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="7---migração-e-transferência">7 - Migração e transferência:<a href="#7---migração-e-transferência" class="hash-link" aria-label="Link direto para 7 - Migração e transferência:" title="Link direto para 7 - Migração e transferência:">​</a></h2>
<table><thead><tr><th><strong>PRODUTO</strong></th><th><strong>DESCRIÇÃO</strong></th></tr></thead><tbody><tr><td><strong><a href="https://aws.amazon.com/migration-hub/" target="_blank" rel="noopener noreferrer">AWS Migration Hub</a></strong></td><td>Um local único para rastrear o andamento das migrações de aplicações</td></tr><tr><td><strong><a href="https://aws.amazon.com/application-discovery/" target="_blank" rel="noopener noreferrer">AWS Application Discovery Service</a></strong></td><td>Coleta informações de especificação, dados de performance e detalhes de processos em execução e conexões de rede dos servidores</td></tr><tr><td><strong><a href="https://aws.amazon.com/server-migration-service/" target="_blank" rel="noopener noreferrer">AWS Server Migration Service</a></strong></td><td>Serviço sem agente para migrar workloads apenas virtuais da infraestrutura on-premises ou do Microsoft Azure para a AWS</td></tr><tr><td><strong><a href="https://aws.amazon.com/servicecatalog/" target="_blank" rel="noopener noreferrer">AWS Service Catalog</a></strong></td><td>Crie e gerencie catálogos de serviços de TI aprovados para uso na AWS.</td></tr><tr><td><strong><a href="https://aws.amazon.com/dms/" target="_blank" rel="noopener noreferrer">AWS Database Migration Service</a></strong></td><td>O AWS Database Migration Service ajuda você a migrar bancos de dados para a AWS de modo rápido e seguro.</td></tr><tr><td><strong><a href="https://aws.amazon.com/application-migration-service/" target="_blank" rel="noopener noreferrer">AWS Application Migration Service</a></strong></td><td>Simplifique e agilize migrações enquanto reduz custos</td></tr></tbody></table>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="aws-dms">AWS DMS<a href="#aws-dms" class="hash-link" aria-label="Link direto para AWS DMS" title="Link direto para AWS DMS">​</a></h3>
<p><img decoding="async" loading="lazy" alt="aws-dms" src="/assets/images/image-20210909064002076-59040d8c667fa1a99fcae78f2065f044.png" width="1303" height="358" class="img_ev3q"></p>
<ul>
<li>Serviço de migração de dados para a AWS.</li>
<li>Permite migrar dados para o RDS (a nuvem) de um banco relacional on-primeses.</li>
<li>Permite que o banco fique ativo durante a migração, pois usa os logs para a migração.</li>
<li>Roda numa instância EC2.</li>
<li>Permite migrações:<!-- -->
<ul>
<li><strong>homogéneas</strong> - de um de um tipo (oracle) para um bando do mesmo tipo (oracle) na nuvem.</li>
<li><strong>heterogéneas</strong> - de um banco de um tipo (oracle) para outro de outro tipo (mysql)<!-- -->
<ul>
<li>Usa o SCT (Schema conversion tool) para migrar DB diferentes</li>
</ul>
</li>
</ul>
</li>
<li>Origem e destino
<img decoding="async" loading="lazy" alt="sources-targets" src="/assets/images/image-20210909064233727-7731dbf520cdb9eb7d2c610317fa38ea.png" width="1006" height="413" class="img_ev3q"></li>
</ul>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="aws-sms">AWS SMS<a href="#aws-sms" class="hash-link" aria-label="Link direto para AWS SMS" title="Link direto para AWS SMS">​</a></h3>
<p><img decoding="async" loading="lazy" alt="AWS SMS" src="/assets/images/AWS-Server-Migration-Service-c8cf056c8c25068434eb4290b3f2f5ff.png" width="883" height="464" class="img_ev3q"></p>
<ul>
<li>Server Migration Service, serviço de migração de servidores.</li>
<li>Pode migrar suas aplicações da infraestrutura física, do <strong>VMware vSphere</strong>, do <strong>Microsoft Hyper-V</strong>, do EC2, da VPC e de outras nuvens para a AWS.</li>
</ul>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="aws-datasync">AWS DataSync<a href="#aws-datasync" class="hash-link" aria-label="Link direto para AWS DataSync" title="Link direto para AWS DataSync">​</a></h3>
<p><img decoding="async" loading="lazy" alt="dataSync" src="/assets/images/image-20210909071549775-b54beb0ebe051d24baa6c0255eb4d033.png" width="1019" height="489" class="img_ev3q"></p>
<ul>
<li>Usado para mover grades quantidade de dados do on-primises para AWS.</li>
<li>Permite sincronizar dados com S3 , FSx, EFS. A cada hora / dia/ semana</li>
<li>Usa os protocores <strong>SMS</strong> ou <strong>NFS</strong> para mover os dados do <strong>NAS</strong> (network attached storage) para AWS.</li>
</ul>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="aws-snow-family">AWS Snow Family<a href="#aws-snow-family" class="hash-link" aria-label="Link direto para AWS Snow Family" title="Link direto para AWS Snow Family">​</a></h3>
<ul>
<li>Dispositivo offline que permite realizar migração de grande quantidade de dados. Muito usado para levar dados para AWS sem usar a rede.</li>
<li>Podem rodar instâncias EC2 ou lambdas, para processamentos de dados em áreas remotas, onde não se tem acesso ao recursos da AWS.</li>
<li>Há um software chamado <strong>OpsHub</strong> que fornece uma interface gráfica para os dispositivos.</li>
<li>Há 3 tipos:<!-- -->
<ul>
<li><strong>Snowball edge</strong> - Usado para transportar TBs e PBs de dados, semelhante a uma maleta.<!-- -->
<ul>
<li>Storage otimized<!-- -->
<ul>
<li>(40vCpu 80Gb Memória) - com 80 TBs compatível com S3.</li>
</ul>
</li>
<li>Compute otimized<!-- -->
<ul>
<li>(52vCpu 208Gb Memória) com 42 TBs compatível com S3.</li>
<li>Caso necessário pode vir com placa de vídeo.</li>
</ul>
</li>
</ul>
</li>
<li><strong>SnowCone</strong> - Dispositivo menor com 8TBs de espaço, pesa cerca de 2,1 kg.<!-- -->
<ul>
<li>2 vCPUS, 4 Gb de memoria, USB tipo c.</li>
</ul>
</li>
<li><strong>SnowMobile</strong> - Caminhão, usado para transporta dados acima de 10 PBs para AWS.
<img decoding="async" loading="lazy" alt="snow-family" src="/assets/images/image-20210902060123753-8e7fd25ae0777461b9681239b046f16f.png" width="1122" height="450" class="img_ev3q"></li>
</ul>
</li>
<li>Não é possível importar os dado do <strong>Snowball</strong> diretamente para o <strong>Glacier</strong>, primeiro se importaria para o S3 e com uma política de ciclo de vida se moveria para o <strong>Glacier</strong>.</li>
</ul>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="8---gerenciamento-e-governança">8 - Gerenciamento e governança:<a href="#8---gerenciamento-e-governança" class="hash-link" aria-label="Link direto para 8 - Gerenciamento e governança:" title="Link direto para 8 - Gerenciamento e governança:">​</a></h2>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="aws-backup">AWS Backup<a href="#aws-backup" class="hash-link" aria-label="Link direto para AWS Backup" title="Link direto para AWS Backup">​</a></h3>
<p><img decoding="async" loading="lazy" alt="bkp-service" src="/assets/images/image-20210909072322356-a991b9ae0cf1845067c87d95f2609f75.png" width="1035" height="492" class="img_ev3q"></p>
<ul>
<li>Serviço de backup gerenciado pela AWS.</li>
<li>Permite centralizar as configurações de backups.</li>
<li>Suporta Cross-regions e cross-accounts backups.</li>
<li>Pode ter backups agendados ou sob demanda.</li>
<li>Permite aplicar uma política de tagueamento do backups.</li>
<li>Permite criar uma política de backup (período) e tempo de retenção de um backup.</li>
</ul>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="aws-cloudformation">AWS CloudFormation<a href="#aws-cloudformation" class="hash-link" aria-label="Link direto para AWS CloudFormation" title="Link direto para AWS CloudFormation">​</a></h3>
<p><img decoding="async" loading="lazy" alt="cloud-formation" src="/assets/images/image-20210911100149772-59868c4f293565a0116d8947e09038d2.png" width="701" height="344" class="img_ev3q"></p>
<ul>
<li>Permite criar qualquer recurso da AWS via código (95%).</li>
<li>Usado para criar infraestrutura como código.</li>
<li>Usa Yaml ou json para declarar os recursos.</li>
<li>Ele mesmo se resolve sob a ordem de criação dos recursos.</li>
<li>Taggea de forma uniforme os recursos criados.</li>
<li>Usando é possível ter uma estimativa de custo da estrutura que se vai criar.</li>
<li>Habilidade de se criar infraestrutura em muitos contas, regiões, ambientes com o arquivos do template (StackSets). Permite criar infraestrutura globalmente.</li>
</ul>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="aws-cloudtrail">AWS CloudTrail<a href="#aws-cloudtrail" class="hash-link" aria-label="Link direto para AWS CloudTrail" title="Link direto para AWS CloudTrail">​</a></h3>
<p><img decoding="async" loading="lazy" alt="cloud-trail" src="/assets/images/image-20210906211912761-1b52c2f75d068bb964b91b8a8aeda7d3.png" width="1041" height="438" class="img_ev3q"></p>
<ul>
<li>Provem governança, <strong>compliance</strong> e <strong>auditoria</strong>, é o dedo duro da galera que fez merda.</li>
<li>Habilitado por default, tem custo zero.</li>
<li>Recebe informações do <strong>SDK / console / cli / IAM User e IAM roles.</strong></li>
<li>Permite ver tudo que foi feito na conta (inclusão, criação ou exclusão de recurso).</li>
<li>Monitora todas as chamadas de <strong>API</strong> da conta.</li>
<li>Guarda os logs por 90 dias no <strong>cloud trail</strong>, caso queira guardar mais tempo e possível configurar
no S3 (não vem habilitado por default).</li>
<li>Vem aplicado em todas as regiões por padrão.</li>
<li>Tipo de eventos analisados:<!-- -->
<ul>
<li><strong>Eventos gerenciados.</strong>
<ul>
<li><strong>Operações usados</strong> em recursos:<!-- -->
<ul>
<li>Criar rules, criar S3 / EC2, alteração de recurso.</li>
<li>Separa os eventos de leitura e escrita.</li>
<li><strong>Analise manual do problemas</strong></li>
</ul>
</li>
</ul>
</li>
<li><strong>Eventos de dados</strong>
<ul>
<li>Não são logados por padrão, e necessário habilitado e é <strong>pago.</strong></li>
<li>Está em <strong>nível do objeto,</strong> para os serviços de Lambda, S3 e DymamoDB.</li>
<li>Separados por eventos de leitura e escrita.</li>
<li><strong>Analise manual do problemas.</strong></li>
</ul>
</li>
<li><strong>Cloud trail insights</strong>
<ul>
<li>Usado para avaliar ações e <strong>detectar anomalias na conta.</strong></li>
<li><strong>Analise automática</strong> dos problemas (anomalias). via <strong>inteligência artificial</strong>.<!-- -->
<ul>
<li>Tipo recurso em excesso.</li>
<li>Limites de recursos (<strong>soft</strong> and <strong>hard</strong>).</li>
<li>Permite conectar ao <strong>eventBridge</strong> para notificação das anomalias.</li>
</ul>
</li>
<li><img decoding="async" loading="lazy" alt="insights" src="/assets/images/image-20210906212303526-b4d980c9cddc1c33bbb6add6b83a1b4b.png" width="1113" height="190" class="img_ev3q"></li>
</ul>
</li>
</ul>
</li>
</ul>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="aws-cloudwatch">AWS CloudWatch<a href="#aws-cloudwatch" class="hash-link" aria-label="Link direto para AWS CloudWatch" title="Link direto para AWS CloudWatch">​</a></h3>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="logs">Logs<a href="#logs" class="hash-link" aria-label="Link direto para Logs" title="Link direto para Logs">​</a></h4>
<ul>
<li>Coleta métricas e <strong>logs</strong> de tudo no AWS. Também é possível enviar logs através do SDK.</li>
<li>Pode ser <strong>exportado</strong> para o S3 ou feito um stream para o <strong>ElasticSearch</strong> para analises futuras.</li>
<li><strong>LogGroup</strong> - Agrupamento de logs, pode ser por exemplo, todos os logs de uma aplicação.</li>
<li><strong>LogStream</strong> - Fluxo de logs de um recurso.</li>
<li>Pode ser definido um período de retenção de logs, e configurado um batch de exportação para o S3.</li>
<li>Pode-se ter um <strong>tail</strong> dos logs do <strong>Cloud Watch</strong> via CLI.</li>
<li>A maioria dos problema que se da aqui e por causa de permissões configuradas errado.</li>
<li>Permite aplicar filtros através de expressões regulares ou métricas ou IPs. E com isso dispara alarmes.</li>
<li>Por padrão nenhum log e enviado das instâncias EC2, caso queira ter os logs é necessária habilitar o <strong>CloudWatch Agent</strong> e isso fará que o <strong>CloudWatch unified Agent</strong> nas instâncias envie os logs.
<img decoding="async" loading="lazy" alt="unified-agente" src="/assets/images/image-20210906093405257-d35974c3206210cd2dc309cb0920dc29.png" width="882" height="435" class="img_ev3q"></li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="metricas">Metricas<a href="#metricas" class="hash-link" aria-label="Link direto para Metricas" title="Link direto para Metricas">​</a></h4>
<ul>
<li>São coletadas de todos os serviços da AWS, São úteis para automatizar ações de acordo com status da métrica.<!-- -->
<ul>
<li><strong>Métricas</strong> -&gt;&gt; thresholds -&gt;&gt; actions.</li>
</ul>
</li>
<li>Criar alarmes de acordo com as métricas.</li>
<li>E com esses alarmes criar ações (posta numa fila do <strong>SNS</strong> ou acionar o <strong>Auto Scale</strong>)</li>
<li>Existem métricas default com tempos pré definidos (a cada 5 minutos), mas se necessário e por um custo adicional é possível adicionar novas métricas detalhadas e alterar o tempo de coleta.</li>
<li>o Free Tier disponibiliza ate 10 métricas detalhadas.
<img decoding="async" loading="lazy" alt="cloud-metrics" src="/assets/images/image-20210906081300936-81f7c237b843b62e42b3f7415f79c44f.png" width="703" height="334" class="img_ev3q"></li>
<li>Para criar uma métrica customizada, e só usar a API <strong>putMetricaData</strong> no sdk/cli.<!-- -->
<ul>
<li>Também é possível definir a resolução da métrica ( &quot;tempo de coleta&quot;) sendo:<!-- -->
<ul>
<li><strong>Standard</strong> - 1 minuto.</li>
<li><strong>High Resolution</strong> - 1|5|10|30 segundos - mas tem um alto custo.</li>
</ul>
</li>
<li>Permite enviar métrica antigas (ate duas semanas) e métricas futuras ate 2 horas sem que o <strong>Cloud Watch</strong> reclame.</li>
</ul>
</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="alarmes">Alarmes<a href="#alarmes" class="hash-link" aria-label="Link direto para Alarmes" title="Link direto para Alarmes">​</a></h4>
<ul>
<li>Permite definir alarmes para qualquer métrica.</li>
<li>tem 3 status:<!-- -->
<ul>
<li>OK , INSUFICIENTE_DATA, ALARM.</li>
</ul>
</li>
<li>Os alarmes podem ser disparados através de métricas e filtros.</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="dashboards">Dashboards<a href="#dashboards" class="hash-link" aria-label="Link direto para Dashboards" title="Link direto para Dashboards">​</a></h4>
<ul>
<li>Com as métricas é possível criar Dashboards, para facilitar a visualização.</li>
<li>Os Dashboards são <strong>globais</strong>.</li>
<li>Neles é possível incluir gráficos de diferentes <strong>contas AWS e regiões.</strong></li>
<li>É possível compartilhar um Dashboard com um terceiro via <strong>cognito</strong>.</li>
<li>Ate 3 Dashboards são de graça, e demais se paga $3 dólares por mês por Dashboard.</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="eventos">Eventos<a href="#eventos" class="hash-link" aria-label="Link direto para Eventos" title="Link direto para Eventos">​</a></h4>
<p>Permite criar eventos, ous seja ações predefinidas ou agendadas que podem disparar alguns serviços AWS (regras que define ações).</p>
<ul>
<li>Padrão de evento - intercepta eventos dos serviços AWS, tipo quando o status estiver pendente.<!-- -->
<ul>
<li>EC2 start, codeBuild Failure, S3</li>
</ul>
</li>
<li>Permite criar crons e eventos agendados.</li>
<li>Gera json de evento, que pode ser enviado para um target <strong>SNS</strong>, <strong>SQS</strong> ...</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="eventbridge---ponte-de-eventos"><strong>EventBridge</strong> - (ponte de eventos)<a href="#eventbridge---ponte-de-eventos" class="hash-link" aria-label="Link direto para eventbridge---ponte-de-eventos" title="Link direto para eventbridge---ponte-de-eventos">​</a></h4>
<ul>
<li>Permite criar uma canal que vai receber eventos (<strong>event bus</strong>) e criar regras para tratar esse eventos postados nesse canal.</li>
<li>É possivel definir uma <strong>estrutura para o evento</strong> (schema , tipo avro), ou usar algum que já existe, com ele é possivel definir o formato do evento que vai ser diparado por um SDK.</li>
<li>A mesma coisa que o <strong>Eventos</strong> com adicional de que :<!-- -->
<ul>
<li>Permite que algums <strong>SAAS</strong> envie eventos a <strong>AWS</strong>.</li>
</ul>
</li>
<li>Vai substituir os eventos.</li>
</ul>
<hr>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="aws-config">AWS Config<a href="#aws-config" class="hash-link" aria-label="Link direto para AWS Config" title="Link direto para AWS Config">​</a></h4>
<p><img decoding="async" loading="lazy" alt="config" src="/assets/images/image-20210906213344276-f7b6c2aaab035a8294f79511631e505c.png" width="987" height="223" class="img_ev3q"></p>
<ul>
<li>Ajuda a verificar o compliance da nossa conta de acordo com a linha do tempo.</li>
<li>Mostra quais são as modificações que foram feitas.</li>
<li>Pode usar tópicos para notificação.</li>
<li>Pode se agregar as analises realizadas nas contas da organização em uma única conta (Uma
conta de auditoria).</li>
<li>É cobrado, pois fica escaneando os serviços habilitados.</li>
<li>Faz monitoramento continuo.</li>
<li>Serviço regional, mas nas analise é possível adicionar serviços globais.</li>
<li>Contem varias regras (mais de 75), que servem para validar se um serviço esteja compliance, possivel criar próprias regras.
Serviço pago $0.003 por regra habilitada</li>
<li>Permite ver as alterações feitas que não estão compliance, e quem fez a alteração.</li>
<li>Uso, pode adicionado uma regra que valida se há acesso <strong>ssh</strong> ao um <strong>security group</strong> e caso detecte é possível disparar uma ação ou uma notificação.
<img decoding="async" loading="lazy" alt="notify" src="/assets/images/image-20210906213444390-df7512559657c1f190b056d2ef7d889b.png" width="1074" height="468" class="img_ev3q"></li>
</ul>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="aws-organizations">AWS Organizations<a href="#aws-organizations" class="hash-link" aria-label="Link direto para AWS Organizations" title="Link direto para AWS Organizations">​</a></h3>
<p><img decoding="async" loading="lazy" alt="AWS Organizations" src="/assets/images/image-20210907065032639-5aefa9edb759d1bf48a5a821acf75220.png" width="906" height="520" class="img_ev3q"></p>
<ul>
<li>Consolide múltiplas contas em uma única conta.</li>
<li>Permite consolidar a fatura de pagamento e custos.</li>
<li>Unificar a parte de auditoria, monitoração e segurança numa única conta.</li>
<li>Há um limite de 20 contas por organização.</li>
<li>Com <strong>organization</strong> é possível definir políticas de acesso a recursos (SCPs) que podem ser aplicadas a uma conta. Exemplo, posso querer que a conta de dev não tenha acesso ao Athena, para isso crio uma política e aplico na conta de dev.</li>
<li>Na AWS quando falamos em permissões o <strong>DENY</strong> tem sempre maior precedência do que o <strong>ALLOW.</strong> por isso se tiver um item negado na <strong>OU Prod</strong> esse recurso estará negado na <strong>OU HR</strong> mesmo que tenha uma política que da acesso.</li>
<li>É possível organizar as organizações por:<!-- -->
<ul>
<li>BU (Business Unit) - unidades de negocio (departamento de vendas, financeiro, cobrança ..).</li>
<li>Ambientes (produção, desenvolvimento, homologação)</li>
<li>Projetos (Ultron, MArk 1 , SpaceX)</li>
</ul>
</li>
</ul>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="aws-resource-access-manager-ram">AWS Resource Access Manager (RAM)<a href="#aws-resource-access-manager-ram" class="hash-link" aria-label="Link direto para AWS Resource Access Manager (RAM)" title="Link direto para AWS Resource Access Manager (RAM)">​</a></h3>
<p><img decoding="async" loading="lazy" alt="RAM" src="/assets/images/image-20210907133859114-7de43d78b5a52d660587c31bea803e6c.png" width="637" height="439" class="img_ev3q"></p>
<ul>
<li>Permite compartilhar e recursos entre contas duma mesma <strong>AWS Organizations</strong>.</li>
<li>Somente o dono do recurso compartilhado pode exclui-ló.</li>
<li>Recursos que podem ser compartilhados:<!-- -->
<ul>
<li>AWS App Mesh</li>
<li><strong>Amazon Aurora</strong></li>
<li><strong>AWS Certificate Manager Private Certificate Authority</strong></li>
<li>AWS CodeBuild</li>
<li><strong>Amazon EC2</strong></li>
<li>EC2 Image Builder</li>
<li>AWS Glue</li>
<li><strong>AWS License Manager</strong></li>
<li><strong>AWS Network Firewall</strong></li>
<li>Aqui estamos chamando o método <code>addFilterBefore</code> para adicionar o nosso filtro `Jwt</li>
<li>Amazon S3 on Outposts</li>
<li>AWS Resource Groups</li>
<li><strong>Amazon Route 53</strong></li>
<li>AWS Systems Manager Incident Manager</li>
<li><strong>Amazon VPC</strong></li>
</ul>
</li>
</ul>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="aws-systems-manager">AWS Systems Manager<a href="#aws-systems-manager" class="hash-link" aria-label="Link direto para AWS Systems Manager" title="Link direto para AWS Systems Manager">​</a></h3>
<p><img decoding="async" loading="lazy" alt="ssm" src="/assets/images/image-20210907151452111-417e6cb34403a56dc4b4bf90d4913a3e.png" width="1093" height="376" class="img_ev3q"></p>
<ul>
<li>Permite criar grupos de recursos para facilitar a visualização de dados operacionais.</li>
</ul>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="aws-ssm-parameter-store">AWS SSM Parameter Store<a href="#aws-ssm-parameter-store" class="hash-link" aria-label="Link direto para AWS SSM Parameter Store" title="Link direto para AWS SSM Parameter Store">​</a></h3>
<p><img decoding="async" loading="lazy" alt="ssm-parameters" src="/assets/images/image-20210907145157513-f157c6a94dab24d35638a39c334e146a.png" width="398" height="479" class="img_ev3q"></p>
<ul>
<li>Permite armazena configurações e segredos como parâmetros.</li>
<li>Tem criptografia opcional usando o <strong>KMS</strong>.</li>
<li>É Serverless, e fácil de usar com SDKs.</li>
<li>Permite disparar eventos via <strong>Cloud watch Events.</strong></li>
<li>São declarados em forma de caminhos (<strong>Paths</strong>).
<img decoding="async" loading="lazy" alt="ssm-paths" src="/assets/images/image-20210907145248801-83ae8fa1ac724b423af6f08fd2d9f229.png" width="937" height="504" class="img_ev3q"></li>
<li>Tem integração com o <strong>CloudFormation</strong>.</li>
<li>Ate 10000 parâmetros com valor de ate 4KB é de graça por conta e região.</li>
<li>Ate 100000 parâmetros com valor de ate 8KB é cobrado $0.05 por parâmetro.
<img decoding="async" loading="lazy" alt="tiers" src="/assets/images/image-20210907145612224-d489cba0c76b66a00f4250616bd99651.png" width="1036" height="563" class="img_ev3q"></li>
<li>É possível definir TTL para parâmetros (<strong>advanced tier</strong>), para força a atualização ou deleta. um caso de uso muito bom seria armazenar o token de acesso no <strong>parameter store</strong> e definir um TTL de 25 minutos, quando ele expirar dispara uma notificação via <strong>CloudWatch Events</strong> que gera um novo token e atualiza ao parâmetro.
<img decoding="async" loading="lazy" alt="ttl-ssm" src="/assets/images/image-20210907150009873-6f491de32e36d5534debfcc37e9de2fc.png" width="1077" height="208" class="img_ev3q"></li>
</ul>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="opswork">OpsWork<a href="#opswork" class="hash-link" aria-label="Link direto para OpsWork" title="Link direto para OpsWork">​</a></h3>
<ul>
<li>Permite trabalhar na AWS com Chef e puppet.</li>
<li>É um serviço Híbrido (AWS / on-primeses).</li>
<li>É uma alternativa ao SSM.</li>
<li>Como migrar minhas receitas (hef e puppet) para a AWS -&gt; com opsWork.</li>
<li>Com ele não é possível usar o auto-scale da AWS, pois quem vai cuidar disso é o OpsWork.</li>
</ul>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="aws-trusted-advisor">AWS Trusted Advisor<a href="#aws-trusted-advisor" class="hash-link" aria-label="Link direto para AWS Trusted Advisor" title="Link direto para AWS Trusted Advisor">​</a></h3>
<ul>
<li>Traz uma análise em tempo real dos serviços baseados nas boas práticas AWS.</li>
<li>Fornece orientação que ajuda a reduzir custos e aumentar o desempenho e melhorar a
segurança.</li>
<li>Analisa e gera recomendações sobre:<!-- -->
<ul>
<li>Custo.</li>
<li>Performance.</li>
<li>Segurança.</li>
<li>Tolerança a falha.</li>
<li>Limites de serviços.</li>
</ul>
</li>
<li>Há dois tipos de planos<!-- -->
<ul>
<li>Comum - Faz checagem e recomendações comuns</li>
<li>Completo - Disponivel para planos de suportes Bussiness &amp; Enterprise.<!-- -->
<ul>
<li>Da acesso programático via APIs</li>
</ul>
</li>
</ul>
</li>
</ul>
<hr>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="9---redes-e-entrega-de-conteúdo">9 - Redes e entrega de conteúdo<a href="#9---redes-e-entrega-de-conteúdo" class="hash-link" aria-label="Link direto para 9 - Redes e entrega de conteúdo" title="Link direto para 9 - Redes e entrega de conteúdo">​</a></h2>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="amazon-api-gateway">Amazon API Gateway<a href="#amazon-api-gateway" class="hash-link" aria-label="Link direto para Amazon API Gateway" title="Link direto para Amazon API Gateway">​</a></h3>
<p><img decoding="async" loading="lazy" alt="api-gateway" src="/assets/images/image-20210903212259138-fb70ae065f866332a9456902af7ad61a.png" width="1133" height="477" class="img_ev3q"></p>
<ul>
<li>Serveless, usado para criar APIs Rest.</li>
<li>Possível conectar a serviços de login para validar token ou coisa do tipo.</li>
<li>Tipos de API<!-- -->
<ul>
<li>APIs RESTful - Para servidores Http ou Lambdas.</li>
<li>APIs WEBSOCKET - Para aplicações bidirecionais com webSocket.</li>
</ul>
</li>
<li>Tipos de endpoints<!-- -->
<ul>
<li><strong>Edge-Optimized (default)</strong> - Para clientes Globais (melhora a latencia).</li>
<li><strong>Regional</strong> - Para apenas uma região</li>
<li><strong>Private</strong> - Acesso apenas pela maquinas dentro de uma VPC.</li>
</ul>
</li>
<li><strong>IAM Permissions</strong>
<ul>
<li>O API Gateway usa uma política para verificar quem tem acesso as APIs para &quot;usuarios&quot; da sua organização AWS, as credencias são enviadas no Header com <strong>Sig 4</strong>.
<img decoding="async" loading="lazy" alt="iam-police" src="/assets/images/image-20210904052941839-6e42da1de8c5f2138ba401c2b1db316e.png" width="599" height="325" class="img_ev3q"></li>
</ul>
</li>
<li><strong>Lamdba Authorizer</strong>
<ul>
<li>Conhecido como autorizador customizado, Se cria uma <strong>lambda</strong> para validar um Token e essa validação e cacheada por uma hora.</li>
<li>Paga pelo quantidade de lambda infocado.</li>
<li>Pode se usar OAuth / SAML ... para autorizar.
<img decoding="async" loading="lazy" alt="custom-autorization" src="/assets/images/image-20210904053330911-679f35ab87ebc48a283116874b26bd7c.png" width="601" height="343" class="img_ev3q"></li>
</ul>
</li>
<li><strong>Cognito user pools</strong>
<ul>
<li>Solução AWS, para cadastro de usuário, através dele é possível da a um usuário qualquer acesso a recurso da AWS.</li>
<li>Ajuda apenas na autenticação não na autorização.</li>
<li>Fornece um padrão de autenticação.</li>
<li>Permite usar autenticação externas (de terceiros , Google, Facebook).
<img decoding="async" loading="lazy" alt="cognito" src="/assets/images/image-20210904053801646-0c50c20bf242efaa7111d7834265f9c0.png" width="862" height="287" class="img_ev3q">
<img decoding="async" loading="lazy" alt="cognito" src="/assets/images/image-20210904053624684-636287018811505c5748fbfc4fe1dceb.png" width="761" height="354" class="img_ev3q"></li>
</ul>
</li>
</ul>
<hr>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="amazon-cloudfront">Amazon CloudFront<a href="#amazon-cloudfront" class="hash-link" aria-label="Link direto para Amazon CloudFront" title="Link direto para Amazon CloudFront">​</a></h3>
<ul>
<li>Serviço de <strong>CDN</strong> (content delivery network).</li>
<li>Cachea um conteúdo estático de uma aplicação em um edge location (ponto de presença).</li>
<li>Diminui a latência de entrega de um conteúdo.</li>
<li>Tem mais de 216 pontos de presença.</li>
<li>Projete contra ataque DDOS.</li>
<li>Possível bloquear um pais de acessar via <strong>Geo Restriction</strong>.</li>
<li>Preço varia de região para região, é cobrado por quantidade de dados trafegados quanto mais mais barato será.</li>
<li><strong>CloudFront Signed URL</strong> - são comummente usados para distribuir conteúdo privado por meio da geração dinâmica de <strong>CloudFront Signed URL</strong> (uma para cada conteúdo).</li>
<li><strong>CloudFront Signed cookies</strong> - são comummente usados para distribuir vários conteúdo privados com uma única URL.</li>
<li>É possível usar múltiplas origens no CDN, baseando em padrão da URL.
<img decoding="async" loading="lazy" alt="multi-origin" src="/assets/images/image-20210901201915548-147854541d7324184bc6cc691bdb8d66.png" width="997" height="301" class="img_ev3q"></li>
<li>uso:<!-- -->
<ul>
<li><strong>S3</strong>
<ul>
<li>Para distribuição de arquivos.</li>
<li>Facilita o upload de arquivos</li>
<li>Protege com ataque de negação de serviço.</li>
<li>Pode se usar o <strong>Origin Access Identity (OAI)</strong> para que apenas CDN acesse o bucket e não redirecione para o bucket. Nesse caso o <strong>bucket</strong> pode continuar privado e acessando pelo CDN vai aparecer os arquivos, pois eles são acessado por um &quot;usuário cdn&quot; liberado.
<img decoding="async" loading="lazy" src="https://d2908q01vomqb2.cloudfront.net/5b384ce32d8cdef02bc3a139d4cac0a22bb029e8/2018/06/27/4-v-2.png" alt="OAI" class="img_ev3q"></li>
</ul>
</li>
<li><strong>Origem customizada</strong>
<ul>
<li>Como aplicação customizada / site estático</li>
<li>Servidor http num EC2</li>
</ul>
</li>
</ul>
</li>
<li>Beneficio de usar um <strong>cloudFront</strong> em vez de <strong>S3 Cross Region replication</strong>.<!-- -->
<ul>
<li>CloudFront<!-- -->
<ul>
<li>Rede de pontos de presença.</li>
<li>Arquivos cacheado com tempo de vida de um dia.</li>
<li>Recomendado para arquivos estáticos.</li>
<li>Mais barato as requisições.</li>
</ul>
</li>
<li>S3 Cross Region replication<!-- -->
<ul>
<li>É necessário configurar em o <strong>bucket</strong> em todas as regiões.</li>
<li>Recomendado para arquivos dinâmicos.</li>
<li>É possível escrever no bucket original, os outro são apenas de leitura.</li>
</ul>
</li>
</ul>
</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="origin-groups"><strong>Origin Groups</strong><a href="#origin-groups" class="hash-link" aria-label="Link direto para origin-groups" title="Link direto para origin-groups">​</a></h4>
<p><img decoding="async" loading="lazy" alt="origin-group" src="/assets/images/image-20210901202346642-20589a28e59822a6985fe74b1ca6dbff.png" width="1835" height="951" class="img_ev3q"></p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="field-level-encryption">Field level Encryption<a href="#field-level-encryption" class="hash-link" aria-label="Link direto para Field level Encryption" title="Link direto para Field level Encryption">​</a></h4>
<p><img decoding="async" loading="lazy" alt="field-level" src="/assets/images/image-20210901202552403-c079bbb1550e6309d60330909cb4638f.png" width="1834" height="939" class="img_ev3q"></p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="aws-global-accelerator">AWS Global Accelerator<a href="#aws-global-accelerator" class="hash-link" aria-label="Link direto para AWS Global Accelerator" title="Link direto para AWS Global Accelerator">​</a></h3>
<p>Serviço que melhora a disponibilidade de um serviço usando os ponto de presença, melhora a disponibilidade
em cerca de 60%.</p>
<ul>
<li>2 Anycast IP são criado para redirecionar o trafico para os pontos de presença.</li>
<li>É usado como proxy para as aplicações do AWS.</li>
<li>Recomendado para servidores http, com conteúdo não estático.
<img decoding="async" loading="lazy" alt="global-accelerator" src="/assets/images/image-20210901202859377-00f4bc0b5a8a975d5bb06665d7eaee59.png" width="664" height="266" class="img_ev3q"></li>
</ul>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="amazon-route-53">Amazon Route 53<a href="#amazon-route-53" class="hash-link" aria-label="Link direto para Amazon Route 53" title="Link direto para Amazon Route 53">​</a></h3>
<ul>
<li>Serviço gerenciado de DNS.</li>
<li>Serviço pago, $0.50 por zona configurada.</li>
<li>Gerencia Roteamento da aplicação para regiões de acordo com alguns critérios muito usado como recuperação de desastre, pois identifica falhas e redireciona o trafico para outros lugares .</li>
<li>Dentro do serviço também é possível comprar domínios com no <strong>registro.br</strong> .
<img decoding="async" loading="lazy" alt="route-53" src="/assets/images/image-20210820062829949-24edc640fb11881c2e93d3318925f83a.png" width="658" height="303" class="img_ev3q"></li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="common-records">Common Records<a href="#common-records" class="hash-link" aria-label="Link direto para Common Records" title="Link direto para Common Records">​</a></h4>
<ul>
<li>A Record (IPV4) -&gt; <a href="http://www.google.com" target="_blank" rel="noopener noreferrer">www.google.com</a> -&gt; 12.34.56.78</li>
<li>AAAA Record (IPV6) -&gt; <a href="http://www.google.com" target="_blank" rel="noopener noreferrer">www.google.com</a> -&gt; 2001::od:b8::7337</li>
<li>CNAME -&gt; hostname to hostname -&gt; <a href="http://www.search.google.com" target="_blank" rel="noopener noreferrer">www.search.google.com</a> -&gt; <a href="http://www.google.com" target="_blank" rel="noopener noreferrer">www.google.com</a>
<ul>
<li>É pago</li>
<li>Não funciona para registro to tipoo root ex: -&gt; <a href="http://www.google.com" target="_blank" rel="noopener noreferrer">www.google.com</a> -&gt; <a href="http://www.search.google.com" target="_blank" rel="noopener noreferrer">www.search.google.com</a></li>
</ul>
</li>
<li>ALIAS -&gt; hostname to aws resource -&gt; <a href="http://www.exemplo.com" target="_blank" rel="noopener noreferrer">www.exemplo.com</a> -&gt; (S3, RDS, ELB, CloudFront ...)<!-- -->
<ul>
<li>Na AWS é grátis.</li>
<li>Checa a saúde do recurso.</li>
<li>Funciona para registo to tipo root ex: -&gt; <a href="http://www.google.com" target="_blank" rel="noopener noreferrer">www.google.com</a> -&gt; <a href="http://www.search.google.com" target="_blank" rel="noopener noreferrer">www.search.google.com</a></li>
</ul>
</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="routing-police">Routing police<a href="#routing-police" class="hash-link" aria-label="Link direto para Routing police" title="Link direto para Routing police">​</a></h4>
<p>São políticas de redirecionamento que é possível configurar no <strong>route 53.</strong></p>
<ul>
<li><strong>Simple routing police</strong> (política de roteamento simples).<!-- -->
<ul>
<li>A se chamar um domínio ele devolve o IP do servidor.</li>
<li>Não tem health checks.</li>
<li>Se cria um recorde e pode se retornar vários valores e o <strong>browser</strong> decide qual é o melhor para ele.</li>
</ul>
</li>
<li><strong>Weighted routing police</strong> (política de roteamento com pesos).<!-- -->
<ul>
<li>É dado um peso para cada servidor, que define a percentagem de requisição que será
redirecionado de acordo com o peso.</li>
<li>Se cria vários <strong>record</strong> com o mesmo nome, com retornos diferentes e pesos diferente.</li>
</ul>
</li>
<li><strong>Latency routing police</strong> (política de roteamento baseado na latência)<!-- -->
<ul>
<li>Redireciona para o servidor de acordo com a menor latência.</li>
<li>Se cria vários <strong>record</strong> com o mesmo nome, com retornos diferentes para cada região.</li>
</ul>
</li>
<li><strong>Failover routing police</strong> (política de roteamento de falhas)<!-- -->
<ul>
<li>Se defini servidores primários e de <strong>failover</strong>, caso o primário de algum problema será
redirecionado o trafico automaticamente. Usa health checks.</li>
<li>Se cria vários <strong>record</strong> com o mesmo nome, com retornos diferentes cada um com seu <strong>health check</strong> e se define quem vai ser o primário e o segundario.</li>
</ul>
</li>
<li><strong>Geolocation routing police</strong> (política baseada em Geo localização)<!-- -->
<ul>
<li>Redireciona a requisição de acordo com a localização do usuário.</li>
<li>Bom para direcionar tráficos para aplicações especificas para países.</li>
</ul>
</li>
<li><strong>Geoproximity routing police</strong> (política de roteamento por proximidade)<!-- -->
<ul>
<li>Redireciona o usuário para o recurso mais próximo da localização do mesmo.</li>
<li>Diferencia se do anterior, pois ele é usado para países enquanto esse seria para locais dentro do pais.</li>
</ul>
</li>
<li><strong>Multi Value routing police</strong> (Política de rateamento de multi valores)<!-- -->
<ul>
<li>Usado para devolver vários retorno e se um dele falhar, se terá outras para redirecionar, se a necessidade de consultar o <strong>DNS</strong> novamente.</li>
<li>Se cria vários <strong>record</strong> com o mesmo nome, com retornos diferentes cada um. Quanto o browser consulta é devolvido todos os retornos e o <strong>browser</strong> escolhe o que melhor lhe atende.</li>
</ul>
</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="health-check">Health check<a href="#health-check" class="hash-link" aria-label="Link direto para Health check" title="Link direto para Health check">​</a></h4>
<p>Pode se configurar health checks para monitora a disponibilidade e a saúde da aplicação.</p>
<ul>
<li>São pagos $ 0.50 para endpoints AWS - $ 0.70 para outros endpoints.</li>
<li>Há custos adicionais de outras features (String matching, https, latency measurament).</li>
<li>Pode se usar http, https, tcp para se configurar como será a verificação.</li>
<li>Disponibiliza 15 diferentes hosts para checagem (em varias regiões)</li>
</ul>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="aws-vpc">AWS VPC<a href="#aws-vpc" class="hash-link" aria-label="Link direto para AWS VPC" title="Link direto para AWS VPC">​</a></h3>
<p><img decoding="async" loading="lazy" alt="vpc" src="/assets/images/image-20210907200230003-0a883cc2acff3b2a84bfd1c2e3d9fce2.png" width="677" height="285" class="img_ev3q"></p>
<ul>
<li>Virtual private cloud (rede privada na nuvem).</li>
<li>Tem escopo regional.</li>
<li>Toda região tem um VPC default, configurada com <strong>subnets</strong> publicas, ou seja tem acesso via Internet.</li>
<li>Pode haver ate 5 VPCs por região (soft Limit).</li>
<li>Cada VPC pode ter ate 5 CIDRs sendo:<!-- -->
<ul>
<li>No mínimo /28 com 16 IPs.</li>
<li>No máximo /16 com 65536 IPS.</li>
</ul>
</li>
<li>Como VPC é privado só são permitidos os ranges:<!-- -->
<ul>
<li>10.0.0.0/8</li>
<li>172.16.0.0/12</li>
<li>192.168.0.0/16</li>
</ul>
</li>
<li>Resolução de DNS, há duas configurações possíveis<!-- -->
<ul>
<li><strong>enableDnsSuport</strong> (configuração de resolução de DNS)<!-- -->
<ul>
<li>O padrão para VPC é <strong>true</strong>, serve para habilitar o suporte a resolução de DNS na VPC .</li>
<li>Private Dns</li>
</ul>
</li>
<li><strong>enableDnsHostname</strong>
<ul>
<li>true na VPC default mas <strong>false</strong> para novas VPCs.</li>
<li>Habilita o DNS para instâncias e a criação de <strong>hostname</strong> para instâncias.</li>
<li>Public Dns
<img decoding="async" loading="lazy" alt="dns" src="/assets/images/image-20210907212451775-3a8afb047ff6f8dc443ea59dcc2c8b02.png" width="977" height="296" class="img_ev3q"></li>
</ul>
</li>
</ul>
</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="cidr">CIDR<a href="#cidr" class="hash-link" aria-label="Link direto para CIDR" title="Link direto para CIDR">​</a></h4>
<p><img decoding="async" loading="lazy" alt="cidr" src="/assets/images/1By1Z1u0xilCm5OAtOqm3pg-ff4ee2bc26938c26d424e552b9825f32.png" width="2224" height="594" class="img_ev3q"></p>
<ul>
<li>Classless inter-Domain Routing (Roteamento entre domínios sem classe).</li>
<li>Usado para repartir os endereços IPs e definir ranges de ips.<!-- -->
<ul>
<li>x.x.x.x/32 -&gt; tem 1 IP</li>
<li>0.0.0.0/0 -&gt; todos os IPs
<img decoding="async" loading="lazy" alt="mask" src="/assets/images/image-20210907165104378-da4333870174af3283ba452bdf9d0916.png" width="346" height="353" class="img_ev3q"></li>
</ul>
</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="subnets">Subnets<a href="#subnets" class="hash-link" aria-label="Link direto para Subnets" title="Link direto para Subnets">​</a></h4>
<ul>
<li>Bloco de rede dentro de uma VPC.</li>
<li>Tem escopo de AZ.</li>
<li>Quando se criar ele é privado por padrão.</li>
<li>Para se fazer ela publica, deve se atachar um <strong>Internet Gateway</strong>.</li>
<li>E adicionar uma tabela de rota de comunicação com o <strong>Gateway</strong>.</li>
<li>AWS reserva 5 IPs (os 4 primeiros e o ultimo) em cada <strong>subnet</strong> ex: o bloco CIDR 10.0.0.0/24:<!-- -->
<ul>
<li>10.0.0.0 - Endereço de rede.</li>
<li>10.0.0.1 - Reservado para o VPC Router.</li>
<li>10.0.0.2 - Reservado para mapear DNS.</li>
<li>10.0.0.3 - Reservado para uso futuro.</li>
<li>10.0.0.255 - Endereço de broadcast.</li>
</ul>
</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="internet-gateway">Internet Gateway<a href="#internet-gateway" class="hash-link" aria-label="Link direto para Internet Gateway" title="Link direto para Internet Gateway">​</a></h4>
<p><img decoding="async" loading="lazy" alt="image-20210907203053110" src="/assets/images/image-20210907203053110-5a72b123ce7e64e8ab050563bf84c4eb.png" width="681" height="301" class="img_ev3q"></p>
<ul>
<li>Permite que uma <strong>VPC</strong> tenha acesso ao Internet.</li>
<li>Escala horizontalmente e tem alta disponibilidade.</li>
<li>Deve haver um <strong>Internet Gateway</strong> para uma <strong>VPC</strong>.</li>
<li>Também fazem <strong>NAT</strong> para instâncias EC2 que tem IP publico.</li>
<li>Lembrando que quem permite acesso ou não a Internet e a <strong>tabela de Rotas.</strong></li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="route-table-1">Route table<a href="#route-table-1" class="hash-link" aria-label="Link direto para Route table" title="Link direto para Route table">​</a></h4>
<p><img decoding="async" loading="lazy" alt="AWS VPC - Internet Gateway, Route Tables, NACLs | 4sysops" src="data:image/png;base64,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" width="509" height="324" class="img_ev3q"></p>
<ul>
<li>Serve para direcionar o trafico de rede para as <strong>subnets</strong>, permitindo assim que se tenha acesso a Internet ou não.</li>
<li>É boa pratica criar no mínimo duas tabelas de rotas por VPC:<!-- -->
<ul>
<li>Uma tabela de rotas publica que ter as <strong>subnets</strong> publicas, esta se liberar o trafico de qualquer lugar colocando como target o <strong>Internet Gateway.</strong></li>
<li>Uma privada onde vai estar as <strong>subnetes</strong> privadas.</li>
</ul>
</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="nat-gateway">NAT Gateway<a href="#nat-gateway" class="hash-link" aria-label="Link direto para NAT Gateway" title="Link direto para NAT Gateway">​</a></h4>
<p><img decoding="async" loading="lazy" alt="AWS — Difference between Internet Gateway and NAT Gateway | by Ashish Patel  | Awesome Cloud | Medium" src="/assets/images/1gftv4LSqU_12kRqNwYISJw-fa0bdeff2ab93e382a326e742b09dd71.png" width="1222" height="962" class="img_ev3q"></p>
<ul>
<li>As instâncias das <strong>subnets</strong> privadas precisam acesso a Internet para atualizações, é com usa de NAT que fazemos isso.</li>
<li>Totalmente gerenciado pela AWS.</li>
<li>Pague por hora e banda usada.</li>
<li>São criado em uma <strong>AZ</strong> especifica e Usam Elastic IP. caso queira alta disponibilidade é recomendado criar e mais de uma <strong>AZ</strong>.</li>
<li>Não pode ser usado por instâncias da mesma sub-rede, apenas por outras.</li>
<li>Se criar um <strong>NAT Gateway</strong> numa <strong>subnet</strong> publica e apronta o trafico das subnets privadas para o NAT, que por sua vez via <strong>route table</strong> repassa ao <strong>Internet Gateway</strong>, como nas <strong>subnets</strong> privadas só que pode acessar e que esta na mesma <strong>VPC</strong> se mantém a segurança.</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="secure-group">Secure Group<a href="#secure-group" class="hash-link" aria-label="Link direto para Secure Group" title="Link direto para Secure Group">​</a></h4>
<p><img decoding="async" loading="lazy" alt="sg" src="/assets/images/image-20210907213210726-005bbfe0643b1951846cca4313958ed4.png" width="690" height="293" class="img_ev3q"></p>
<ul>
<li>(Regras de acessos) por padrão vem negando tudo.</li>
<li>Só permite acesso, não preciso negar.</li>
<li>É a primeira camada de segurança</li>
<li>Esta no nível de instâncias. Pode ser entendido como firewall das instâncias EC2.</li>
<li>Eles têm estado, o que significa que todas as alterações aplicadas a uma regra de entrada são automaticamente aplicadas a uma regra de saída.</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="nacl-1">NACL<a href="#nacl-1" class="hash-link" aria-label="Link direto para NACL" title="Link direto para NACL">​</a></h4>
<p><img decoding="async" loading="lazy" alt="Learn AWS Network ACL and Security Groups in under 5 minutes | by João  Marcelo Souza | Medium" src="/assets/images/1K-Se2-uV-Y91vkGW3K0-8w-35f23e8e243df1526f7a59713b4a0eea.png" width="849" height="942" class="img_ev3q"></p>
<ul>
<li>Network access control list, deve haver uma por <strong>subnet</strong>.</li>
<li>Deve dizer o que é permitido e o que é negado. Seguindo a ideia de procedência indo de 1 - 32766, sendo quanto menor no numero maior a procedência.</li>
<li>É a segunda camada de segurança.</li>
<li>Esta no nível de Subnets. Pode ser entendido como firewall de <strong>subnet</strong>.</li>
<li>Eles não têm estado, o que significa que qualquer alteração aplicada a uma regra de entrada não é aplicada automaticamente a uma regra de saída.</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="vpc-peering">VPC Peering<a href="#vpc-peering" class="hash-link" aria-label="Link direto para VPC Peering" title="Link direto para VPC Peering">​</a></h4>
<ul>
<li>Permite conectar 2 VPCs, mas para isso não pode haver sob posição de <strong>CIDRs</strong>.</li>
<li>Não são transitivas, ou seja no exemplo abaixo a VPC A não esta conectada a VPC C.
<img decoding="async" loading="lazy" alt="vpc-peering" src="/assets/images/image-20210908191617520-ed284eb6b5bc82891953e655fdfa9ccc.png" width="974" height="193" class="img_ev3q"></li>
<li>Caso precise que elas se &quot;vejam&quot; e necessário criar um <strong>VPC Peering</strong> com as duas.
<img decoding="async" loading="lazy" alt="vpc-peering" src="/assets/images/image-20210908191928744-2604ffc2e62b19478d0d40903bb03055.png" width="967" height="280" class="img_ev3q"></li>
<li>Para cada conjunto (A - B , B - C, A - C) é necessário atualizar as tabelas de rotas, para que as instâncias possam se ver.</li>
<li>Serviço <strong>cross account</strong> e <strong>inter-regions</strong>, ou seja é possível conectar VPCs de contas diferentes e em regiões diferentes.</li>
<li>Possível configurar <strong>Security Groups</strong> que considerem VPCs pareadas.</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="vpc-endpoints">VPC Endpoints<a href="#vpc-endpoints" class="hash-link" aria-label="Link direto para VPC Endpoints" title="Link direto para VPC Endpoints">​</a></h4>
<ul>
<li>Permite criar endpoints para acesso de serviços internos da AWS.</li>
<li>Usado quando queremos que uma rede privada tenha acesso a recursos AWS, mas sem que esse trafico saia para a internet.</li>
<li>Ele remove a necessidade de se ter uma <strong>NAT Gateway</strong> para acessar serviços da AWS.</li>
<li>Tipos:<!-- -->
<ul>
<li><strong>Interface</strong> - cria uma interface de rede (<strong>ENI</strong>) que fornece um IP para os serviços devem ser configurado o acesso na Security Group.</li>
<li><strong>Gateway</strong> - usa um Gateway para provisionar um destino e deve ser configurado na tabela de rotas (<strong>Route Table</strong>)</li>
</ul>
</li>
<li>Caso use <strong>VPC Endpoints</strong> deve se atentar a usar as configurações de DNS, Outra coisa que pode gerar confusão e que a partir da hora que se usa o <strong>VPC Endpoints</strong> e necessário informar as região ao usar comandos do CLI, pois o <strong>VPC Endpoints</strong> tem escopo regional.</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="vpc-flow-logs">VPC Flow Logs<a href="#vpc-flow-logs" class="hash-link" aria-label="Link direto para VPC Flow Logs" title="Link direto para VPC Flow Logs">​</a></h4>
<ul>
<li>Permite capturar o trafico IP dentro de uma VPC.</li>
<li>Tipos:<!-- -->
<ul>
<li><strong>VPC Flow Logs</strong> - se aplica a tudo dentro da VPC.</li>
<li><strong>Subnet Flow Logs</strong> - se aplica as subnets dentro de uma VPC.</li>
<li><strong>ENI Flow Log</strong> - Se aplica a uma interface de rede.</li>
</ul>
</li>
<li>Podem ajudar a monitorar traficos de rede dentro da VPC, ajuda na troubleshooting.</li>
<li>Pode se usar o <strong>Athena</strong> ou <strong>Cloud Watch Insights</strong> para identificar anomalias.</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="bastion-hosts">Bastion Hosts<a href="#bastion-hosts" class="hash-link" aria-label="Link direto para Bastion Hosts" title="Link direto para Bastion Hosts">​</a></h4>
<p><img decoding="async" loading="lazy" alt="Bastion Hosts" src="/assets/images/image-20210908200020997-d1da8b42cb07577170b2707421f9ebdb.png" width="404" height="237" class="img_ev3q"></p>
<ul>
<li>Maquina numa rede publica da onde é possível conectar a instâncias em uma rede privada via SSH.</li>
<li>Se conectar ao <strong>Bastion Hosts</strong> via SSH e a partir dele se conecta as instâncias na rede privada.</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="virtual-private-gateway">Virtual Private Gateway<a href="#virtual-private-gateway" class="hash-link" aria-label="Link direto para Virtual Private Gateway" title="Link direto para Virtual Private Gateway">​</a></h4>
<p><img decoding="async" loading="lazy" alt="Virtual Private Gateway" src="/assets/images/image-20210908200507774-71f23b573275dbb2240604ea5451a202.png" width="735" height="199" class="img_ev3q"></p>
<ul>
<li>Permite ligar uma rede on-primise a AWS via VPN, para isso é necessario configurar um Virtual <strong>Customer Gateway</strong> do lado do on-primese e do lado da AWS cria se uma <strong>Virtual Private Gateway</strong>.</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="aws-direct-connect-1">AWS Direct Connect<a href="#aws-direct-connect-1" class="hash-link" aria-label="Link direto para AWS Direct Connect" title="Link direto para AWS Direct Connect">​</a></h4>
<p><img decoding="async" loading="lazy" alt="dx" src="/assets/images/image-20210908201934794-a2eceab2ccb0bda48a7098563472e0ad.png" width="1049" height="479" class="img_ev3q"></p>
<ul>
<li>Conexão dedicada, fibra que vai do seu <strong>datacenter</strong> ate a AWS.</li>
<li>Demora cerca de 1 Mês para ser implementado toda a infraestrutura.</li>
<li>O Direct Connect (DX) é um recurso que permite a conexão dedicada (vai de fibra ate o datacenter) e direta com a AWS, fora da
infraestrutura da Internet.</li>
<li>Exemplo de uso, o Itaú deseja ter a melhor conexão possível entre seus datacenter e a AWS, ele contrata um DX que vai ligar uma fibra do datacenter do Itaú até a AWS (Um parceiro).</li>
<li>Caso se queira conectar mais de uma região deve se usar um <strong>Direct Conect Gateway</strong>
<img decoding="async" loading="lazy" alt="DX-GW" src="/assets/images/image-20210908202014628-de7c07dbf45772fbb8937563e2396194.png" width="918" height="379" class="img_ev3q"></li>
<li>Alta disponibilidade
<img decoding="async" loading="lazy" alt="DX" src="/assets/images/image-20210908202426476-8618fe8a103733a4341574814bbc4f35.png" width="1036" height="555" class="img_ev3q"></li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="egress-only-internet-gateway">Egress Only Internet Gateway<a href="#egress-only-internet-gateway" class="hash-link" aria-label="Link direto para Egress Only Internet Gateway" title="Link direto para Egress Only Internet Gateway">​</a></h4>
<ul>
<li>Um <strong>gateway</strong> da Internet somente de saída é um componente da VPC horizontalmente escalado, redundante e altamente disponível que permite a comunicação de saída pela <strong>IPv6</strong> das instâncias na VPC para a Internet e impede a Internet de iniciar uma conexão <strong>IPv6</strong> com suas instâncias.</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="aws-privatelink---vpc-endpoint-services">AWS PrivateLink - VPC Endpoint Services<a href="#aws-privatelink---vpc-endpoint-services" class="hash-link" aria-label="Link direto para AWS PrivateLink - VPC Endpoint Services" title="Link direto para AWS PrivateLink - VPC Endpoint Services">​</a></h4>
<p><img decoding="async" loading="lazy" alt="AWS PrivateLink - VPC Endpoint Services" src="/assets/images/image-20210908203529744-0ea3e7e97eb11404d4692cc2dc946dce.png" width="1060" height="566" class="img_ev3q"></p>
<ul>
<li>Permite compartilhar um serviço de uma VPC com outra VPC sem precisar que aquele serviço publico, ou sem precisar ligar as VPC com <strong>VPC Peering.</strong></li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="transit-gateway">Transit Gateway<a href="#transit-gateway" class="hash-link" aria-label="Link direto para Transit Gateway" title="Link direto para Transit Gateway">​</a></h4>
<p><img decoding="async" loading="lazy" alt="AWS — Transit Gateway" src="/assets/images/1ghrEMYcgoEfzawAHq54v_A-e5ceb7471344aec8b6aa27d5836ce9fd.png" width="1326" height="1108" class="img_ev3q"></p>
<ul>
<li><strong>O AWS Transit Gateway</strong> conecta VPCs e suas redes locais por meio de um hub central. Isso simplifica a rede e elimina os complexos relacionamentos de emparelhamento. Ele atua como um roteador de nuvem e cada nova conexão só é feita uma vez.</li>
<li>Transit Gateway é um recurso regional e pode conectar milhares de VPCs na mesma região da AWS.</li>
<li>Pode ser compartilhado com outras contas da AWS usando <strong>RAM</strong>.</li>
<li><strong>Casos de Uso</strong>
<ul>
<li>Para implementar a topologia Hub e Spoke.</li>
<li>Para conectar vários Amazon VPCs entre regiões.</li>
<li>Forneça aplicativos em todo o mundo - <strong>o Transit Gateway</strong> ajuda a criar aplicativos que abrangem milhares de Amazon VPCs. Tudo é mais fácil de implantar, gerenciar e solucionar problemas.</li>
</ul>
</li>
<li><strong>Limitações</strong>
<ul>
<li>O <strong>peering do Transit Gateway</strong> só é possível entre regiões, não dentro da região.</li>
<li>Você pode se conectar a no máximo três <strong>Transit Gateways</strong> em uma única Conexão <strong>Direct Connect</strong> para conectividade híbrida.</li>
<li><strong>O Transit Gateway</strong> não oferece suporte ao roteamento entre VPCs com CIDRs sobrepostos.</li>
</ul>
</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="custo-de-rede">Custo de rede<a href="#custo-de-rede" class="hash-link" aria-label="Link direto para Custo de rede" title="Link direto para Custo de rede">​</a></h4>
<p><img decoding="async" loading="lazy" alt="net-cost" src="/assets/images/image-20210908205716392-65043ec1a8d02dbc7627cba6d8a90263.png" width="1088" height="539" class="img_ev3q">
<img decoding="async" loading="lazy" alt="image-20210908210015556" src="/assets/images/image-20210908210015556-905602ed3e224e35dad97c08193539b8.png" width="1096" height="551" class="img_ev3q">
<img decoding="async" loading="lazy" alt="image-20210908210158231" src="/assets/images/image-20210908210158231-4effc5a0d894cab19d1b993693290d54.png" width="1096" height="554" class="img_ev3q">
<img decoding="async" loading="lazy" alt="image-20210908210357597" src="/assets/images/image-20210908210357597-979e93179350c7fab1606993630bde5d.png" width="1114" height="584" class="img_ev3q"></p>
<hr>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="10---segurança-identidade-e-conformidade">10 - Segurança, identidade e conformidade<a href="#10---segurança-identidade-e-conformidade" class="hash-link" aria-label="Link direto para 10 - Segurança, identidade e conformidade" title="Link direto para 10 - Segurança, identidade e conformidade">​</a></h2>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="modelo-de-responsabilidade-compartilhada">Modelo de responsabilidade compartilhada<a href="#modelo-de-responsabilidade-compartilhada" class="hash-link" aria-label="Link direto para Modelo de responsabilidade compartilhada" title="Link direto para Modelo de responsabilidade compartilhada">​</a></h3>
<p><img decoding="async" loading="lazy" alt="modelo-resp-compartilhada" src="/assets/images/image-20210907161801611-2000409369804c92696a4d297895ce40.png" width="680" height="380" class="img_ev3q"></p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="aws-certificate-manager">AWS Certificate Manager<a href="#aws-certificate-manager" class="hash-link" aria-label="Link direto para AWS Certificate Manager" title="Link direto para AWS Certificate Manager">​</a></h3>
<ul>
<li>Serviço que permite provisionar, gerenciar e implantar facilmente certificados <strong>SSL/TLS</strong> para uso com os serviços da AWS e os recursos internos conectado.</li>
<li>Permite solicitar certificados e implanta-los em <strong>Elastic Load Balancers,</strong> distribuições do <strong>Amazon CloudFront</strong> e APIs no <strong>Amazon API Gateway.</strong></li>
<li>Permite criar certificados privados para recursos internos e centralizar o gerenciamento do ciclo de vida dos certificados</li>
</ul>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="iam">IAM<a href="#iam" class="hash-link" aria-label="Link direto para IAM" title="Link direto para IAM">​</a></h3>
<ul>
<li>Escopo global, controle de acessos.</li>
<li>Tem como base o mínimo privilegio possível.</li>
<li>Criação de usuário e grupos de usuários, grupos não podem conter outros grupos.</li>
<li>Se atribui políticas de acesso (IAM Police) ao grupo, que vão dar acesso a todos os usuário daquele grupo.</li>
<li>Políticas de acesso (permissões).<!-- -->
<ul>
<li>Escrita em json.</li>
<li>Seguir regra de menor privilegio.</li>
<li>A validação de acesso e feito a cada acesso, de forma automática.</li>
<li>Podem ser do tipo:<!-- -->
<ul>
<li>i<strong>dentity-based</strong> - Política que são destinados a usuário / grupos e rules</li>
<li><strong>resource-based</strong> - Políticas que são atribuídas a recursos, para da acesso a outro recursos.</li>
</ul>
</li>
</ul>
</li>
<li>Access keys - usadas para dar acesso ao AWS CLI e ao AWS SDK.<!-- -->
<ul>
<li>É possível usar um serviço de shell na nuvem (<strong>cloud shell</strong>) que gera um CLI sem a necessidade de configurar access key.</li>
</ul>
</li>
<li>Roles (funções)<!-- -->
<ul>
<li>Usadas para dar acessos de recursos a recurso (acesso ao S3 por um EC2)</li>
<li>Criação de roles de dão acesso a recurso sem ser necessário atribuir ao um usuário ou grupo</li>
<li>Podem ser assumidas por recursos ou usuários federados ou usuário de outras contas AWS.</li>
</ul>
</li>
<li>Dentro do <strong>IAM</strong> temos:<!-- -->
<ul>
<li><strong>iam user</strong> - Usuário comum.</li>
<li><strong>federated user</strong> - usuário de fora da organização, usuário do <strong>Facebook</strong> por exemplo.</li>
<li><strong>iam role</strong> - permissões que são dadas a recurso, tipo EC2 para acessa um S3.</li>
<li><strong>identity provider (idp)</strong> - Permite customizado acesso provider de terceiros e liberara acesso via token de acesso do STS.</li>
</ul>
</li>
<li><strong>IAM Conditions</strong>
<ul>
<li>Permite adicionar condições nas políticas de acessos AWS.
<img decoding="async" loading="lazy" alt="conditions" src="/assets/images/image-20210907124841446-56cc63938a95b8427bb92cae70239a14.png" width="1057" height="492" class="img_ev3q"></li>
</ul>
</li>
<li><strong>IAM Permission Boundaries</strong> (limite de permissões)<!-- -->
<ul>
<li>Quando se criar usuário ou <strong>Roles</strong> e possível dar <strong>permissão genéricas,</strong> tipo de administrador , e setar um <strong>limite</strong> para essas permissões, exemplo o cara é administrado apenas nos recursos do S3.</li>
<li>SCP (Service control policies ).
<img decoding="async" loading="lazy" alt="limite" src="/assets/images/image-20210907130021397-fa829f3a22e4e47f5489262a63c78e0e.png" width="510" height="389" class="img_ev3q"></li>
</ul>
</li>
<li><strong>Lógica da avaliação de política</strong>
<img decoding="async" loading="lazy" alt="Lógica da avaliação de política - AWS Identity and Access Management" src="/assets/images/PolicyEvaluationHorizontal-319d87017d2c0f08d580be74c873ac1d.png" width="1111" height="511" class="img_ev3q"></li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="mfa-multi-factory-atutenticator">MFA (multi factory atutenticator)<a href="#mfa-multi-factory-atutenticator" class="hash-link" aria-label="Link direto para MFA (multi factory atutenticator)" title="Link direto para MFA (multi factory atutenticator)">​</a></h4>
<ul>
<li>Há dois via sofware (dispositivo MFA virtual, Chave de chegurança U2F (ex: YUbiKey))</li>
<li>Há uma opção de Hardware (ex: token Gemalto)Basic recomendations</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="iam-security-tools">IAM Security Tools<a href="#iam-security-tools" class="hash-link" aria-label="Link direto para IAM Security Tools" title="Link direto para IAM Security Tools">​</a></h4>
<ul>
<li><strong>IAM Credencial Report (Account level)</strong> -&gt; Lista todas as contas de usuário e o status de cada uma.</li>
<li><strong>IAM Access Advisor</strong> -&gt; Mostras os serviços que o usuário tem acesso e a ultima vez que o mesmo acessou.</li>
</ul>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="basic-recomendations">Basic recomendations<a href="#basic-recomendations" class="hash-link" aria-label="Link direto para Basic recomendations" title="Link direto para Basic recomendations">​</a></h5>
<p><img decoding="async" loading="lazy" alt="Basic recomendations" src="/assets/images/image-20210819054310896-6ace6466a44ea0379a7ebdc66b4a0e89.png" width="1120" height="739" class="img_ev3q"></p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="aws-cognito">AWS Cognito<a href="#aws-cognito" class="hash-link" aria-label="Link direto para AWS Cognito" title="Link direto para AWS Cognito">​</a></h3>
<ul>
<li>Permite que usuário tem uma identidade para que possam interagir com as aplicações AWS.</li>
<li><strong>Congnito User Pools - (CUP)</strong>
<ul>
<li>Funcionalidade que permite cadastro de usuário para aplicações (mobilie, ...), pode usar Google, Facebook com provedor de login (<strong>Federated identity</strong>).</li>
<li>Banco de dados de usuários de aplicações mobile.</li>
<li>Pode usar usuário (ou e-mail) / password (simple login) or JWT (json web token).</li>
<li>É integrado com o <strong>API Gateway.</strong></li>
</ul>
</li>
<li><strong>Cognito identity Pools (FIP - Federate Identity)</strong>
<ul>
<li>Provem usuários para acessar recursos da <strong>AWS diretamente.</strong> Usuários que não são da sua organização mas que precisam acessar por algum motivo.</li>
<li>Tem integração com o <strong>Congnito User Pools</strong> onde são &quot;armazenados&quot; os usuários.</li>
<li>Ao fazer login dessa forma é gerado credenciais AWS como o <strong>STS</strong> com políticas previamente definidas para que usuário acesso ao recurso AWS.</li>
</ul>
</li>
<li><strong>Congnito Sync</strong>
<ul>
<li>Sincronizar dados dos dispositivos com o Cognito.</li>
<li>Guarda preferências dos usuários.</li>
<li>Talvez caia em desuso e seja substituído pelo <strong>AppSync</strong> (Serve para sincronizar dados de aplicativos mobile e web app, Usa GraphQL).</li>
</ul>
</li>
</ul>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="aws-directory-service">AWS Directory Service<a href="#aws-directory-service" class="hash-link" aria-label="Link direto para AWS Directory Service" title="Link direto para AWS Directory Service">​</a></h3>
<ul>
<li>Forma de se usar o ADSF (active directory na <strong>AWS</strong>)
<img decoding="async" loading="lazy" alt="AWS Directory Service" src="/assets/images/image-20210907064249181-3e6914a44322bc54f9bdb930cc74cbcd.png" width="1078" height="569" class="img_ev3q"></li>
</ul>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="aws-identity-provider">AWS Identity Provider<a href="#aws-identity-provider" class="hash-link" aria-label="Link direto para AWS Identity Provider" title="Link direto para AWS Identity Provider">​</a></h3>
<ul>
<li>Permite que usuários de fora da AWS, tenham acesso temporário aso recursos.</li>
<li>Há varias maneiras de criar um IdP.<!-- -->
<ul>
<li><strong>Sigle Sign On</strong></li>
<li><strong>SAML 2.0</strong>
<ul>
<li>Permite integrar o Active Directory (ADFS) com AWS.</li>
<li>Da Acesso ao AWS Console e CLI (temporário).</li>
<li>Não precisa criar um usuário IAM.</li>
<li>Forma antiga de conectar, hoje usa-se o <strong>Sigle Sign On</strong>
<img decoding="async" loading="lazy" alt="saml-2.0" src="/assets/images/image-20210907062744488-87cbf489bb82ecaf453b032ce53234e4.png" width="1039" height="304" class="img_ev3q"></li>
</ul>
</li>
<li><strong>Custom Identity Broken.</strong>
<ul>
<li>Usado para provider não compatíveis com SAML 2.0.</li>
<li><strong>Identity Broken</strong> chama o STS para gerar o Token de acesso.
<img decoding="async" loading="lazy" alt="Identity Broken" src="/assets/images/image-20210907063130204-0aff846ccf5e5bb8feec0977c1b528a2.png" width="623" height="259" class="img_ev3q"></li>
</ul>
</li>
<li><strong>Web Identity Federation com Cognito</strong>
<ul>
<li>Permite dar acesso a um recurso usando provider como Facebook.
<img decoding="async" loading="lazy" alt="Web Identity Federation com Cognito" src="/assets/images/image-20210907063638182-87fe781e6e8a739216f8881e5b188a74.png" width="536" height="519" class="img_ev3q"></li>
</ul>
</li>
</ul>
</li>
</ul>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="aws-single-sign-on">AWS Single Sign On<a href="#aws-single-sign-on" class="hash-link" aria-label="Link direto para AWS Single Sign On" title="Link direto para AWS Single Sign On">​</a></h3>
<ul>
<li>Permite centralizar o login, para as contas <strong>AWS</strong>, ou outros aplicativos como Office365, Slack.</li>
<li>É usado quando se tem uma Organização com muitas contas, ai ser configura para que quando o usuário faça o login apareça as contas que ele pode logar na AWS, sem ser necessário criar um usuário em cada conta toda vez. O acesso fica centralizado.
<img decoding="async" loading="lazy" alt="sso" src="/assets/images/image-20210907134228636-abe2d6b5a2d10bca4e442efc9f5fd7c6.png" width="799" height="427" class="img_ev3q"></li>
</ul>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="aws-sts---security-token-service">AWS STS - Security Token Service<a href="#aws-sts---security-token-service" class="hash-link" aria-label="Link direto para AWS STS - Security Token Service" title="Link direto para AWS STS - Security Token Service">​</a></h3>
<ul>
<li>Permite dar <strong>acessos a recursos AWS</strong> de forma <strong>limitada e temporária.</strong></li>
<li>Em geral o <strong>token</strong> da acesso por de <strong>15 minutos</strong> a <strong>1 hora.</strong></li>
<li>Tipos de APIs:<!-- -->
<ul>
<li><strong>AssumeRole</strong>
<ul>
<li>Permite da acesso a ação a <strong>sua própria conta</strong> ou <strong>outras contas</strong> a realizar ações em sua conta.
<img decoding="async" loading="lazy" alt="AssumeRole" src="/assets/images/image-20210907061553994-6ebe9c5576bc1ad7183798309ce8b13a.png" width="528" height="449" class="img_ev3q"></li>
<li>Diagrama de acesso a outras contas
<img decoding="async" loading="lazy" alt="cross-account" src="/assets/images/image-20210907061716700-ecd20d4cf5c9b75b084a6e9a09ddd1a5.png" width="896" height="376" class="img_ev3q"></li>
</ul>
</li>
<li><strong>AssumeRoleWithSAML</strong> - a mesma coisa só que para usuários logados com <strong>SAML</strong>.</li>
<li><strong>AssumeRoleWithWebIdentity</strong> - a mesma coisa só que para usuários logados com <strong>IdP (identity provider)</strong> - Facebook login, Google Login .... Não é recomendado usar, recomenda-se usar o <strong>cognito</strong> para isso.</li>
<li><strong>GetSessionToken</strong> - Para MFA, para usuário <strong>root</strong> de uma conta AWS.</li>
</ul>
</li>
</ul>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="aws-secrets-manager">AWS Secrets Manager<a href="#aws-secrets-manager" class="hash-link" aria-label="Link direto para AWS Secrets Manager" title="Link direto para AWS Secrets Manager">​</a></h3>
<ul>
<li>Usados para guardar segredos (principalmente de banco de dados).</li>
<li>Permite realizar a rotatividade dos segredos automaticamente.</li>
<li>Pode ser usado para guarda senhas em produção.</li>
<li>É muito usado junto com banco de dados.</li>
<li>Os segredos ficam criptografados.</li>
</ul>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="aws-kms">AWS KMS<a href="#aws-kms" class="hash-link" aria-label="Link direto para AWS KMS" title="Link direto para AWS KMS">​</a></h3>
<ul>
<li>Serviço de encriptação da AWS - Key Managemente Service.</li>
<li>Não é possível baixar as chaves.</li>
<li>Gerencia chaves de criptografia.</li>
<li>Serviços com <strong>a opção de se encriptar</strong> dados:<!-- -->
<ul>
<li>EBS, S3, RedShift, RDS, EFS ....</li>
</ul>
</li>
<li>Serviços com <strong>criptografia default:</strong>
<ul>
<li>CloaudTrail Logs, S3 Glacier, Storage Gateway ....</li>
</ul>
</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="cloud-hsm---hardware-security-module">Cloud HSM - Hardware Security Module<a href="#cloud-hsm---hardware-security-module" class="hash-link" aria-label="Link direto para Cloud HSM - Hardware Security Module" title="Link direto para Cloud HSM - Hardware Security Module">​</a></h4>
<ul>
<li>Aws provem um hardware dedicado para que nós possamos gerenciar nossas chaves.</li>
<li>O hardware é resistente a alteração e é homologado (FIPS 140-2 Level 3 Compliance)</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="tipos-de-chaves">Tipos de chaves<a href="#tipos-de-chaves" class="hash-link" aria-label="Link direto para Tipos de chaves" title="Link direto para Tipos de chaves">​</a></h4>
<ul>
<li><strong>CMK</strong> - Customer Master Keys.</li>
<li><strong>Gerenciadas pelo usuario - CMK</strong>
<ul>
<li>Criado pelo usuário dentro do <strong>KMS</strong> ou **HSM **(<strong>hardware security module</strong> ), pode ser deletada ou alterada.</li>
<li>Pode se habilitar a rotação de chave a cada 1 ano.</li>
<li>Também e possível rotacional manualmente, mas é recomendado para chaves <strong>Assimétricas</strong>.</li>
<li>Tem um custo de $1 por mês, e a cada chamada paga-se $0.003.</li>
<li>Pode ser dos tipos<!-- -->
<ul>
<li><strong>Simétricas</strong> (AES-256)</li>
<li><strong>Assimétricas</strong> (RSA &amp; ECC Key Pairs)</li>
</ul>
</li>
</ul>
</li>
<li><strong>Gerenciadas pela AWS - CMK</strong>
<ul>
<li>Chaves criadas e gerenciada pela AWS, não temos acesso.</li>
<li>Não tem custo<!-- -->
<ul>
<li>São as usadas nos serviços.<!-- -->
<ul>
<li>EBS, S3, RedShift, RDS, EFS.</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li><strong>Chaves do HSM</strong>
<ul>
<li>Chaves criada usando o HSM (<strong>hardware security module</strong> )</li>
<li>Replicado em mais de uma AZ
<img decoding="async" loading="lazy" alt="cloudhsm" src="/assets/images/image-20210907151911356-3a23b0d5131e73a3f1466e861c76adb8.png" width="967" height="434" class="img_ev3q">
<img decoding="async" loading="lazy" alt="hms-kms" src="/assets/images/image-20210907152024180-fdbf50d6f10e6b401bbaba15e9b5e83a.png" width="1002" height="287" class="img_ev3q"></li>
</ul>
</li>
</ul>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="aws-shield">AWS Shield<a href="#aws-shield" class="hash-link" aria-label="Link direto para AWS Shield" title="Link direto para AWS Shield">​</a></h3>
<p><img decoding="async" loading="lazy" alt="aws-shield" src="/assets/images/image-20210907152708797-bc2af9ae6bf2ac850d8efbe7eb398484.png" width="654" height="234" class="img_ev3q"></p>
<ul>
<li>Protege contra ataques DDOS | SYN/UDP (floods an reflecion atack).</li>
<li>Trabalha na camada 6 e 4 (rede e transporte).</li>
<li>Versão <strong>standard</strong> é de graça para todos os clientes.</li>
<li>Tem versão <strong>advanced</strong> (analisa a camada 7 aplicação).</li>
<li>Fica nos prontos de presença.</li>
<li>Tem a versão aws shild <strong>advanced</strong> 24/7 premium com DRP (DDos response team) que:<!-- -->
<ul>
<li>Tem custo adicional $ <strong>3000</strong> por organização.</li>
<li>Pode ser usado em Route 53 / Cloud Front | Global Acelerator | Load Balance</li>
</ul>
</li>
</ul>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="aws-waf">AWS WAF<a href="#aws-waf" class="hash-link" aria-label="Link direto para AWS WAF" title="Link direto para AWS WAF">​</a></h3>
<ul>
<li>web application firewall.</li>
<li>Permite bloquear acesso através de uma lista de regras.</li>
<li>Fica nos prontos de presença.</li>
<li>Protege as aplicações ataques (Layer 7 - aplication).</li>
<li>Pode ser usado em:<!-- -->
<ul>
<li>Load balance (http).</li>
<li>API Gateway.</li>
<li>CloudFront.</li>
</ul>
</li>
<li>Permite criar web ACL (web acess control list) que permite:<!-- -->
<ul>
<li>Bloquear ranges de ips, headers ...</li>
<li>Protege contra Sql Injection, Cross-site Spriting (Xss).</li>
<li>Bloqueio por pais ou região (gro-match).</li>
<li>Bloqueio por quantidade de requisição.</li>
<li>Tem um custo de $5 por mês por ACL.</li>
</ul>
</li>
<li><strong>AWS Firewal manager</strong>
<ul>
<li>Permite gerenciar regras de todas as contas AWS de forma centralizada.</li>
<li>Tem regras comuns de segurança.</li>
</ul>
</li>
</ul>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="aws-guard-duty">AWS Guard Duty<a href="#aws-guard-duty" class="hash-link" aria-label="Link direto para AWS Guard Duty" title="Link direto para AWS Guard Duty">​</a></h3>
<p><img decoding="async" loading="lazy" alt="guard-duty" src="/assets/images/image-20210907160116228-8bef27928ba7a55c19c454df9070066a.png" width="674" height="195" class="img_ev3q"></p>
<ul>
<li>Serviço de inteligência artificial para detectar anomalias na sua conta.</li>
<li>Tem free trial , após isso é gerado cobrança.</li>
<li>é um serviço regional.</li>
<li>Recebe dados do:<!-- -->
<ul>
<li><strong>Cloud Trail</strong> - detecta chamadas incomuns e não autorizadas.</li>
<li><strong>VPC Flow</strong> - detecta trafico incomum e IPs incomuns.</li>
<li><strong>DNS Logs</strong> - detecta instâncias dados comprometedores enviando dados de DNS.</li>
</ul>
</li>
<li>Ler todos e através de algoritmos ele detecta coisas erradas.</li>
<li>É possível conectar ao <strong>event Brigde</strong> do <strong>Cloud Watch</strong> para notificar.</li>
</ul>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="aws-inspector">AWS Inspector<a href="#aws-inspector" class="hash-link" aria-label="Link direto para AWS Inspector" title="Link direto para AWS Inspector">​</a></h3>
<p><img decoding="async" loading="lazy" alt="inspect" src="/assets/images/image-20210907160835588-a237e279f95a962e87692dd77d2c8fd2.png" width="371" height="522" class="img_ev3q"></p>
<ul>
<li>Permite que você analise o comportamento de seus recursos da AWS e ajuda a identificar possíveis problemas de segurança.</li>
<li><strong>AWS Inspector</strong> inspeciona instâncias EC2 contra ameaças comuns.</li>
<li>Tem um agente que pode ser instalado nas EC2.</li>
<li>Analisa apenas instâncias em execução e procura risco na aplicação.</li>
<li>Possível configurar a periodicidade de execução.</li>
<li>Tem um alto custo sendo:<!-- -->
<ul>
<li>60$ - para analises de rede (Acesso indevido e capacidade).</li>
<li>120$ - para analise da maquina (checa por vulnerabilidade comuns).</li>
</ul>
</li>
</ul>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="aws-macie">AWS macie<a href="#aws-macie" class="hash-link" aria-label="Link direto para AWS macie" title="Link direto para AWS macie">​</a></h3>
<p><img decoding="async" loading="lazy" alt="macie" src="/assets/images/image-20210907161308569-337297b1e12caece9f04a3120929ea58.png" width="933" height="196" class="img_ev3q"></p>
<ul>
<li>Usa <strong>machine learning,</strong> para detectar dados sensíveis (PII - Personally identifiable information).</li>
<li>Totalmente serveless.</li>
<li>Analisa os dados e notifica o <strong>CloudWatch EventBridge</strong> que notica via <strong>SQS</strong>, <strong>SNS</strong> ou
<strong>Lambda</strong>.</li>
</ul>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="aws-security-hub">AWS Security HUB<a href="#aws-security-hub" class="hash-link" aria-label="Link direto para AWS Security HUB" title="Link direto para AWS Security HUB">​</a></h3>
<p><img decoding="async" loading="lazy" alt="security-hub" src="/assets/images/image-20210907161531824-a1134e012319aa3cba85b8ae4048e74c.png" width="680" height="295" class="img_ev3q"></p>
<ul>
<li>Centraliza a gestão de segurança de múltiplas contas.</li>
<li>Agrega alertas de outros serviços visto anteriormente.</li>
<li>Usa o <strong>AWS config</strong> .</li>
<li>Dá para automatizar com funções para resolver problemas conhecido (tipos porta <strong>ssh</strong> liberada ..)</li>
</ul>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="11---armazenamento">11 - Armazenamento<a href="#11---armazenamento" class="hash-link" aria-label="Link direto para 11 - Armazenamento" title="Link direto para 11 - Armazenamento">​</a></h2>
<p><img decoding="async" loading="lazy" alt="storage" src="/assets/images/image-20210902070844946-ab8577527a13075cc425961dd41a435e.png" width="1069" height="436" class="img_ev3q"></p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="ebs---elastic-block-storage">EBS - Elastic block storage<a href="#ebs---elastic-block-storage" class="hash-link" aria-label="Link direto para EBS - Elastic block storage" title="Link direto para EBS - Elastic block storage">​</a></h3>
<ul>
<li>Serviço de armazenamento de instâncias EC2.</li>
<li>Nativamente replicado dentro da Zona de disponibilidade.</li>
<li>Backup e feito usando snapshot.</li>
<li>E possível criar uma novo volume com o snapshot criado.</li>
<li>Possível encriptar, dados em repouso em transporte e snapshots.</li>
<li>O processo de encriptação e transparente ao usuário.</li>
<li>Para se encriptar um volume já criado sem encriptação e necessário criar um snapshot e depois criar uma copia desse snapshot e marcar a opção de encriptação e depois criar um volume a partir desse novo snapshot e conecta-lo na instância.</li>
<li>É possível usar o <strong>EBS</strong> com RAID (apenas o Raid 0 e o Raid 1) sendo:<!-- -->
<ul>
<li>RAID 0 - os dados são dividos entre os discos (melhora o desempenho).</li>
<li>RAID 1 - os dados são espelhados entre os discos (tolerante a falha).</li>
<li>Precisa ser feito dentro do SO, não há ferramentas dentro do console para isso</li>
</ul>
</li>
<li>Tipos
<img decoding="async" loading="lazy" alt="Tipos ebs" src="/assets/images/image-20210819054333580-f85edfa5be596ec9123105fa38912351.png" width="1920" height="1163" class="img_ev3q">
<img decoding="async" loading="lazy" alt="tipos-ebs" src="/assets/images/image-20210819054408303-ebce6ada3f96676021dc019ed8567f42.png" width="1058" height="446" class="img_ev3q">
os tipos io1 / io2 permitem conectar o mesmo em mais de uma instância, isso é usado em aplicação de alta disponibilidade, ex Cassandra ...</li>
</ul>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="uso">Uso<a href="#uso" class="hash-link" aria-label="Link direto para Uso" title="Link direto para Uso">​</a></h5>
<p><img decoding="async" loading="lazy" alt="ebs-snapshot" src="/assets/images/image-20210819054545291-fe0102fa11c09f66ee93cd31d4dc9f7d.png" width="425" height="467" class="img_ev3q"></p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="efs---elastic-file-system">EFS - Elastic file system<a href="#efs---elastic-file-system" class="hash-link" aria-label="Link direto para EFS - Elastic file system" title="Link direto para EFS - Elastic file system">​</a></h3>
<ul>
<li>NFS (network file system) que pode ser montado num EC2.</li>
<li>Diferente do EBS que só pode sem usado em apenas uma <strong>AZ</strong>, o <strong>EFS</strong> pode ser montado e AZs diferentes</li>
<li>Pague por uso.</li>
<li>Usa um <strong>security group</strong> para se linkar as instâncias.</li>
<li>Usados quando se quer compartilhar arquivos com varias instâncias ex. arquivos <strong>wordpress</strong>.</li>
<li>Usados apenas com <strong>Linux</strong> (ami), não compatível com Windows.</li>
<li>Pode ser encriptado usando KMS.</li>
<li>Suporta milhares de clientes, e pode ter ate 10gb+ de thoughput .</li>
<li>O tipo de performance pode ser definido na criação podendo ser:<!-- -->
<ul>
<li><strong>General purpose (default)</strong> - (web server - cms, etc...)</li>
<li><strong>Max IO</strong> - Big data, processamento de vídeo.</li>
</ul>
</li>
<li><strong>Throughput mode</strong>
<ul>
<li><strong>Bursting</strong> - Cresce de acordo com o tamanho do <strong>filesystem</strong>.</li>
<li><strong>Provisined</strong> - Possível definir um nível.</li>
</ul>
</li>
<li><strong>Storages Ties</strong> (lifecycle management feature - Move os arquivos após 30 dias)<!-- -->
<ul>
<li><strong>Standard</strong> - para arquivos acessados frequentemente</li>
<li><strong>infreaquet access (EFS-IA)</strong> - Arquivos que não são acessado com muita frequência, tem preço menor, porem e cobrado por recuperação de arquivo.
<img decoding="async" loading="lazy" alt="efs" src="/assets/images/image-20210819054618860-72d8e96bcab4f36bbecc09a228521bcb.png" width="883" height="323" class="img_ev3q"></li>
</ul>
</li>
</ul>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="uso-1">Uso<a href="#uso-1" class="hash-link" aria-label="Link direto para Uso" title="Link direto para Uso">​</a></h5>
<p><img decoding="async" loading="lazy" alt="efs-uso" src="/assets/images/image-20210819054634544-ca14afc58919e55ce74e8b18ddc0c801.png" width="424" height="502" class="img_ev3q"></p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="amazon-fsx">Amazon FSx<a href="#amazon-fsx" class="hash-link" aria-label="Link direto para Amazon FSx" title="Link direto para Amazon FSx">​</a></h3>
<ul>
<li>Semelhante ao <strong>EFS</strong> (usado para Linux) só para Windows.</li>
<li>Tem suporte para os protocolos <strong>SMB e NTFS.</strong></li>
<li>Tem suporte para o Active Directory da Microsoft.</li>
<li><strong>Amazon FSx for Lustre</strong>
<ul>
<li>Lustre (linux + cluster) é um sistema de arquivo distribuído e paralelo para computação em escala.</li>
<li>Usado em marchine learning e Computação de alta performace (HPC)</li>
</ul>
</li>
</ul>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="amazon-s3">Amazon S3<a href="#amazon-s3" class="hash-link" aria-label="Link direto para Amazon S3" title="Link direto para Amazon S3">​</a></h3>
<ul>
<li>Serviço <strong>regional</strong> com visibilidade <strong>global</strong>.</li>
<li>E totalmente gerenciado pela AWS.</li>
<li>Tem que ter o nome único em todo mundo para o nome do bucket. Pois será usado na URL do arquivo armazenado. De 3 a 63 letras, sem caracteres especiais.</li>
<li>Repica os dado em 3 AZ.</li>
<li>Tem uma durabilidade de 99,999... (11 noves).</li>
<li>E possível definir as permissões de acesso.</li>
<li>É possível subir qualquer arquivo de ate 0 bytes ate 5 terasbytes de tamanho.</li>
<li><strong>Multi Part</strong> é o processo de subir um arquivo em vários pedaços menores paralelamente.</li>
<li><strong>O upload de Multi Part</strong> também é recomendado assim que o arquivo tiver mais de 100 MB</li>
<li>É armazenado como <strong>Object level storage.</strong></li>
<li>As ações dentro do S3 geram eventos.</li>
<li>Como segurança tem <strong>ACL (acess control list)</strong>, referece a regras de acesso ao bucket, para dar acesso aos arquivo e preciso torna-lo publico</li>
<li>Como segurança tem o <strong>Bucket police,</strong> onde é possível definir as regras de acesso</li>
<li>Caso de uso mais comuns<!-- -->
<ul>
<li>Backup and storage.</li>
<li>Application hosting (site estático).</li>
<li>Media Hosting.</li>
<li>software delivery.</li>
</ul>
</li>
<li><strong>Glacier Vault Lock -</strong> Permite configurar para que arquivos nunca seja deletados, usado em complience.</li>
<li><strong>S3 Object Lock</strong> - Semelhante ao anterior, mas permite configurar a retenção do objeto, por exemplo o arquivo não pode ser modificado por 30 dias, o a nota ficsal não pode ser apagada por 5 anos</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="precificação-2">Precificação<a href="#precificação-2" class="hash-link" aria-label="Link direto para Precificação" title="Link direto para Precificação">​</a></h4>
<ul>
<li>GBs por mês.</li>
<li>Transferência para fora da região do <strong>bucket</strong>.</li>
<li>Requisições via api (put, get, copy,list, post).</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="classes-de-s3">Classes de S3<a href="#classes-de-s3" class="hash-link" aria-label="Link direto para Classes de S3" title="Link direto para Classes de S3">​</a></h4>
<ul>
<li><strong>Padrão:</strong> o Standard S3 é uma plataforma de armazenamento de objetos de uso geral projetada para dados de aplicativos que devem estar disponíveis instantânea e constantemente.</li>
<li><strong>Intelligent-Tiering:</strong> Muitos aplicativos têm grandes conjuntos de dados com uma variedade de padrões de acesso. Esses padrões dependem de fatores como o tipo de dados, mudanças sazonais e necessidades internas de negócios. O Intelligent-Tiering identifica e move automaticamente os dados acessados com pouca frequência - dados que não foram acessados por 30 dias - para uma infraestrutura de baixo custo. Quando um objeto na camada não frequente é acessado, ele é automaticamente movido de volta para a camada de alto desempenho e o relógio de 30 dias é reiniciado.</li>
<li><strong>Acesso não frequente padrão (IA):</strong> alguns dados raramente são acessados, mas exigem desempenho rápido quando os usuários precisam. A camada Standard-IA visa esse cenário e oferece desempenho semelhante ao S3 padrão, mas com menos disponibilidade.</li>
<li><strong>One Zone-IA:</strong> Ao contrário do Standard-IA, esta camada não distribui dados automaticamente em pelo menos três AZs. No entanto, os dois níveis de IA fornecem a mesma latência de milissegundos para os dados que o S3 padrão.</li>
<li><strong>Glacier:</strong> embora use armazenamento de objetos, o Glacier é um animal diferente das outras versões do S3, pois é totalmente projetado para arquivamento de dados. A AWS nunca revelou a tecnologia subjacente do Glacier. Independentemente de o Glacier usar unidades de disco rígido de baixo desempenho, fita, óptica ou qualquer outra coisa, seus parâmetros de desempenho e disponibilidade são semelhantes aos das bibliotecas de fitas corporativas. No entanto, ao contrário de uma biblioteca de fitas, os usuários do Glacier podem especificar um tempo máximo para recuperação de dados que pode variar de alguns minutos a horas.<!-- -->
<ul>
<li>Aqui cada arquivo é chamado de <strong>Archive</strong> e são armazenados em <strong>vaults</strong> que é a mesma coisa que buckets.</li>
<li>Formas de recuperar os arquivos<!-- -->
<ul>
<li><strong>Expedited</strong> - (1 a 5 minutos) - custa $10</li>
<li><strong>Standard</strong> - (3 a 5 horas) - custa $0.05</li>
<li><strong>Bulk</strong> - (5 a 12 horas) - custa $ 0.025</li>
</ul>
</li>
<li>A duração minima de armazenamento é de 90 dias.</li>
</ul>
</li>
<li><strong>Glacier Deep Archive:</strong> Deep Archive é projetado para arquivamento de longo prazo - pense em anos - com acesso raro e lento aos dados em 12 horas.<!-- -->
<ul>
<li>Formas de recuperar os arquivos<!-- -->
<ul>
<li><strong>Standard</strong> - (12 horas) - custa $0.10</li>
<li><strong>Bulk</strong> - (48 horas) - custa $ 0.025</li>
</ul>
</li>
<li>A duração minima de armazenamento é de 180 dias.
E possivel usar o S3 - Intelligent - Tiering , mover os dados para os outro niveis de classe do s3
<img decoding="async" loading="lazy" alt="types" src="/assets/images/image-20210819054715506-2549485834b13fef32adc9213fac0e11.png" width="1200" height="515" class="img_ev3q">
Recomendação de leitura: <a href="https://searchaws.techtarget.com/tip/Analyze-Amazon-S3-storage-classes-from-Standard-to-Glacier" target="_blank" rel="noopener noreferrer">Analise as classes de armazenamento do Amazon S3, do padrão ao Glacier</a></li>
</ul>
</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="s3---encryption">S3 - Encryption<a href="#s3---encryption" class="hash-link" aria-label="Link direto para S3 - Encryption" title="Link direto para S3 - Encryption">​</a></h4>
<p><img decoding="async" loading="lazy" alt="Encryption" src="/assets/images/image-20210819054838607-e8381ffc03bf67e384f52a65959a340c.png" width="1398" height="457" class="img_ev3q"></p>
<ul>
<li>É possivel criar uma bucket police para validar se um objeto foi encriptdado.</li>
<li>Caso o bucket tenha uma encriptação habilitado por default, e se criptografe o arquivo durante o upload, esse arquivo não será encriptado de novo pelo encriptação default.</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="s3---data-consistency">S3 - Data consistency<a href="#s3---data-consistency" class="hash-link" aria-label="Link direto para S3 - Data consistency" title="Link direto para S3 - Data consistency">​</a></h4>
<p><img decoding="async" loading="lazy" alt="Data consistency" src="/assets/images/image-20210819054900853-449e7e958a5906fa166b5ec69cf1655a.png" width="1359" height="429" class="img_ev3q"></p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="s3---replication">S3 - Replication<a href="#s3---replication" class="hash-link" aria-label="Link direto para S3 - Replication" title="Link direto para S3 - Replication">​</a></h4>
<ul>
<li>O <strong>S3 - Versioning</strong> deve esta habilitado em ambos os buckets.</li>
<li>Pode ser feito usando contas diferentes.</li>
<li>Há dois tipos<!-- -->
<ul>
<li><strong>SRR</strong> - Same region replication<!-- -->
<ul>
<li>Usado para agrupamento de logs, replicação de dados entre ambientes (dev e hml).</li>
</ul>
</li>
<li><strong>CRR</strong> - Cross region replication - Usado para compliance, baixar a latência de acesso, replicação em diferentes contas.
<img decoding="async" loading="lazy" alt="Cross region replication" src="/assets/images/image-20210819054942170-33dc5e7c457fb2b43c99883205bf593c.png" width="1383" height="508" class="img_ev3q"></li>
</ul>
</li>
<li>Após habilitado só ira replicar novos objetos, os antigos não serão replicados.</li>
<li>Para deletar, se deleta da origem e é replicado a deleção, mais isso é opcional, se não for habilitado não será replicado o marcador de delete para o outro bucket.</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="s3---versioning">S3 - Versioning<a href="#s3---versioning" class="hash-link" aria-label="Link direto para S3 - Versioning" title="Link direto para S3 - Versioning">​</a></h4>
<p><img decoding="async" loading="lazy" alt="Versioning" src="/assets/images/image-20210819055012729-98a91b0d4ae8313f2c4888c77fb47c56.png" width="1367" height="591" class="img_ev3q"></p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="s3---mfa---delete">S3 - MFA - delete<a href="#s3---mfa---delete" class="hash-link" aria-label="Link direto para S3 - MFA - delete" title="Link direto para S3 - MFA - delete">​</a></h4>
<ul>
<li>Impede que o usuário deleta permanentemente um objeto versionado no S3.</li>
<li>Deve ser habilitado pelo dono do bucket (root account).</li>
<li>Só pode ser habilitado via CLI com o profile de root account.</li>
<li>Para usar essa funcionalidade é necessário ter o S3 - Versioning habilitado.</li>
<li>Será usado quando:<!-- -->
<ul>
<li>For deletar um arquivo permanentemente.</li>
<li>For desabilitar o versionamento.</li>
</ul>
</li>
<li>Não precisa usar quando:<!-- -->
<ul>
<li>For deletar uma versão qualquer.</li>
<li>For habilitar o versionamento.</li>
</ul>
</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="s3---lifecycle-management">S3 - lifecycle management<a href="#s3---lifecycle-management" class="hash-link" aria-label="Link direto para S3 - lifecycle management" title="Link direto para S3 - lifecycle management">​</a></h4>
<p><img decoding="async" loading="lazy" alt="lifecycle management" src="/assets/images/image-20210819055054870-41fb7b339e40c294a34ad13681b17875.png" width="1403" height="617" class="img_ev3q"></p>
<ul>
<li><strong>Ações de transição</strong> - Permite definir quando o objeto sera movido</li>
<li><strong>Ações de expiração</strong> - Permite definir tempo de expiração dos objetos e regras para deletar</li>
<li>Também é possível definir regras por <strong>prefixos</strong> ou <strong>tag</strong> , para, por exemplo, mover apenas objetos de uma pasta X.</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="s3---transfer-acceleration">S3 - Transfer acceleration<a href="#s3---transfer-acceleration" class="hash-link" aria-label="Link direto para S3 - Transfer acceleration" title="Link direto para S3 - Transfer acceleration">​</a></h4>
<p><img decoding="async" loading="lazy" alt="Transfer acceleration " src="/assets/images/image-20210819055118471-730385e85b9f955c8ea4df9150144f6c.png" width="1384" height="540" class="img_ev3q"></p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="s3---presigned-urls">S3 - Presigned urls<a href="#s3---presigned-urls" class="hash-link" aria-label="Link direto para S3 - Presigned urls" title="Link direto para S3 - Presigned urls">​</a></h4>
<ul>
<li>Gera uma url da acesso temporário a um recurso no S3.</li>
<li>Pode se usar o CLI ou o SDK para gerar urls.<!-- -->
<ul>
<li>Para Download (fácil, use CLI)</li>
<li>Para Upload (complidado, use SDK)</li>
</ul>
</li>
<li>Tem um tempo de expiração padrão de 3600 segundos, mas e possível alterar.
<img decoding="async" loading="lazy" alt="Presigned urls" src="/assets/images/image-20210819055145289-4a766448686909d0d55e7ee3fbe28180.png" width="1413" height="567" class="img_ev3q"></li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="s3---security">S3 - Security<a href="#s3---security" class="hash-link" aria-label="Link direto para S3 - Security" title="Link direto para S3 - Security">​</a></h4>
<ol>
<li>Forma de acesso ao bucket e aos objetos contido nele.</li>
</ol>
<ul>
<li><strong>Baseada em usuários</strong> (user based) - diz-se que para ter acesso processar ter permissão via IAM Console</li>
<li><strong>Baseada em recurso</strong> (Resource based)<!-- -->
<ul>
<li><strong>Bucket Polices</strong>
<ul>
<li>Regras de acesso ao bucket, permite outros recurso e outras contas a ter acesso.</li>
<li>Escrita em json.</li>
</ul>
</li>
<li><strong>Object Access Control List (ACL)</strong> - Define a lista de acesso de cada objeto armazenado (nível mais baixo).</li>
<li><strong>Bubcket Access Control List (ACL)</strong> - Define a lista de acesso de cada <strong>bucket</strong> (menos comum de ser usado);
De forma geral se deve ter acesso concedido via IAM <strong>OU</strong> via Resouce police para ter acesso, senão tudo será negado.
<img decoding="async" loading="lazy" src="https://www.msp360.com/resources/wp-content/uploads/2018/09/AWS-S3-access-control-tools.png" alt="AWS IAM Security Part 1: S3 Access Control Tools" class="img_ev3q"></li>
</ul>
</li>
</ul>
<ol start="2">
<li>Para segurança e auditoria o <strong>S3</strong> disponibiliza:</li>
</ol>
<ul>
<li>S3 Access Logs, que pode ser armazenado em outro S3.</li>
<li>API que pode loggar essa informações no AWS CloudTrail.</li>
<li>Também é possível implementar o MFA para deletar de objetos específicos.</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="s3---access-logs">S3 - Access logs<a href="#s3---access-logs" class="hash-link" aria-label="Link direto para S3 - Access logs" title="Link direto para S3 - Access logs">​</a></h4>
<ul>
<li>É possível usar um bucket de logs para guardar os <strong>server access logs</strong> de um bucket S3.</li>
<li>É usado para auditoria, ou para analise com o <strong>Athena</strong>.</li>
<li>Os logs devem ser armazenados em um <strong>bucket</strong> diferente (senão geraria um loop).</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="s3-select-e-glacier-select">S3 Select e Glacier Select<a href="#s3-select-e-glacier-select" class="hash-link" aria-label="Link direto para S3 Select e Glacier Select" title="Link direto para S3 Select e Glacier Select">​</a></h4>
<ul>
<li>Permite usar SQL para melhorar a recuperação de dados por meio de filtros</li>
<li>É possível realizar filtros por linhas e colunas (consultas simples de SQL)</li>
<li>Usa menos banda de rede pois as queries seram executado do lado do S3 e só retornará o resultado.
<img decoding="async" loading="lazy" alt="select-s3" src="/assets/images/image-20210901073640794-7cfe0af907e9294ce144bfe21541cfd7.png" width="572" height="301" class="img_ev3q"></li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="s3-well-architected">S3 Well Architected<a href="#s3-well-architected" class="hash-link" aria-label="Link direto para S3 Well Architected" title="Link direto para S3 Well Architected">​</a></h4>
<p><img decoding="async" loading="lazy" alt="s3-well-arch" src="/assets/images/image-20210905114534983-cbcd35663032dbd9cb3abbcec6cb49d9.png" width="998" height="312" class="img_ev3q"></p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="instance-store">Instance store<a href="#instance-store" class="hash-link" aria-label="Link direto para Instance store" title="Link direto para Instance store">​</a></h3>
<ul>
<li>O Instance Store são os volumes em bloco armazenados diretamente no <strong>host físico</strong>, dentro do servidor físico na AWS onde está rodando sua instância EC2.</li>
<li>Diferente do EBS, que fica fora do servidor, mas ainda assim dentro do Datacenter.</li>
<li>Algumas instâncias EC2 podem ter discos diretamente conectado ao servidor onde são virtualizadas.</li>
<li>Armazenamento com melhor I/O.</li>
<li>Dados guardo dentro da instância, e perdido ao se parar a instância</li>
<li>Excelente para guardar cache / dados temporários.</li>
<li>Existe um recurso de hibernação que preserva os dados.</li>
</ul>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="aws-storage-gateway">AWS Storage Gateway<a href="#aws-storage-gateway" class="hash-link" aria-label="Link direto para AWS Storage Gateway" title="Link direto para AWS Storage Gateway">​</a></h3>
<ul>
<li>Usado e cloud híbrida. Permite fazer uma ponte entre os dados da nuvem e o ambiente local (on-primeses).</li>
<li>Conecta um dispositivo de software local a um armazenamento em nuvem para oferecer uma
integração perfeita e segura entre um ambiente de TI local e a infraestrutura de armazenamento da AWS.</li>
<li>Você pode usar esse serviço para armazenar dados no AWS para
armazenamento escalável e econômico que ajuda a manter a segurança dos dados.</li>
<li>Oferece <strong>Gateways</strong> de arquivo baseados em arquivo (S3, FSx ), volumes
(armazenados em cache e armazenados) e soluções de armazenamento em fita.</li>
<li>Tipos de armazenamento que é possivel configurar:<!-- -->
<ul>
<li><strong>Files (S3 / FSx)</strong> - Usado para armazenar arquivos.
<img decoding="async" loading="lazy" alt="file-gw" src="/assets/images/image-20210902062908850-d0e20af63d605d334b028b7377cfef09.png" width="936" height="238" class="img_ev3q"></li>
<li><strong>Volumes (EBS)</strong> - Usados para armazenar dados de backups, ou volumes.
<img decoding="async" loading="lazy" alt="volume-gatway" src="/assets/images/image-20210902063040487-a67b8d049b91f9c113ba6b4d09f25f8e.png" width="906" height="245" class="img_ev3q"></li>
<li><strong>Fitas (S3 Glacier) -</strong> Usado onde há processos semelhantes fitas.
<img decoding="async" loading="lazy" alt="type-gw" src="/assets/images/image-20210902063153289-38001caac1e678fa5d442cb71aa5fdca.png" width="886" height="239" class="img_ev3q"></li>
</ul>
</li>
<li>Pode se usar autenticação integrada com o Active directory.</li>
<li>AWS, também oferecer hardware para disponibilizar essas funcionalidade. Onde não há própria estrutura de virtualização para implementar o <strong>AWS Gateway Storage.</strong></li>
</ul>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="12---well-architected-framework">12 - Well Architected Framework<a href="#12---well-architected-framework" class="hash-link" aria-label="Link direto para 12 - Well Architected Framework" title="Link direto para 12 - Well Architected Framework">​</a></h2>
<p>![AWS Well Architected Framework Review](assets/Screen Shot 2019-09-09 at 16.40.22.pngwidth=2560&amp;name=Screen Shot 2019-09-09 at 16.40.22.png)</p>
<ul>
<li>Pare de tentar adivinhar sua capacidade.</li>
<li>Testar em escala de produção.</li>
<li>Automatize para tornar sua infraestrutura facil.</li>
<li>Evolua constantemente sua arquitetura.</li>
<li>Usar a coleta os dados para melhor sua aplicação.</li>
<li>Se programar para dias específicos.</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="pilares">Pilares<a href="#pilares" class="hash-link" aria-label="Link direto para Pilares" title="Link direto para Pilares">​</a></h4>
<ul>
<li><strong>Operational excelence</strong> - Excelência operacional<!-- -->
<blockquote>
<ul>
<li>
<p>Inclui a capacidade de apoiar o desenvolvimento e executar cargas de trabalho de forma eficaz, obter uma visão sobre sua operação e melhorar continuamente os processos e procedimentos de suporte para entregar valor de negocio.</p>
</li>
<li>
<p><strong>Design Principles</strong></p>
<ul>
<li>Executar operações como código, infraestrutura as code.</li>
<li>Documente os processos.</li>
<li>Faça alterações frequentes, pequenas e reversíveis.</li>
<li>Refine os procedimentos de operações com frequência.</li>
<li>Antecipar o fracasso</li>
<li>Aprenda com todas as falhas operacionais.</li>
</ul>
<p><img decoding="async" loading="lazy" alt="Operational excelence" src="/assets/images/image-20210911113736922-8f7c774b2693dee2ad2d0331c4ce7472.png" width="676" height="377" class="img_ev3q"></p>
</li>
</ul>
</blockquote>
</li>
<li><strong>Security</strong> - Segurança<!-- -->
<blockquote>
<ul>
<li>
<p>Capacidade de proteger dados, sistemas e ativos para aproveitar as vantagens das tecnologias de nuvem para melhorar sua segurança.</p>
</li>
<li>
<p><strong>Design Principles</strong></p>
<ul>
<li>Implemente uma base de identidade forte - Mínimo privilegio possível.</li>
<li>Ative a rastreabilidade. Habilitar tracing integrado.</li>
<li>Aplique segurança em todas as camadas.</li>
<li>Automatize as melhores práticas de segurança.</li>
<li>Proteja os dados em trânsito e em repouso.</li>
<li>Mantenha as pessoas longe dos dados.</li>
<li>Prepare-se para eventos de segurança.</li>
</ul>
</li>
</ul>
<p><img decoding="async" loading="lazy" alt="Security" src="/assets/images/image-20210911113818679-dbe0af2103d542a86375046689f65ac9.png" width="639" height="373" class="img_ev3q"></p>
</blockquote>
</li>
<li><strong>Realibility</strong> - Confiabialiade<!-- -->
<blockquote>
<ul>
<li>Engloba a capacidade de uma carga de trabalho de desempenhar sua função pretendida de forma correta e consistente quando é esperado. Isso inclui a capacidade de operar e testar a carga de trabalho em todo o seu ciclo de vida.</li>
<li><strong>Design Principles</strong>
<ul>
<li>Recuperar automaticamente da falha ( recuperação de desastre).</li>
<li>Procedimentos de recuperação de teste.</li>
<li>Escale horizontalmente para aumentar a disponibilidade de carga de trabalho agregada.</li>
<li>Pare de adivinhar a capacidade.</li>
<li>Gerenciar mudanças com automações</li>
</ul>
</li>
</ul>
<p><img decoding="async" loading="lazy" alt="Realibility" src="/assets/images/image-20210911113941996-3d770d3bbc8d62eaa4bd3bb472b64c11.png" width="672" height="406" class="img_ev3q"></p>
</blockquote>
</li>
<li><strong>Perfome efficiente</strong> - Perfome eficiente<!-- -->
<blockquote>
<ul>
<li>Inclui a capacidade de usar recursos de computação de forma eficiente para atender aos requisitos do sistema e manter essa eficiência conforme a demanda muda e as tecnologias evoluem.</li>
<li><strong>Design Principles</strong>
<ul>
<li>Democratizar tecnologias avançadas.</li>
<li>Torne-se global em minutos.</li>
<li>Use arquiteturas sem servidor (serverless).</li>
<li>Experimente com mais frequência.</li>
<li>Considere simpatia mecânica (Conheças os serviços específicos da AWS, para cargas de trabalho especificas)</li>
</ul>
</li>
</ul>
<p><img decoding="async" loading="lazy" alt="Perfome efficiente" src="/assets/images/image-20210911113903778-b3242783290d2998b348931b5edb7247.png" width="669" height="330" class="img_ev3q"></p>
</blockquote>
</li>
<li><strong>Cost optimization</strong> - Otimização de custos<!-- -->
<blockquote>
<ul>
<li>Inclui a capacidade de executar sistemas para agregar valor ao negócio com o menor preço.</li>
<li><strong>Design Principles</strong>
<ul>
<li>Implementar gerenciamento financeiro em nuvem (pague pelo que usa).</li>
<li>Adote um modelo de consumo.</li>
<li>Meça a eficiência geral.</li>
<li>Analisar e atribuir despesas.</li>
<li>Use serviços gerenciado pela AWS para reduzir custo.</li>
</ul>
</li>
</ul>
<p><img decoding="async" loading="lazy" alt="Cost optimization" src="/assets/images/image-20210911114006745-dd844985dc869d2e68bb667f2ffbb5d0.png" width="675" height="290" class="img_ev3q"></p>
</blockquote>
</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="well-architected-tool">Well Architected Tool<a href="#well-architected-tool" class="hash-link" aria-label="Link direto para Well Architected Tool" title="Link direto para Well Architected Tool">​</a></h4>
<ul>
<li>Ferramenta para validar se sua organização esta seguindo os pilares da well architected.</li>
<li>Gera relatório de acordo com algumas validações e com perguntas a serem feitas nas aplicações e
estrutura.</li>
</ul>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="13---cases">13 - Cases<a href="#13---cases" class="hash-link" aria-label="Link direto para 13 - Cases" title="Link direto para 13 - Cases">​</a></h2>
<p>Abaixo alguns case de como usar os recurso AWS no dia a dia.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="soluções-serverless">Soluções Serverless<a href="#soluções-serverless" class="hash-link" aria-label="Link direto para Soluções Serverless" title="Link direto para Soluções Serverless">​</a></h3>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="1-app-todolist">1. App TodoList<a href="#1-app-todolist" class="hash-link" aria-label="Link direto para 1. App TodoList" title="Link direto para 1. App TodoList">​</a></h4>
<ul>
<li>
<p>Usuário pode criar lista de tarefas e armazenar dados no S3, tem que ter autenticação.</p>
<ul>
<li><strong>Solução visão nivel api</strong>
<blockquote>
<p>Se cria uma API com API Gateway, que verifica as credenciais e dispara uma lambda que acessa o banco de dados.
<img decoding="async" loading="lazy" alt="api-level" src="/assets/images/image-20210905053728953-b6998a7f170af68e0d5cd9fde1cb6da7.png" width="907" height="320" class="img_ev3q"></p>
</blockquote>
</li>
<li><strong>Solução visão acesso ao S3</strong>
<blockquote>
<p>O Cognito via STS gera um token temporario para acessar o S3
<img decoding="async" loading="lazy" alt="access-s3" src="/assets/images/image-20210905053914308-9126f1f59789ebf8becb809c1613b361.png" width="895" height="477" class="img_ev3q"> &gt; <strong>Sulução visão cache</strong></p>
</blockquote>
</li>
<li><strong>Cache para muitas leituras na DynamoDB</strong>
<blockquote>
<p>Quando temos muito acesso de leitura a arquivos staticos no DynamoDB, podemos adicionar o DAX, que vai realizar o cache dos dados mais acessados do banco, melhorando assim a leitura.
<img decoding="async" loading="lazy" alt="cache-dax" src="/assets/images/image-20210905054333825-16d1af89c85e084de08b80fd9130d3cc.png" width="1016" height="479" class="img_ev3q"></p>
</blockquote>
</li>
</ul>
</li>
<li>
<p><strong>Cache de responses</strong></p>
<blockquote>
<p>Também seria possivel habilitar o caching no gateway, para cachear os requestes.
<img decoding="async" loading="lazy" alt="gw-api-gw" src="/assets/images/image-20210905054833125-97dc38e4deaf620e3b46504fc5381213.png" width="1015" height="453" class="img_ev3q"></p>
</blockquote>
<hr>
</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="2-blog">2. Blog<a href="#2-blog" class="hash-link" aria-label="Link direto para 2. Blog" title="Link direto para 2. Blog">​</a></h4>
<ul>
<li>Blog disponível globalmente, com milhares de acessos (read) por hora .</li>
<li>A maiorias dos dados são estáticos. .</li>
<li>Terá um e-mail de boas vindas para os subscritos.</li>
<li>As fotos adicionadas ao blog devem passar por uma tratamento, para reduzir o tamanho.</li>
<li><strong>Solução arquivos staticos (site)</strong>
<blockquote>
<p>Coloca os arquivos num <strong>bucket</strong>, e usa o <strong>CDN</strong> para distribuir globalmente, e habilita <strong>OIA</strong> que só permitir o CDN acessar o Bucket incrementado a segurança.
<img decoding="async" loading="lazy" alt="blog" src="/assets/images/image-20210905055651238-c31d5529779977bc558267028e4b3244.png" width="1062" height="352" class="img_ev3q"></p>
</blockquote>
</li>
<li><strong>Solução para Ações dentro do site</strong>
<blockquote>
<p>Imagine que precise adicionar ações que recupere dados de um banco de dados, para fazer isso se cria um API com API Gateway que acessa uma lambda que acessa o banco conforme visto no case anterior.
<img decoding="async" loading="lazy" alt="api-acess" src="/assets/images/image-20210905060328372-2d22ab2fb7402e39d593b59595e402f2.png" width="1039" height="322" class="img_ev3q"></p>
</blockquote>
</li>
<li><strong>Solução para e-mail de boas vindas</strong>
<blockquote>
<p>Quando um novo cadastro, o <strong>DynamoDB</strong> via <strong>DynamoDB Stream</strong> dispara uma <strong>Lambda</strong> que tem uma <strong>Role</strong> que permite acionar o SES (Amazon simple e-mail service) para enviar o e-mail.
<img decoding="async" loading="lazy" alt="user-welcome" src="/assets/images/image-20210905060816093-369d15eac8ac55e1e2775fab63811c94.png" width="1054" height="481" class="img_ev3q"></p>
</blockquote>
</li>
<li><strong>Solução para tratamento de imagens</strong>
<blockquote>
<p>o Usuário vai subir os dados no <strong>bucket</strong> ou via <strong>cloud Front (CDN)</strong> que vai enviar via <strong>transfrer accelarion</strong> para o bucket use isso caso queira evitar acesso direto ao <strong>bucket</strong>, ao colocar a imagem no bucket isso vai dispara um <strong>lamdba</strong> para processar a imagem que depois pode ser armazenada em outro <strong>bucket</strong>, alem disso é possível notificar o cliente via <strong>SNS</strong> ou executar outro processamento postando numa fila <strong>SQS</strong>.
<img decoding="async" loading="lazy" alt="image-processing" src="/assets/images/image-20210905061501865-56e479ee2ced925b40a6bc05d1a73dc2.png" width="1107" height="496" class="img_ev3q"></p>
</blockquote>
</li>
</ul>
<hr>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="3-micro-serviços">3. Micro-serviços<a href="#3-micro-serviços" class="hash-link" aria-label="Link direto para 3. Micro-serviços" title="Link direto para 3. Micro-serviços">​</a></h4>
<ul>
<li>Exemplo de arquitetura de micro-serviço que usa API Rest.</li>
<li>Que se escala automaticamente e que tenta ser o mais serverless possível.</li>
<li><strong>Usando ECS ou EKS</strong>
<blockquote>
<p>Tem se um conjunto de container no **ECS **ou <strong>EKS</strong> que acessam um banco e estão atrás de uma <strong>ELB</strong> e pode se usar o <strong>Route 53</strong> par se dar um <strong>DNS Name</strong> tipo <strong>service1.example.com</strong>.
<img decoding="async" loading="lazy" alt="ms-ecs" src="/assets/images/image-20210905062549322-5ea63feb29c908735ad1d1977dceb253.png" width="1055" height="314" class="img_ev3q"></p>
</blockquote>
</li>
<li><strong>Usando Lambda</strong>
<blockquote>
<p>Tem se uma lambda que é disparada por requests a um <strong>API Gateway</strong> que pode consultar um <strong>banco de cache</strong> ou um **banco qualquer **e pode se usar o <strong>Route 53</strong> par se dar um <strong>DNS Name</strong> tipo <strong>service2.example.com</strong>.
<img decoding="async" loading="lazy" alt="image-20210905062947575" src="/assets/images/image-20210905062947575-531aac7c4841138d154315f717e28f45.png" width="1051" height="328" class="img_ev3q"></p>
</blockquote>
</li>
</ul>
<hr>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="4-distribuição-de-conteúdo-pago">4. Distribuição de conteúdo pago<a href="#4-distribuição-de-conteúdo-pago" class="hash-link" aria-label="Link direto para 4. Distribuição de conteúdo pago" title="Link direto para 4. Distribuição de conteúdo pago">​</a></h4>
<ul>
<li>Bora imaginar que precisamos disponibilizar vídeos online, numa plataforma onde só acessar quem compra o vídeo, um **onlyFans **( ͡° ͜ʖ ͡°).</li>
<li>Cada vídeo pode ser comprado por vários usuários.</li>
<li>Termos armazenados quem pagou pelos vídeos e ao comprar o vídeo será disponibilizado um link para terá acesso ao(s) vídeo(s).</li>
<li>Aplicação deve ser global.</li>
<li><strong>Visão verificação de acesso ao vídeos</strong>
<blockquote>
<p>O usuário faz login usando o <strong>Cognito</strong>, e ao acessar ele bate num <strong>API Gateway</strong> que aciona um <strong>lambda</strong> que ira validar quais vídeos ele tem acesso base de dados.
<img decoding="async" loading="lazy" alt="acess-valitation" src="/assets/images/image-20210905064210992-9fe81608c1861b43abcef14b15ff787e.png" width="938" height="258" class="img_ev3q"> &gt; <strong>Visão geração de acesso ao video</strong>
Para acessar o vídeo é preciso gerar uma <strong>Signed URL</strong>, para isso faz se uma chamada ao <strong>API Gateway</strong> que invoca uma <strong>lambda</strong> que verifica se o usuário e pagante na base de dados e se for gera uma url assinada para que ele possa acessar via <strong>CDN</strong>.
<img decoding="async" loading="lazy" alt="premio-users" src="/assets/images/image-20210905074803997-a55ca1c060d5f1aa01333322fd407d21.png" width="1099" height="448" class="img_ev3q"></p>
</blockquote>
</li>
</ul>
<hr>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="5-pipeline-de-ingestão-de-dados-big-data">5. Pipeline de ingestão de dados (Big Data)<a href="#5-pipeline-de-ingestão-de-dados-big-data" class="hash-link" aria-label="Link direto para 5. Pipeline de ingestão de dados (Big Data)" title="Link direto para 5. Pipeline de ingestão de dados (Big Data)">​</a></h4>
<ul>
<li>Nossa esteira deve receber dados de vários dispositivos em tempo real.</li>
<li>Deve transformar esses dados e salvar no S3 para geração de relatórios.</li>
<li>Deve gerar relatórios que devem ser disponibilizados em Dashboard para analise.</li>
<li><strong>Solução</strong>
<blockquote>
<p>Utilizamos o <strong>Kinesis data stream</strong> para receber os dados em tempo real dos dispositivos, podemos acionar uma <strong>lambda</strong> para transformar esses dado e salvar num <strong>Bucket</strong>, podemos usar um <strong>topico SNS</strong> ou os próprios eventos do <strong>bucket</strong> para acionar uma outra <strong>lambda</strong> que acionaria o <strong>Athena</strong> para realizar queries nos dados coletados e salvando em outro <strong>bucket</strong> ou enviar para o <strong>Amazon QuickSight</strong> para geração de relatórios ou ate mesmo para o <strong>RedShilt</strong> para data warehouse.
<img decoding="async" loading="lazy" alt="pipe-big-data" src="/assets/images/image-20210905102731999-7e102fdf13ecc8e18b9417c1fd2154b4.png" width="1132" height="518" class="img_ev3q"></p>
</blockquote>
</li>
</ul>
<hr>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="processamentos-de-eventos">Processamentos de eventos<a href="#processamentos-de-eventos" class="hash-link" aria-label="Link direto para Processamentos de eventos" title="Link direto para Processamentos de eventos">​</a></h3>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="lambda-e-sns-e-sqs">Lambda e SNS e SQS<a href="#lambda-e-sns-e-sqs" class="hash-link" aria-label="Link direto para Lambda e SNS e SQS" title="Link direto para Lambda e SNS e SQS">​</a></h4>
<ul>
<li>Devemos usar <strong>DLQ</strong> sempre para garantir preservação da mensagem em caso de erro no processamento.</li>
<li>No caso de <strong>Filas SQS -&gt; Lambdas</strong>, é sempre bom definir a quantidade de <strong>poll</strong> ate 5 (5 tentativas) antes de mover as mensagens para a DLQ, pois assim se evita loops infinitos.</li>
<li>No caso do <strong>SNS -&gt; Lambda</strong>, a lambda vai tentar processar a mensagem 3 vezes e depois caso não tenha sucesso enviara para a DLQ ou será descartada se não tiver uma DLQ.
<img decoding="async" loading="lazy" alt="lambda-sns-sqs" src="/assets/images/image-20210911053226958-88e27c69a204741e3c1c26090cda93f2.png" width="1078" height="494" class="img_ev3q"></li>
</ul>
<hr>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="fan-out-pattern">Fan Out Pattern<a href="#fan-out-pattern" class="hash-link" aria-label="Link direto para Fan Out Pattern" title="Link direto para Fan Out Pattern">​</a></h4>
<ul>
<li>Usado quanto se tem múltiplos destinos (filas SQS) para uma mensagem.
<img decoding="async" loading="lazy" alt="fan-out" src="/assets/images/image-20210911053815606-310ce05c4716f92d569dfb5cc91cc5aa.png" width="1114" height="573" class="img_ev3q"></li>
</ul>
<hr>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="s3-events">S3 Events<a href="#s3-events" class="hash-link" aria-label="Link direto para S3 Events" title="Link direto para S3 Events">​</a></h4>
<ul>
<li>Envia para SNS, SQS e Lambda
<img decoding="async" loading="lazy" alt="s3-events" src="/assets/images/image-20210911054137997-5942b6150913273405828230373c7d83.png" width="560" height="631" class="img_ev3q"></li>
</ul>
<hr>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="estratégia-de-caches">Estratégia de caches<a href="#estratégia-de-caches" class="hash-link" aria-label="Link direto para Estratégia de caches" title="Link direto para Estratégia de caches">​</a></h3>
<ul>
<li>Podemos usar cache no CloudFront e no API Gateway alem do cache do lado da aplicação.</li>
<li>O importante aqui e sempre lembrar de definir bem o TTL dos dados cacheados para evitar dados desatualizados.
<img decoding="async" loading="lazy" alt="cache-strategies" src="/assets/images/image-20210911054921713-03f2d40f2f78c20f01754f8b85a5aebb.png" width="1125" height="466" class="img_ev3q"></li>
</ul>
<hr>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="bloqueandos-ips">Bloqueandos IPs<a href="#bloqueandos-ips" class="hash-link" aria-label="Link direto para Bloqueandos IPs" title="Link direto para Bloqueandos IPs">​</a></h3>
<ul>
<li>As vezes desejamos bloquear <strong>IPs</strong> por segurança.</li>
<li>O bloqueio deve ser feito no <strong>NACL</strong>, pois ele permite criar regras de Negação (<strong>DENY</strong>).</li>
<li>No caso do <strong>Security Group</strong> é mais complicado de fazer, pois ele parte da ideia de regras de deliberação de acesso (<strong>ALLOW</strong>). caso precisa-se teria que criar um grupo de IPs que podem acessar e permitia o acesso <strong>SG</strong> assim o resto seria bloqueado, mas como seriam muitos torna-se quase inviável.</li>
<li>Também é possível configurar um firewall num <strong>EC2</strong> para fazer esse bloqueio.
<img decoding="async" loading="lazy" alt="ip-bloqueio" src="/assets/images/image-20210911060135778-70078e7d57355b7194dae69a71e3ab9b.png" width="816" height="430" class="img_ev3q">
<ul>
<li>Caso na sua estrutura esteja usando um **application load balance **(ALB), e possível bloquear usando a <strong>NACL</strong> e configurar o <strong>Security Group</strong> das instâncias EC2 para aceitar o trafico apenas do <strong>application Load balance</strong>.
<img decoding="async" loading="lazy" alt="alb-blocling-ip" src="/assets/images/image-20210911060717080-cd76608b34c01162c9faebe6ec8b5ef4.png" width="941" height="364" class="img_ev3q"></li>
<li>Ou pode se instalar o <strong>WAF</strong> no <strong>ALB</strong>, onde se poderia criar regras de filtros de acesso.
<img decoding="async" loading="lazy" alt="waf" src="/assets/images/image-20210911061131017-c48aee7efb7f7e552ca1dd258485d493.png" width="912" height="427" class="img_ev3q"></li>
<li>Caso esteja usando um Network load balance, a unica forma de bloquear um ip seria usando o <strong>NACL</strong>. Pois o NLB não possui Security Group.
<img decoding="async" loading="lazy" alt="nlb-blocking-ip" src="/assets/images/image-20210911060927094-94a5b1ab71652238ec5021cdb1d00bb4.png" width="935" height="361" class="img_ev3q"></li>
</ul>
</li>
<li>Caso esteja usando <strong>CDN</strong>, e possível usar o <strong>WAF</strong> na para bloquear o acesso. Antes mesmo dele chegar na <strong>VPC</strong>, não sendo necessário usar as <strong>NACL</strong>
<img decoding="async" loading="lazy" alt="cdn-bloquin" src="/assets/images/image-20210911061200043-1fcc25c4525d5ab557e526cce305d620.png" width="1156" height="458" class="img_ev3q"></li>
</ul>
<hr>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="alta-performance-computacional-hpc">Alta performance computacional HPC<a href="#alta-performance-computacional-hpc" class="hash-link" aria-label="Link direto para Alta performance computacional HPC" title="Link direto para Alta performance computacional HPC">​</a></h3>
<ul>
<li>Serviços que ajudam ter alta performance na AWS:<!-- -->
<ul>
<li><strong>Transferência de dados</strong>
<ul>
<li><strong>AWS Direct Conect</strong> - Permite mover GBs de dados para a cloud.</li>
<li><strong>SnowBall e SnowMobile</strong> - Pemite mover PB de dados para a cloud.</li>
<li><strong>AWS DataSync</strong> - Permite mover grandes quantidade de dados do on-primeses para cloud .(usando S3, EFx)</li>
</ul>
</li>
<li><strong>Computação</strong>
<ul>
<li><strong>Instâncias EC2</strong>
<ul>
<li>Com CPU otimizada ou GPU otimizada.</li>
<li>spot instances / Spot Fleets para economia + auto escale.</li>
</ul>
</li>
<li><strong>EC2 Placentament Groups</strong> - Permite usar um conjunto de maquinas (cluster) num mesmo <strong>rack</strong> ou região o que diminui a latência..<!-- -->
<ul>
<li><strong>EC2 Enhanced Networking SR-IOV</strong> (Rede aprimorada para EC2)<!-- -->
<ul>
<li>Interface de rede para HPC.</li>
<li>Alta banda, Alto PPS (pacotes por segundos), baixa latência.</li>
<li>Opção 1: <strong>Elastic Network Adapter</strong> (ENA) aumenta a capacidade para 100Gbps.</li>
<li>Opção 2: Intel 82599 VF para 10 GBs - Antiga não usado mais</li>
</ul>
</li>
<li><strong>Elastic Fabric Adapter</strong> (EFA)<!-- -->
<ul>
<li>Interface de rede usada para HPC no Linux com foco.</li>
<li>Melhora a ENA para Alta HPC, apenas para linux.</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li><strong>Armazenamento</strong>
<ul>
<li><strong>Ligado na instância</strong>
<ul>
<li><strong>EBS</strong> - Escala ate 64000 IOP.</li>
<li><strong>Instance store</strong> - escala para milhões de IOPS, mas é perdido quando a instância desliga.</li>
</ul>
</li>
<li>Na rede<!-- -->
<ul>
<li><strong>S3</strong> - Armazenamento de objetos.</li>
<li><strong>EFS</strong> - Escala IOPS baseado no tamanho total, ou IOPS provisionado .</li>
<li><strong>FSx for lustre</strong> - FileSystem otimizado para HPC usando linux.</li>
</ul>
</li>
</ul>
</li>
<li><strong>Automação e Orquestração</strong>
<ul>
<li><strong>AWS Batch</strong> - para trabalhar com jobs e agendamentos.</li>
<li><strong>AWS ParallelCLuster</strong>
<ul>
<li>Ferramenta Open Source para deploy e gerenciamento de cluster HPC.</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<hr>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="14---whitepapers">14 - Whitepapers<a href="#14---whitepapers" class="hash-link" aria-label="Link direto para 14 - Whitepapers" title="Link direto para 14 - Whitepapers">​</a></h2>
<ul>
<li><a href="https://d1.awsstatic.com/whitepapers/AWS_Cloud_Best_Practices.pdf" target="_blank" rel="noopener noreferrer">Architecting for the cloud</a></li>
<li><a href="https://aws.amazon.com/blogs/aws/aws-well-architected-framework-updated-white-papers-tools-and-best-practices" target="_blank" rel="noopener noreferrer">well-architected framework</a></li>
<li><a href="https://d1.awsstatic.com/whitepapers/aws-disaster-recovery.pdf" target="_blank" rel="noopener noreferrer">Disaster recovery whitepaper</a></li>
<li><a href="https://d1.awsstatic.com/whitepapers/architecture/AWS_Well-Architected_Framework.pdf" target="_blank" rel="noopener noreferrer">well-architected framework</a></li>
</ul></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col"><a href="https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/cloud-notes/01-aws/01-aws-cloud-architect-associate/index.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Editar essa página</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Páginas de documentação"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/cloud-notes/aws/aws-cloud-develop-associate/analise"><div class="pagination-nav__sublabel">Anterior</div><div class="pagination-nav__label">Analise de dados</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/cloud-notes/aws/aws-cloud-architect-professional/certificacao"><div class="pagination-nav__sublabel">Próxima</div><div class="pagination-nav__label">Certificação</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#prova-de-certificação" class="table-of-contents__link toc-highlight">Prova de certificação</a></li><li><a href="#1---conceitos" class="table-of-contents__link toc-highlight">1 - Conceitos</a><ul><li><a href="#escalabilidade" class="table-of-contents__link toc-highlight">Escalabilidade</a></li><li><a href="#alta-disponibilidade" class="table-of-contents__link toc-highlight">Alta disponibilidade</a></li><li><a href="#serverless" class="table-of-contents__link toc-highlight">Serverless</a></li><li><a href="#disaster-recovery-in-aws" class="table-of-contents__link toc-highlight">Disaster Recovery in AWS</a></li></ul></li><li><a href="#2---análises" class="table-of-contents__link toc-highlight">2 - Análises:</a><ul><li><a href="#aws-athena" class="table-of-contents__link toc-highlight">AWS Athena</a></li><li><a href="#aws-elasticsearch" class="table-of-contents__link toc-highlight">AWS Elasticsearch</a></li><li><a href="#aws-glue" class="table-of-contents__link toc-highlight">AWS Glue</a></li><li><a href="#aws-kinesis" class="table-of-contents__link toc-highlight">AWS Kinesis</a></li><li><a href="#aws-quicksight" class="table-of-contents__link toc-highlight">AWS QuickSight</a></li></ul></li><li><a href="#3---gerenciamento-de-faturamento-e-custos-da-aws" class="table-of-contents__link toc-highlight">3 - Gerenciamento de Faturamento e Custos da AWS</a><ul><li><a href="#aws-budget" class="table-of-contents__link toc-highlight">AWS Budget</a></li><li><a href="#aws-cost-explorer" class="table-of-contents__link toc-highlight">AWS Cost explorer</a></li></ul></li><li><a href="#4---integração-de-aplicações" class="table-of-contents__link toc-highlight">4 - Integração de aplicações</a><ul><li><a href="#amazon-amazon-sns" class="table-of-contents__link toc-highlight">Amazon Amazon SNS</a></li><li><a href="#amazon-sqs" class="table-of-contents__link toc-highlight">Amazon SQS</a></li><li><a href="#sqs-x-sns-x-kinesis" class="table-of-contents__link toc-highlight">SQS x SNS x Kinesis</a></li></ul></li><li><a href="#5---computação" class="table-of-contents__link toc-highlight">5 - Computação</a><ul><li><a href="#ec2" class="table-of-contents__link toc-highlight">EC2</a></li><li><a href="#aws-elastic-beanstalk" class="table-of-contents__link toc-highlight">AWS Elastic Beanstalk</a></li><li><a href="#amazon-ecs" class="table-of-contents__link toc-highlight">Amazon ECS</a></li><li><a href="#amazon-eks" class="table-of-contents__link toc-highlight">Amazon EKS</a></li><li><a href="#aws-lambda" class="table-of-contents__link toc-highlight">AWS Lambda</a></li><li><a href="#aws-step-functions" class="table-of-contents__link toc-highlight">AWS Step Functions</a></li><li><a href="#aws-swf---simples-workflow-service" class="table-of-contents__link toc-highlight">AWS SWF - Simples Workflow Service</a></li></ul></li><li><a href="#6---banco-de-dados" class="table-of-contents__link toc-highlight">6 - Banco de dados</a><ul><li><a href="#rds" class="table-of-contents__link toc-highlight">RDS</a></li><li><a href="#elasticache" class="table-of-contents__link toc-highlight">ElastiCache</a></li><li><a href="#dynamodb" class="table-of-contents__link toc-highlight">DynamoDB</a></li><li><a href="#redshift" class="table-of-contents__link toc-highlight">Redshift</a></li><li><a href="#neptune" class="table-of-contents__link toc-highlight">Neptune</a></li><li><a href="#emr" class="table-of-contents__link toc-highlight">EMR</a></li><li><a href="#como-escolher-o-melhor-bd" class="table-of-contents__link toc-highlight">Como escolher o melhor BD</a></li></ul></li><li><a href="#7---migração-e-transferência" class="table-of-contents__link toc-highlight">7 - Migração e transferência:</a><ul><li><a href="#aws-dms" class="table-of-contents__link toc-highlight">AWS DMS</a></li><li><a href="#aws-sms" class="table-of-contents__link toc-highlight">AWS SMS</a></li><li><a href="#aws-datasync" class="table-of-contents__link toc-highlight">AWS DataSync</a></li><li><a href="#aws-snow-family" class="table-of-contents__link toc-highlight">AWS Snow Family</a></li></ul></li><li><a href="#8---gerenciamento-e-governança" class="table-of-contents__link toc-highlight">8 - Gerenciamento e governança:</a><ul><li><a href="#aws-backup" class="table-of-contents__link toc-highlight">AWS Backup</a></li><li><a href="#aws-cloudformation" class="table-of-contents__link toc-highlight">AWS CloudFormation</a></li><li><a href="#aws-cloudtrail" class="table-of-contents__link toc-highlight">AWS CloudTrail</a></li><li><a href="#aws-cloudwatch" class="table-of-contents__link toc-highlight">AWS CloudWatch</a></li><li><a href="#aws-organizations" class="table-of-contents__link toc-highlight">AWS Organizations</a></li><li><a href="#aws-resource-access-manager-ram" class="table-of-contents__link toc-highlight">AWS Resource Access Manager (RAM)</a></li><li><a href="#aws-systems-manager" class="table-of-contents__link toc-highlight">AWS Systems Manager</a></li><li><a href="#aws-ssm-parameter-store" class="table-of-contents__link toc-highlight">AWS SSM Parameter Store</a></li><li><a href="#opswork" class="table-of-contents__link toc-highlight">OpsWork</a></li><li><a href="#aws-trusted-advisor" class="table-of-contents__link toc-highlight">AWS Trusted Advisor</a></li></ul></li><li><a href="#9---redes-e-entrega-de-conteúdo" class="table-of-contents__link toc-highlight">9 - Redes e entrega de conteúdo</a><ul><li><a href="#amazon-api-gateway" class="table-of-contents__link toc-highlight">Amazon API Gateway</a></li><li><a href="#amazon-cloudfront" class="table-of-contents__link toc-highlight">Amazon CloudFront</a></li><li><a href="#aws-global-accelerator" class="table-of-contents__link toc-highlight">AWS Global Accelerator</a></li><li><a href="#amazon-route-53" class="table-of-contents__link toc-highlight">Amazon Route 53</a></li><li><a href="#aws-vpc" class="table-of-contents__link toc-highlight">AWS VPC</a></li></ul></li><li><a href="#10---segurança-identidade-e-conformidade" class="table-of-contents__link toc-highlight">10 - Segurança, identidade e conformidade</a><ul><li><a href="#modelo-de-responsabilidade-compartilhada" class="table-of-contents__link toc-highlight">Modelo de responsabilidade compartilhada</a></li><li><a href="#aws-certificate-manager" class="table-of-contents__link toc-highlight">AWS Certificate Manager</a></li><li><a href="#iam" class="table-of-contents__link toc-highlight">IAM</a></li><li><a href="#aws-cognito" class="table-of-contents__link toc-highlight">AWS Cognito</a></li><li><a href="#aws-directory-service" class="table-of-contents__link toc-highlight">AWS Directory Service</a></li><li><a href="#aws-identity-provider" class="table-of-contents__link toc-highlight">AWS Identity Provider</a></li><li><a href="#aws-single-sign-on" class="table-of-contents__link toc-highlight">AWS Single Sign On</a></li><li><a href="#aws-sts---security-token-service" class="table-of-contents__link toc-highlight">AWS STS - Security Token Service</a></li><li><a href="#aws-secrets-manager" class="table-of-contents__link toc-highlight">AWS Secrets Manager</a></li><li><a href="#aws-kms" class="table-of-contents__link toc-highlight">AWS KMS</a></li><li><a href="#aws-shield" class="table-of-contents__link toc-highlight">AWS Shield</a></li><li><a href="#aws-waf" class="table-of-contents__link toc-highlight">AWS WAF</a></li><li><a href="#aws-guard-duty" class="table-of-contents__link toc-highlight">AWS Guard Duty</a></li><li><a href="#aws-inspector" class="table-of-contents__link toc-highlight">AWS Inspector</a></li><li><a href="#aws-macie" class="table-of-contents__link toc-highlight">AWS macie</a></li><li><a href="#aws-security-hub" class="table-of-contents__link toc-highlight">AWS Security HUB</a></li></ul></li><li><a href="#11---armazenamento" class="table-of-contents__link toc-highlight">11 - Armazenamento</a><ul><li><a href="#ebs---elastic-block-storage" class="table-of-contents__link toc-highlight">EBS - Elastic block storage</a></li><li><a href="#efs---elastic-file-system" class="table-of-contents__link toc-highlight">EFS - Elastic file system</a></li><li><a href="#amazon-fsx" class="table-of-contents__link toc-highlight">Amazon FSx</a></li><li><a href="#amazon-s3" class="table-of-contents__link toc-highlight">Amazon S3</a></li><li><a href="#instance-store" class="table-of-contents__link toc-highlight">Instance store</a></li><li><a href="#aws-storage-gateway" class="table-of-contents__link toc-highlight">AWS Storage Gateway</a></li></ul></li><li><a href="#12---well-architected-framework" class="table-of-contents__link toc-highlight">12 - Well Architected Framework</a></li><li><a href="#13---cases" class="table-of-contents__link toc-highlight">13 - Cases</a><ul><li><a href="#soluções-serverless" class="table-of-contents__link toc-highlight">Soluções Serverless</a></li><li><a href="#processamentos-de-eventos" class="table-of-contents__link toc-highlight">Processamentos de eventos</a></li><li><a href="#estratégia-de-caches" class="table-of-contents__link toc-highlight">Estratégia de caches</a></li><li><a href="#bloqueandos-ips" class="table-of-contents__link toc-highlight">Bloqueandos IPs</a></li><li><a href="#alta-performance-computacional-hpc" class="table-of-contents__link toc-highlight">Alta performance computacional HPC</a></li></ul></li><li><a href="#14---whitepapers" class="table-of-contents__link toc-highlight">14 - Whitepapers</a></li></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2025 Uniii .</div></div></div></footer></div>
</body>
</html>