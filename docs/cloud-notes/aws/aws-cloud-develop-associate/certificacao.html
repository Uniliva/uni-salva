<!doctype html>
<html lang="pt-BR" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-cloud-notes/aws/aws-cloud-develop-associate/certificacao" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.7.0">
<title data-rh="true">Certifica√ß√£o | Uniii docs</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://docs.uniii.com.br/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://docs.uniii.com.br/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://docs.uniii.com.br/docs/cloud-notes/aws/aws-cloud-develop-associate/certificacao"><meta data-rh="true" property="og:locale" content="pt_BR"><meta data-rh="true" name="docusaurus_locale" content="pt-BR"><meta data-rh="true" name="docsearch:language" content="pt-BR"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Certifica√ß√£o | Uniii docs"><meta data-rh="true" name="description" content="Leia sobre a AWS Certified Developer - Associate. (DVA-C02)"><meta data-rh="true" property="og:description" content="Leia sobre a AWS Certified Developer - Associate. (DVA-C02)"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://docs.uniii.com.br/docs/cloud-notes/aws/aws-cloud-develop-associate/certificacao"><link data-rh="true" rel="alternate" href="https://docs.uniii.com.br/docs/cloud-notes/aws/aws-cloud-develop-associate/certificacao" hreflang="pt-BR"><link data-rh="true" rel="alternate" href="https://docs.uniii.com.br/docs/cloud-notes/aws/aws-cloud-develop-associate/certificacao" hreflang="x-default"><link rel="stylesheet" href="/assets/css/styles.b1ec8075.css">
<script src="/assets/js/runtime~main.7566f7bd.js" defer="defer"></script>
<script src="/assets/js/main.39d426a4.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const n=new URLSearchParams(window.location.search).entries();for(var[t,e]of n)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><link rel="preload" as="image" href="/img/logo.svg"><div role="region" aria-label="Pular para o conte√∫do principal"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Pular para o conte√∫do principal</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Alternar a barra de navega√ß√£o" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.svg" alt="Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/img/logo.svg" alt="Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">Uniii Docs</b></a><a class="navbar__item navbar__link" href="/docs/developer-notes">Developer Notes</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/cloud-notes">Cloud Notes</a><a class="navbar__item navbar__link" href="/docs/devops-notes">DevOps Notes</a></div><div class="navbar__items navbar__items--right"><a href="https://www.linkedin.com/in/uniliva" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Linkedin<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><a href="https://github.com/Uniliva" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Alterar entre os modos claro e escuro (modo modo claro ativado)" aria-label="Alterar entre os modos claro e escuro (modo modo claro ativado)" aria-live="polite" aria-pressed="false"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Volte para o topo" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/cloud-notes">‚òÅÔ∏è Cloud Notes</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" href="/docs/cloud-notes/aws/aws-cloud-develop-associate/certificacao">üìù AWS Certifications</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" tabindex="0" href="/docs/cloud-notes/aws/aws-cloud-develop-associate/certificacao">Developer Associate</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/cloud-notes/aws/aws-cloud-develop-associate/certificacao">Certifica√ß√£o</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/cloud-notes/aws/aws-cloud-develop-associate/analise">Analise de dados</a></li></ul></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/cloud-notes/aws/aws-cloud-architect-associate">Architect Associate</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/docs/cloud-notes/aws/aws-cloud-architect-professional/certificacao">Architect Professional</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/cloud-notes/aws/aws-advanced-architecting">Advanced Architecting on AWS</a></li></ul></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="P√°gina Inicial" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">üìù AWS Certifications</span><meta itemprop="position" content="1"></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Developer Associate</span><meta itemprop="position" content="2"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Certifica√ß√£o</span><meta itemprop="position" content="3"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">Nessa p√°gina</button></div><div class="theme-doc-markdown markdown"><header><h1>Certifica√ß√£o</h1></header><div class="theme-admonition theme-admonition-tip admonition_xJq3 alert alert--success"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>dica</div><div class="admonitionContent_BuS1"><p>Leia sobre a <a href="https://aws.amazon.com/pt/certification/certified-developer-associate" target="_blank" rel="noopener noreferrer">AWS Certified Developer - Associate. (DVA-C02)</a></p></div></div>
<hr>
<table><thead><tr><th>Dom√≠nio</th><th>% do exame</th></tr></thead><tbody><tr><td>Dom√≠nio 1: Desenvolvimento com os servi√ßos da AWS</td><td>32%</td></tr><tr><td>Dom√≠nio 2: Seguran√ßa</td><td>26%</td></tr><tr><td>Dom√≠nio 3: Implanta√ß√£o</td><td>24%</td></tr><tr><td>Dom√≠nio 4: Solu√ß√£o de problemas e otimiza√ß√£o</td><td>18%</td></tr></tbody></table>
<p>Recursos e produtos da AWS no escopo</p>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Details</summary><div><div class="collapsibleContent_i85q"><p></p><summary> title=&quot;veja a lista completa&quot; </summary>
An√°lise:<p></p><ul class="contains-task-list containsTaskList_mC6p">
<li class="task-list-item"><input type="checkbox" disabled="" checked=""> <!-- -->Amazon Athena</li>
<li class="task-list-item"><input type="checkbox" disabled="" checked=""> <!-- -->Amazon OpenSearch Service</li>
</ul><p>Integra√ß√£o de aplicativos:</p><ul class="contains-task-list containsTaskList_mC6p">
<li class="task-list-item"><input type="checkbox" disabled="" checked=""> <!-- -->AWS AppSync</li>
<li class="task-list-item"><input type="checkbox" disabled="" checked=""> <!-- -->Amazon EventBridge (Amazon CloudWatch Events)</li>
<li class="task-list-item"><input type="checkbox" disabled="" checked=""> <!-- -->Amazon SNS</li>
<li class="task-list-item"><input type="checkbox" disabled="" checked=""> <!-- -->Amazon SQS</li>
<li class="task-list-item"><input type="checkbox" disabled="" checked=""> <!-- -->Amazon Kinesis</li>
<li class="task-list-item"><input type="checkbox" disabled="" checked=""> <!-- -->AWS Step Functions</li>
<li class="task-list-item"><input type="checkbox" disabled="" checked=""> <!-- -->AWS MSK</li>
</ul><p>Computa√ß√£o:</p><ul class="contains-task-list containsTaskList_mC6p">
<li class="task-list-item"><input type="checkbox" disabled="" checked=""> <!-- -->Amazon EC2</li>
<li class="task-list-item"><input type="checkbox" disabled="" checked=""> <!-- -->AWS Elastic Beanstalk</li>
<li class="task-list-item"><input type="checkbox" disabled="" checked=""> <!-- -->AWS Lambda</li>
<li class="task-list-item"><input type="checkbox" disabled="" checked=""> <!-- -->AWS Serverless Application Model (AWS SAM)</li>
</ul><p>Cont√™ineres:</p><ul class="contains-task-list containsTaskList_mC6p">
<li class="task-list-item"><input type="checkbox" disabled="" checked=""> <!-- -->AWS Copilot</li>
<li class="task-list-item"><input type="checkbox" disabled="" checked=""> <!-- -->Amazon ECR</li>
<li class="task-list-item"><input type="checkbox" disabled="" checked=""> <!-- -->Amazon ECS</li>
<li class="task-list-item"><input type="checkbox" disabled="" checked=""> <!-- -->Amazon EKS</li>
</ul><p>Banco de dados:</p><ul class="contains-task-list containsTaskList_mC6p">
<li class="task-list-item"><input type="checkbox" disabled="" checked=""> <!-- -->Amazon Aurora</li>
<li class="task-list-item"><input type="checkbox" disabled="" checked=""> <!-- -->Amazon DynamoDB</li>
<li class="task-list-item"><input type="checkbox" disabled="" checked=""> <!-- -->Amazon ElastiCache</li>
<li class="task-list-item"><input type="checkbox" disabled="" checked=""> <!-- -->Amazon MemoryDB para Redis</li>
<li class="task-list-item"><input type="checkbox" disabled="" checked=""> <!-- -->Amazon RDS</li>
</ul><p>Ferramentas do desenvolvedor:</p><ul class="contains-task-list containsTaskList_mC6p">
<li class="task-list-item"><input type="checkbox" disabled="" checked=""> <!-- -->AWS Amplify</li>
<li class="task-list-item"><input type="checkbox" disabled="" checked=""> <!-- -->AWS Cloud9</li>
<li class="task-list-item"><input type="checkbox" disabled="" checked=""> <!-- -->AWS CloudShell</li>
<li class="task-list-item"><input type="checkbox" disabled="" checked=""> <!-- -->AWS CodeArtifact</li>
<li class="task-list-item"><input type="checkbox" disabled="" checked=""> <!-- -->AWS CodeBuild</li>
<li class="task-list-item"><input type="checkbox" disabled="" checked=""> <!-- -->AWS CodeCommit</li>
<li class="task-list-item"><input type="checkbox" disabled="" checked=""> <!-- -->AWS CodeDeploy</li>
<li class="task-list-item"><input type="checkbox" disabled="" checked=""> <!-- -->Amazon CodeGuru</li>
<li class="task-list-item"><input type="checkbox" disabled="" checked=""> <!-- -->AWS CodePipeline</li>
<li class="task-list-item"><input type="checkbox" disabled="" checked=""> <!-- -->AWS CodeStar</li>
<li class="task-list-item"><input type="checkbox" disabled="" checked=""> <!-- -->AWS X-Ray</li>
</ul><p>Gerenciamento e governan√ßa:</p><ul class="contains-task-list containsTaskList_mC6p">
<li class="task-list-item"><input type="checkbox" disabled=""> <!-- -->AWS AppConfig</li>
<li class="task-list-item"><input type="checkbox" disabled="" checked=""> <!-- -->AWS Cloud Development Kit (AWS CDK)</li>
<li class="task-list-item"><input type="checkbox" disabled="" checked=""> <!-- -->AWS CloudFormation</li>
<li class="task-list-item"><input type="checkbox" disabled="" checked=""> <!-- -->AWS CloudTrail</li>
<li class="task-list-item"><input type="checkbox" disabled="" checked=""> <!-- -->Amazon CloudWatch</li>
<li class="task-list-item"><input type="checkbox" disabled="" checked=""> <!-- -->Amazon CloudWatch Logs</li>
<li class="task-list-item"><input type="checkbox" disabled="" checked=""> <!-- -->AWS CLI</li>
<li class="task-list-item"><input type="checkbox" disabled="" checked=""> <!-- -->AWS Systems Manager</li>
</ul><p>Redes e entrega de conte√∫do:</p><ul class="contains-task-list containsTaskList_mC6p">
<li class="task-list-item"><input type="checkbox" disabled="" checked=""> <!-- -->Amazon API Gateway</li>
<li class="task-list-item"><input type="checkbox" disabled="" checked=""> <!-- -->Amazon CloudFront</li>
<li class="task-list-item"><input type="checkbox" disabled="" checked=""> <!-- -->Elastic Load Balancing</li>
<li class="task-list-item"><input type="checkbox" disabled="" checked=""> <!-- -->Amazon Route 53</li>
<li class="task-list-item"><input type="checkbox" disabled="" checked=""> <!-- -->Amazon VPC</li>
</ul><p>Seguran√ßa, identidade e conformidade:</p><ul class="contains-task-list containsTaskList_mC6p">
<li class="task-list-item"><input type="checkbox" disabled="" checked=""> <!-- -->AWS Certificate Manager (ACM)</li>
<li class="task-list-item"><input type="checkbox" disabled=""> <!-- -->AWS Certificate Manager Private Certificate Authority</li>
<li class="task-list-item"><input type="checkbox" disabled="" checked=""> <!-- -->Amazon Cognito</li>
<li class="task-list-item"><input type="checkbox" disabled="" checked=""> <!-- -->AWS IAM</li>
<li class="task-list-item"><input type="checkbox" disabled="" checked=""> <!-- -->AWS KMS</li>
<li class="task-list-item"><input type="checkbox" disabled="" checked=""> <!-- -->AWS Secrets Manager</li>
<li class="task-list-item"><input type="checkbox" disabled="" checked=""> <!-- -->AWS Security Token Service (AWS STS)</li>
<li class="task-list-item"><input type="checkbox" disabled=""> <!-- -->AWS WAF</li>
</ul><p>Armazenamento:</p><ul class="contains-task-list containsTaskList_mC6p">
<li class="task-list-item"><input type="checkbox" disabled="" checked=""> <!-- -->Amazon EBS</li>
<li class="task-list-item"><input type="checkbox" disabled="" checked=""> <!-- -->Amazon EFS</li>
<li class="task-list-item"><input type="checkbox" disabled="" checked=""> <!-- -->Amazon S3</li>
<li class="task-list-item"><input type="checkbox" disabled="" checked=""> <!-- -->Amazon S3 Glacier</li>
</ul></div></div></details>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="integra√ß√£o-de-aplicativos">Integra√ß√£o de aplicativos:<a href="#integra√ß√£o-de-aplicativos" class="hash-link" aria-label="Link direto para Integra√ß√£o de aplicativos:" title="Link direto para Integra√ß√£o de aplicativos:">‚Äã</a></h2>
<div class="theme-admonition theme-admonition-tip admonition_xJq3 alert alert--success"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>dica</div><div class="admonitionContent_BuS1"><p>Tempos os seguintes servi√ßos AWS usados para integra√ß√£o de aplica√ß√µes:</p><ul>
<li>SQS -&gt; para um modelo de filas.</li>
<li>SNS -&gt; para um modelo de pub/sub.</li>
<li>Kinesis -&gt; para um modelo de processamento em tempo real.</li>
</ul></div></div>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="aws-amplify">AWS Amplify<a href="#aws-amplify" class="hash-link" aria-label="Link direto para AWS Amplify" title="Link direto para AWS Amplify">‚Äã</a></h3>
<p><img decoding="async" loading="lazy" alt="img" src="/assets/images/image-63fa4aedff6df5ee890a229886edda2e.png" width="396" height="370" class="img_ev3q"></p>
<ul>
<li><strong>Amplify Studio</strong> - Permite criar Mobile e Web Applications.<!-- -->
<ul>
<li>Com ele se cria tanto o backend quanto o frontend.</li>
<li>Seria como um <strong>beanstalk</strong> para aplica√ß√µes mobile e web.</li>
<li>Usa o CloudFormation para criar os recursos (banco, filas, S3).</li>
<li>Usa o AppSync para criar as API GraphQl.</li>
</ul>
</li>
<li><strong>Amplify CLI</strong> - Permite configurar o backend com um cli guiado (respondendo perguntas).</li>
<li><strong>Amplify Libraries</strong> - Libs para conectar sua app a servi√ßso AWS.</li>
<li><strong>Amplify Hosting</strong> - Permite hospedar as aplica√ß√µes.<!-- -->
<ul>
<li>Configura como vai ser a implanta√ß√£o.
<img decoding="async" loading="lazy" alt="image-20230819141211274" src="/assets/images/image-20230819141211274-c99f9571620965d3680cd5bd1d30805b.png" width="878" height="428" class="img_ev3q"></li>
</ul>
</li>
<li>Features importantes
<img decoding="async" loading="lazy" alt="image-20230819141105413" src="/assets/images/image-20230819141105413-33780fdc5e5340c5a115d4ef8ef483d1.png" width="844" height="436" class="img_ev3q"></li>
<li>Testes E2E
<img decoding="async" loading="lazy" alt="image-20230819141334433" src="/assets/images/image-20230819141334433-fbc115f985ef7f9236ce50d55595f58c.png" width="850" height="490" class="img_ev3q"></li>
</ul>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="aws-appsync">AWS AppSync<a href="#aws-appsync" class="hash-link" aria-label="Link direto para AWS AppSync" title="Link direto para AWS AppSync">‚Äã</a></h3>
<div class="theme-admonition theme-admonition-tip admonition_xJq3 alert alert--success"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>dica</div><div class="admonitionContent_BuS1"><blockquote>
<p>Contextualiza√ß√£o:</p>
</blockquote><ul>
<li>O que √© <a href="https://docs.uniii.com.br/02-cloud-notes/01-aws/03-aws-cloud-architect-professional/02-conteudo.html#appsync" target="_blank" rel="noopener noreferrer">AppSync</a></li>
</ul></div></div>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="amazon-sqs">Amazon SQS<a href="#amazon-sqs" class="hash-link" aria-label="Link direto para Amazon SQS" title="Link direto para Amazon SQS">‚Äã</a></h3>
<div class="theme-admonition theme-admonition-tip admonition_xJq3 alert alert--success"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>dica</div><div class="admonitionContent_BuS1"><blockquote>
<p>Contextualiza√ß√£o:</p>
</blockquote><ul>
<li>O que √© <a href="https://docs.uniii.com.br/02-cloud-notes/01-aws/03-aws-cloud-architect-professional/02-conteudo.html#amazon-sqs" target="_blank" rel="noopener noreferrer">SQS</a></li>
</ul></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="vis√£o-extra---desenvolvedor">Vis√£o extra - desenvolvedor<a href="#vis√£o-extra---desenvolvedor" class="hash-link" aria-label="Link direto para Vis√£o extra - desenvolvedor" title="Link direto para Vis√£o extra - desenvolvedor">‚Äã</a></h4>
<ul>
<li>Usado para desacoplar aplica√ß√µes.</li>
<li>Tem baixa lat√™ncia (menor que 10 ms).</li>
<li>Permite mensagem duplicadas (ou seja, n√£o valida o conte√∫do da mensagem).</li>
<li>Para o processamento de mensagem duplicados, usa se o <strong>Message visibility timeout</strong> para tornar a mensagem invis√≠vel aos demais consumer.</li>
<li>Para produzir mensagem usa se o SDK com a API (sendMessage).</li>
<li>H√° dois tipos de filas SQS<!-- -->
<ul>
<li><strong>Standard</strong>
<ul>
<li>Tem Throughput ilimitado, e quantidade de mensagem na fila ilimitado.</li>
<li>Entrega a mensagem ao menos uma vez para os consumers.</li>
<li>Ordena as mensagens buscando o melhor esfor√ßo.</li>
</ul>
</li>
<li><strong>FIFO</strong>
<ul>
<li>Tem throughput de 300 msg/s  e 3000 msg/s usando batch.</li>
<li>N√£o tem mensagens duplicadas. Pois tem uma funcionalidade que permite remove-las.</li>
<li>Ordena por ordem de chegada.</li>
<li>Entrega apenas uma vez a mensagem.</li>
</ul>
</li>
</ul>
</li>
<li>Conceitos para desenvolvedores:<!-- -->
<ul>
<li><strong>Long Polling</strong> - Capacidade opcional de ficar esperando, caso n√£o haja mensagens na fila, at√© uma mensagem chegar.<!-- -->
<ul>
<li>Reduz a quantidade de chamadas de API a fila, aumentado a efici√™ncia e lat√™ncia da aplica√ß√£o.</li>
<li>Pode se configurar de 1 segundo a 20 (ideal) segundos de tempo.</li>
<li>√â recomendado o uso ao inv√©s do polling normal (short polling).</li>
<li>Pode ser configurado Queue level ou via API level usando <strong>(ReceiveMessageWaitTimeSeconds)</strong>.</li>
</ul>
</li>
<li><strong>Extended Cliente</strong> - Capacidade de enviar mensagem acima de 256kb usando o S3 para salvar a mensagem e se posta apenas os metadados na fila.<!-- -->
<ul>
<li>Usados para enviar videos para processamento,</li>
</ul>
</li>
<li>Nomes das APIs<!-- -->
<ul>
<li><strong>CreateQueue</strong> com (MessageRetentionPeriod), <strong>DeleteQueue</strong>.</li>
<li><strong>PurgeQueue</strong> permite deletar todas as mensagens de uma fila.</li>
<li><strong>SendMessage</strong> com (DelaySeconds), ReceiveMessage, DeleteMessage.</li>
<li><strong>MaxNumberOfMessages</strong> - Permite definir a quantidade de mensagem que podem ser consumida por vez. (default 1 , max 10).</li>
<li><strong>ReceiveMessageWaitTimeSeconds</strong> - Permite configurar o Long Polling.</li>
<li><strong>ChangeMessageVisibility</strong> - Permite mudar o tempo de visibilidade da mensagem.</li>
</ul>
</li>
<li>H√° tamb√©m API batch para enviar, deletar e mudar a visibilidade, o que reduz o custo diminuindo a quantidade de chamada ao SQS.</li>
<li><strong>FIFO</strong> conceitos avan√ßados:<!-- -->
<ul>
<li><strong>de-duplication</strong> - funcionalidade que permite recusar mensagens que est√£o duplicadas.<!-- -->
<ul>
<li>O tempo em que ignora uma nova mensagem com o mesmo id e de 5 minutos. A partir desse per√≠odo n√£o considera a nova mensagem como duplicata.</li>
<li>H√° dois m√©todos de de-duplication:<!-- -->
<ul>
<li>Baseado no conte√∫do: Gerar um hash sha-256 do body para compara√ß√£o.<!-- -->
<ul>
<li>Ao se criar a fila, pode setar se ele vai considerar esse m√©todo. Caso seleciona o m√©todo via ID ser√° opcional.</li>
</ul>
</li>
<li>Baseado no ID: Se passa um id de de-duplication ao postar a mensagem.</li>
</ul>
</li>
</ul>
</li>
<li><strong>Message group</strong> - permite agrupar mensagem por um MessageGroupId.<!-- -->
<ul>
<li>Utils quando se que usar a fila para mais de um processo, assim pode se configurar um consumer para considerar apenas as mensagens do grupo.</li>
<li>Por√©m a ordem s√≥ √© garantida dentro do grupo.<br>
<img decoding="async" loading="lazy" alt="image-20230812090743500" src="/assets/images/image-20230812090743500-83a73b59d03b65c4c0064d14f810bb94.png" width="708" height="171" class="img_ev3q"></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="sns">SNS<a href="#sns" class="hash-link" aria-label="Link direto para SNS" title="Link direto para SNS">‚Äã</a></h3>
<div class="theme-admonition theme-admonition-tip admonition_xJq3 alert alert--success"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>dica</div><div class="admonitionContent_BuS1"><blockquote>
<p>Contextualiza√ß√£o:</p>
</blockquote><ul>
<li>O que √© <a href="https://docs.uniii.com.br/02-cloud-notes/01-aws/03-aws-cloud-architect-professional/02-conteudo.html#amazon-sns" target="_blank" rel="noopener noreferrer">SNS</a></li>
</ul></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="vis√£o-extra---desenvolvedor-1">Vis√£o extra - desenvolvedor<a href="#vis√£o-extra---desenvolvedor-1" class="hash-link" aria-label="Link direto para Vis√£o extra - desenvolvedor" title="Link direto para Vis√£o extra - desenvolvedor">‚Äã</a></h4>
<ul>
<li>H√° dois tipos de t√≥picos SNS:<!-- -->
<ul>
<li><strong>Standard</strong>
<ul>
<li>Notifica a mensagem apenas uma vez para os subscritos. Depois a mensagem e deletada automaticamente.</li>
<li>Ordenas as mensagens buscando o melhor esfor√ßo.</li>
</ul>
</li>
<li><strong>FIFO</strong>
<ul>
<li>Tem throughput de 300 msg/s  e 3000 msg/s usando batch.</li>
<li>N√£o tem mensagens duplicadas. Pois tem uma funcionalidade que permite remove-las.</li>
<li>Ordena por ordem de chegada.</li>
<li>Notifica apenas uma vez a mensagem.</li>
<li>Notifica apenas para <strong>SQS FIFO</strong>.</li>
</ul>
</li>
</ul>
</li>
</ul>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="kinesis">Kinesis<a href="#kinesis" class="hash-link" aria-label="Link direto para Kinesis" title="Link direto para Kinesis">‚Äã</a></h3>
<div class="theme-admonition theme-admonition-tip admonition_xJq3 alert alert--success"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>dica</div><div class="admonitionContent_BuS1"><ul>
<li>Usado para coletar, processar, analisar e distribuir dados em tempo real.</li>
<li>Composto pelas aplica√ß√µes<!-- -->
<ul>
<li><strong>Kinesis Data streams</strong> - Captura, processa e armazena fluxos de dados.</li>
<li><strong>Kinesis Data Firehose</strong> - Carrega dados para armazenamentos no AWS.</li>
<li><strong>Kinesis Data Analytics</strong> - Analisa fluxos de dados com SQL e Apache Flink.</li>
<li><strong>Kinesis v√≠deo streams</strong> - Capture, processa e guardar fluxo de dados de v√≠deos.</li>
</ul>
</li>
</ul></div></div>
<div class="theme-admonition theme-admonition-tip admonition_xJq3 alert alert--success"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>dica</div><div class="admonitionContent_BuS1"><blockquote>
<p>Contextualiza√ß√£o:</p>
</blockquote><ul>
<li>O que √© <a href="https://docs.uniii.com.br/02-cloud-notes/01-aws/03-aws-cloud-architect-professional/02-conteudo.html#aws-kinesis" target="_blank" rel="noopener noreferrer">Kinesis</a></li>
</ul></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="vis√£o-extra---desenvolvedor-2">Vis√£o extra - desenvolvedor<a href="#vis√£o-extra---desenvolvedor-2" class="hash-link" aria-label="Link direto para Vis√£o extra - desenvolvedor" title="Link direto para Vis√£o extra - desenvolvedor">‚Äã</a></h4>
<ul>
<li>
<p>Usado para ingest√£o de log, m√©tricas, website ClickStreams, telemetria IOT.</p>
</li>
<li>
<p><strong>Kinesis Producer</strong></p>
<ul>
<li>Record √© composto por:<!-- -->
<ul>
<li>chave de parti√ß√£o (gerada ao enviar para o kinesis), Blob data (ate 1MB).</li>
<li>Usa um hash chave de parti√ß√£o para definir em que shard vai armazenar.</li>
<li>Por isso que deve se definir uma boa chave de parti√ß√£o, de forma a espalhar os dado nos shards evitando sub utiliza√ß√£o.</li>
</ul>
</li>
<li>Pode ser produzidos por SDK (low level), KPL (high level por oferecer compress√£o e batch) e kinesis agent para logs de aplica√ß√£o.</li>
<li>Usa a API <strong>PutRecord</strong>.</li>
<li>Recomenda usar KPL com Batch, para diminuir custos e aumentar o throughput.</li>
<li>Pode lan√ßar a exception <strong>ProvisionedThroughputExceeded</strong> caso envie mais do que √© capaz de aceitar. exemplo se tem apenas um shard (pois usou um PK bem restrita) e tenta enviar 2 MB/s sabendo que so aceita 1 MB/s.<!-- -->
<ul>
<li>Solu√ß√µes:<!-- -->
<ul>
<li>Usar chaves de parti√ß√µes que seja bem distribu√≠das.</li>
<li>Implementar exponential backoff.</li>
<li>Aumentar a quantidade de shards.</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li>
<p><strong>Kinesis Consumer</strong></p>
<ul>
<li>h√° dois modos de uso:<!-- -->
<ul>
<li><strong>Shared (Classic) Fan-out</strong>
<ul>
<li>2 MB/s considerando todos os consumers.</li>
<li>Usa a API <strong>GetRecords</strong>.</li>
<li>O consumer busca os dados (pull mode).</li>
<li>Tem limite de 5 chamadas de APIs por shard por segundos.</li>
</ul>
</li>
<li><strong>Enhanced Fan-out</strong>
<ul>
<li>2 MB/s por consumer por shard.</li>
<li>Usa a API <strong>SubscribeToShard</strong>.</li>
<li>O shard envia os dados para o consumer (push mode).</li>
<li>Lat√™ncia e muito baixa 70 ms.</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li>
<p><strong>KCL - Kinesis client library</strong>
<img decoding="async" loading="lazy" alt="image-20230812124931088" src="/assets/images/image-20230812124931088-3ad60069147240b1b1bd9dc256ea3644.png" width="716" height="453" class="img_ev3q"></p>
<ul>
<li>Facilita o consumo dos dados. √â uma lib java.</li>
<li>Cada shard pode ser lido apenas por uma inst√¢ncia KCL.<!-- -->
<ul>
<li>exemplo: 4 shards -&gt; pode se ter no m√°ximo 4 inst√¢ncias do KCL</li>
<li>Isso significa que o auto scale esta relacionado a quantidade de shard que se tem provisionados.</li>
</ul>
</li>
<li>Usa o DynamoDB para guardar o progresso, por isso precisa configurar acessos no IAM. Isso porque pode haver mais de um KCL executando e para que n√£o haja colis√£o o track √© feito usando o DynamoDB.</li>
</ul>
</li>
<li>
<p><strong>Kinesis Operations</strong></p>
<ul>
<li><strong>Shard Splitting</strong>
<img decoding="async" loading="lazy" alt="image-20230812125436219" src="/assets/images/image-20230812125436219-3e43d1fa23f134ebca3fea3d2f4dd6f8.png" width="866" height="393" class="img_ev3q">
<ul>
<li>‚Äã	Usado para aumentar a capacidade de stream, ou seja usado para quebrar um shard e outro novos, a fim de aliviar a carga.</li>
<li>o shard antigo vai ser deletado quando os dados expirarem e os dados novos ser√£o divididos entre os novos.</li>
</ul>
</li>
<li><strong>Shard Merging</strong>
<img decoding="async" loading="lazy" alt="image-20230812125719941" src="/assets/images/image-20230812125719941-a8f663c9a1a833ef87ded4e95e552513.png" width="881" height="466" class="img_ev3q">
<ul>
<li>O contrario do splitting</li>
<li>o shard antigo vai ser deletado quando os dados expirarem e os dados novos ser√£o enviados para o novo.</li>
</ul>
</li>
</ul>
</li>
</ul>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="aws-msk">AWS MSK<a href="#aws-msk" class="hash-link" aria-label="Link direto para AWS MSK" title="Link direto para AWS MSK">‚Äã</a></h3>
<div class="theme-admonition theme-admonition-tip admonition_xJq3 alert alert--success"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>dica</div><div class="admonitionContent_BuS1"><blockquote>
<p>Contextualiza√ß√£o:</p>
</blockquote><ul>
<li>O que √© <a href="https://docs.uniii.com.br/02-cloud-notes/01-aws/03-aws-cloud-architect-professional/02-conteudo.html#msk" target="_blank" rel="noopener noreferrer">MSK</a></li>
</ul></div></div>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="aws-step-functions">AWS Step Functions<a href="#aws-step-functions" class="hash-link" aria-label="Link direto para AWS Step Functions" title="Link direto para AWS Step Functions">‚Äã</a></h3>
<div class="theme-admonition theme-admonition-tip admonition_xJq3 alert alert--success"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>dica</div><div class="admonitionContent_BuS1"><blockquote>
<p>Contextualiza√ß√£o:</p>
</blockquote><ul>
<li>O que √© <a href="https://docs.uniii.com.br/02-cloud-notes/01-aws/03-aws-cloud-architect-professional/02-conteudo.html#aws-step-functions" target="_blank" rel="noopener noreferrer">Step Functions</a></li>
</ul></div></div>
<ul>
<li>
<p>Escrito em json.</p>
</li>
<li>
<p>usado para orquestrar chamada de servi√ßos.</p>
</li>
<li>
<p>Cada etapa √© chamado de task.</p>
<ul>
<li>Tem que ter uma entrada e uma sa√≠da.</li>
</ul>
</li>
<li>
<p>Tem os tipos:</p>
<ul>
<li><strong>Choice State</strong> - Testa uma condi√ß√£o para enviar para uma branch (ramifica√ß√£o).</li>
<li><strong>Fail or Succced State</strong> - Execu√ß√£o parada por erro ou sucesso.</li>
<li><strong>Pass State</strong> - Recebe os dados e repassa sem realizar nenhum processamento.</li>
<li><strong>Wait State</strong> - Espera por uma quantidade de tempo.</li>
<li><strong>Map State</strong> - Permite criar um loop.</li>
<li><strong>Parallel State</strong> - Para processos em paralelo.</li>
</ul>
</li>
<li>
<p>Erro handling</p>
<ul>
<li>Quem deve tratar deve ser o Step Function. Isso pois a aplica√ß√£o deve ter c√≥digos simples.</li>
<li>Pode se usar dois tipos de handles:<!-- -->
<ul>
<li><strong>retry</strong> - realiza uma retentativa de executar a task que falhou.<!-- -->
<ul>
<li>Se configura os tipos de erros e a quantidade de retry com exponetial Backoff.
<img decoding="async" loading="lazy" alt="image-20230819133020147" src="/assets/images/image-20230819133020147-f71c60a6962ccfc4698dfdc03c40fcb5.png" width="840" height="375" class="img_ev3q"></li>
<li>Caso atinga a quantidade m√°xima de tentativas o <strong>catch</strong> √© acionado.</li>
</ul>
</li>
<li><strong>catch</strong> - Pode se adicionar um fluxo alternativo ou uma notifica√ß√£o via eventos.
<img decoding="async" loading="lazy" alt="image-20230819133240150" src="/assets/images/image-20230819133240150-4f6e329e2b744e24008dcadf8e62fdf3.png" width="878" height="383" class="img_ev3q">
<ul>
<li>Passa se o dados do erros adiante com o <strong>ResultPath</strong><br>
<img decoding="async" loading="lazy" alt="image-20230819133353281" src="/assets/images/image-20230819133353281-162afee6742cfaef5d35af367f255636.png" width="893" height="413" class="img_ev3q"></li>
</ul>
</li>
<li>Tipos de c√≥digos de erros<!-- -->
<ul>
<li>States.ALL -&gt; Pega todos tipo de erros.</li>
<li>States.Timeout -&gt; Pega os timeouts.</li>
<li>States.TaskFailed -&gt; Pega falhas de execu√ß√£o.</li>
<li>States.Permitions -&gt; Pegas erros de falha de permiss√£o de execu√ß√£o.</li>
</ul>
</li>
</ul>
</li>
<li>Tem uma funcionalidade chamada <strong>wait for task token</strong> que funciona como se fosse um callback para dar prosseguimento a execu√ß√£o.<!-- -->
<ul>
<li>Usado quando se aciona um sistema externo (que n√£o seja um Lambda.).<br>
<img decoding="async" loading="lazy" alt="image-20230819134054736" src="/assets/images/image-20230819134054736-50f11dcb24b251bc3df57b830b8e5b17.png" width="839" height="431" class="img_ev3q"></li>
</ul>
</li>
<li>Tem a funcionalidade chamada de <strong>Activity Task</strong> para aplica√ß√µes externas.<!-- -->
<ul>
<li>Aqui se roda um <strong>Activity worker</strong> no EC2, Lambda, ou mobile device, ele realiza poll de tempos em tempos via a API <strong>GetActivityTask</strong> no Step Function em busca de itens a serem processados.</li>
<li>Ap√≥s finalizar o processamento do item encontrado ele aciona o Step Function via as APIs <strong>SendTaskSuccess</strong> ou <strong>SendTaskFailure</strong> com o output do processamento.</li>
<li>Deve se configurar um timeout, para n√£o ficar esperando para sempre ap√≥s uma task ser liberada para processamento.
<img decoding="async" loading="lazy" alt="image-20230819134647312" src="/assets/images/image-20230819134647312-2bc3c1b3b1dc266cdccb456741536bb5.png" width="267" height="439" class="img_ev3q"></li>
</ul>
</li>
</ul>
</li>
</ul>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="computa√ß√£o">Computa√ß√£o:<a href="#computa√ß√£o" class="hash-link" aria-label="Link direto para Computa√ß√£o:" title="Link direto para Computa√ß√£o:">‚Äã</a></h2>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="aws-budget">AWS Budget<a href="#aws-budget" class="hash-link" aria-label="Link direto para AWS Budget" title="Link direto para AWS Budget">‚Äã</a></h3>
<div class="theme-admonition theme-admonition-tip admonition_xJq3 alert alert--success"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>dica</div><div class="admonitionContent_BuS1"><p>Veja aqui tudo que se precisa saber sobre <a href="https://docs.uniii.com.br/02-cloud-notes/01-aws/03-aws-cloud-architect-professional/02-conteudo.html#aws-budget" target="_blank" rel="noopener noreferrer">Budgets</a></p></div></div>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="ec2">EC2<a href="#ec2" class="hash-link" aria-label="Link direto para EC2" title="Link direto para EC2">‚Äã</a></h3>
<div class="theme-admonition theme-admonition-tip admonition_xJq3 alert alert--success"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>dica</div><div class="admonitionContent_BuS1"><blockquote>
<p>Contextualiza√ß√£o:</p>
</blockquote><ul>
<li>O que √© <a href="https://docs.uniii.com.br/02-cloud-notes/01-aws/03-aws-cloud-architect-professional/02-conteudo.html#ec2" target="_blank" rel="noopener noreferrer">EC2</a></li>
<li>O que √© <a href="https://docs.uniii.com.br/02-cloud-notes/01-aws/03-aws-cloud-architect-professional/02-conteudo.html#security-group" target="_blank" rel="noopener noreferrer">Security Group</a></li>
</ul></div></div>
<ul>
<li>Key pair</li>
</ul>
<div class="theme-admonition theme-admonition-tip admonition_xJq3 alert alert--success"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>dica</div><div class="admonitionContent_BuS1"><p>Ao gerar o key pair atente-se ao:</p><ul>
<li>Tipo da chave:<!-- -->
<ul>
<li>RSA:  Usado em linux e Windows.</li>
<li>ED25519: N√£o suportado pelo Windows.</li>
</ul>
</li>
<li>Formato<!-- -->
<ul>
<li>.pem - formato aberto usado pelo openssh.</li>
<li>.ppk - formato do putty (windows 7 e 8).</li>
</ul>
</li>
</ul></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="use-data">Use data<a href="#use-data" class="hash-link" aria-label="Link direto para Use data" title="Link direto para Use data">‚Äã</a></h4>
<p>Usado para pre configurar um inst√¢ncia Ec2. O exemplo abaixo instala o apache na inst√¢ncia.</p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">## Considerando que AMI seja RedHat Based.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">#!/bin/bash</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">yum update -y</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">yum install httpd -y</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">systemctl start httpd</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">systemctl enable httpd</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">echo ‚ÄúHello World from $(hostname -f)‚Äù &gt; /var/www/html/index.html</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar c√≥digo para a √°rea de transfer√™ncia" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="imds---ec2-instance-metadata">IMDS - EC2 instance metadata<a href="#imds---ec2-instance-metadata" class="hash-link" aria-label="Link direto para IMDS - EC2 instance metadata" title="Link direto para IMDS - EC2 instance metadata">‚Äã</a></h4>
<ul>
<li>Informa√ß√µes sobre a inst√¢ncia.</li>
<li>Permite que inst√¢ncias vejam informa√ß√µes sobre elas mesmas, sem a necessidade de ter um IAM Role.</li>
<li>Pode ser acessado via <strong>URL</strong>: <a href="http://169.254.169.254/latest/meta-data" target="_blank" rel="noopener noreferrer">http://169.254.169.254/latest/meta-data</a>.<!-- -->
<ul>
<li>Permite acessar tanto o user data (script de inicializa√ß√£o) quanto o meta data.S√≥ permite acesso, n√£o preciso negar.</li>
</ul>
</li>
<li>Ha duas vers√µes<!-- -->
<ul>
<li><strong>IMDSv1</strong>
<ul>
<li>Acessa diretamente a <strong>URL</strong>: <a href="http://169.254.169.254/latest/meta-data" target="_blank" rel="noopener noreferrer">http://169.254.169.254/latest/meta-data</a>.</li>
</ul>
</li>
<li><strong>IMDSv2</strong> -<!-- -->
<ul>
<li>Mais seguro pois agora o acesso √© feito em dois passos</li>
<li>Recuperar o token de sess√£o.</li>
</ul>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">TOKEN=`curl -X PUT &quot;http://169.254.169.154/latest/api/token&quot; -H &quot;X-aws-ec2-metadata-token-ttl-secondas:21060&quot;`</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar c√≥digo para a √°rea de transfer√™ncia" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ul>
<li>Recuperar os dados passando o token via heardes:</li>
</ul>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">  curl http://169.254.169.254/latest/metadata -H &quot;X-aws-ec2-metadata-token: $TOKEN&quot; </span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar c√≥digo para a √°rea de transfer√™ncia" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
</ul>
</li>
<li>Quando se configura credencias para a inst√¢ncia ela usa o <strong>IMDS</strong> para recuperar-las usando a chamada</li>
</ul>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">  curl  -H &quot;X-aws-ec2-metadata-token: $TOKEN&quot; http://169.254.169.254/latest/metadata/identity-credentials/ec2/security-credentials/ec2-instance</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar c√≥digo para a √°rea de transfer√™ncia" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<hr>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="elb--asg">ELB / ASG<a href="#elb--asg" class="hash-link" aria-label="Link direto para ELB / ASG" title="Link direto para ELB / ASG">‚Äã</a></h4>
<div class="theme-admonition theme-admonition-tip admonition_xJq3 alert alert--success"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>dica</div><div class="admonitionContent_BuS1"><blockquote>
<p>Contextualiza√ß√£o:</p>
</blockquote><ul>
<li>O que √© <a href="https://docs.uniii.com.br/02-cloud-notes/01-aws/03-aws-cloud-architect-professional/02-conteudo.html#elastic-load-balancing" target="_blank" rel="noopener noreferrer">ELB</a></li>
<li>O que √© um <a href="https://docs.uniii.com.br/02-cloud-notes/01-aws/03-aws-cloud-architect-professional/02-conteudo.html#auto-scaling-group-alg" target="_blank" rel="noopener noreferrer">ALG</a></li>
</ul></div></div>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="beanstalk">Beanstalk<a href="#beanstalk" class="hash-link" aria-label="Link direto para Beanstalk" title="Link direto para Beanstalk">‚Äã</a></h3>
<div class="theme-admonition theme-admonition-tip admonition_xJq3 alert alert--success"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>dica</div><div class="admonitionContent_BuS1"><blockquote>
<p>Contextualiza√ß√£o:</p>
</blockquote><ul>
<li>O que √© <a href="https://docs.uniii.com.br/02-cloud-notes/01-aws/03-aws-cloud-architect-professional/02-conteudo.html#aws-elastic-beanstalk" target="_blank" rel="noopener noreferrer">Beanstalk</a></li>
</ul></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="beanstalk---avan√ßado">Beanstalk - Avan√ßado<a href="#beanstalk---avan√ßado" class="hash-link" aria-label="Link direto para Beanstalk - Avan√ßado" title="Link direto para Beanstalk - Avan√ßado">‚Äã</a></h4>
<ul>
<li>Usa o <strong>CloudFormation</strong> para provisionar qualquer recursos na AWS.</li>
<li>Dentre os formas de deploy (sigle instance e high availability) h√° a op√ß√£o de usar inst√¢ncias spot.</li>
<li>Os passos para usar o beanstalk s√£o:<!-- -->
<ul>
<li>Configure a ambiente (plataforma (java, node ..) e recursos usados).</li>
<li>Configure os acesso do servi√ßos (roles iam).</li>
<li>Configure rede, e banco de dados e tags. Opcional.</li>
<li>Configure trafego e politica de escalabilidade. Opcional.</li>
<li>Configure updates e monitoramento. Opcional.</li>
</ul>
</li>
<li>Tem uma funcionalidade de <strong>swap envoriment</strong> onde se pode redirecionar o DNS de um ambiente para outro.<!-- -->
<ul>
<li>O uso disso se faz numa implanta√ß√£o em prod, onde se cria um clone do ambiente atual e atualiza e testa no clone e ap√≥s isso se troca esse pelo o de prod.</li>
</ul>
</li>
<li>Tem tamb√©m um CLI chamado de <strong>eb cli</strong> que facilita o uso de CLI para automatizar pipelines.</li>
<li>Dentro da aplica√ß√£o que devemos deployar pode haver uma pasta <strong>.ebextensions</strong> na raiz e :<!-- -->
<ul>
<li>Tem o formato yml/json e a extens√£o do arquivo deve ser <strong>.config</strong>.</li>
<li>Permite altera configura√ß√µes padr√µes usando <strong>option_settings</strong></li>
<li>Permite adicionar recursos com RDS, ElastiCache, DynamoDb ....</li>
<li>Todos os recursos adicionado via <strong>ebextensions</strong> s√£o deletado quando o ambiente √© deletado.</li>
</ul>
</li>
<li>As op√ß√µes de deploys para updates s√£o:
<img decoding="async" loading="lazy" alt="image-20230807090025037" src="/assets/images/image-20230807090025037-93c9688f089043e7ef62c99f3524774c.png" width="1232" height="555" class="img_ev3q">
<ul>
<li>
<p><strong>All at once</strong> - Tudo de uma vez.</p>
<ul>
<li>√â mais r√°pido, mas a inst√¢ncia fica indispon√≠vel por algum tempo.</li>
<li>Bom para ambientes de dev e hom.<br>
<img decoding="async" loading="lazy" alt="image-20230807084407578" src="/assets/images/image-20230807084407578-a9ce5a09cf0b4f057e762d7fde30c11a.png" width="373" height="303" class="img_ev3q"></li>
</ul>
</li>
<li>
<p><strong>Rolling</strong> - Cria uma nova vers√£o (chamada de <strong>bucket</strong>)  derrubando parte das inst√¢ncias j√° existentes e redireciona o trafego quando a nova vers√£o estiver de p√©.</p>
<ul>
<li>N√£o h√° custo adicional.</li>
<li>Demora mais tempo para deployar.
<img decoding="async" loading="lazy" alt="image-20230807084505741" src="/assets/images/image-20230807084505741-f89dea7289c49b7b8692a4118ac4eca0.png" width="656" height="316" class="img_ev3q"></li>
</ul>
</li>
<li>
<p><strong>Rolling com batches adicionais</strong> - Igual ao anterior, mas faz o redirecionamento em partes, mantendo a conviv√™ncia entre a nova e a vers√£o antigo por algum tempo.</p>
<ul>
<li>Diferente o anterior que seleciona parte das aplica√ß√µes e derruba pra subir novas essa cria novas e convive com elas por um tempo.</li>
<li>Tem um custo adicional. Pois adiciona novas inst√¢ncias.</li>
<li>Bom para ambientes produtivos. Pois se mant√©m a capacidade da aplica√ß√£o sem comprometer o uso.
<img decoding="async" loading="lazy" alt="image-20230807084827320" src="/assets/images/image-20230807084827320-5c429712a6b27a837a24e88efc855376.png" width="480" height="337" class="img_ev3q"></li>
</ul>
</li>
<li>
<p><strong>Immutable</strong> - realiza o deploy das inst√¢ncias em novo ASG, e quanto esse estiver dispon√≠vel, se move as inst√¢ncias para o ASG antigo e termina as inst√¢ncias anteriores.</p>
<ul>
<li>Tem Zero Downtime. Pois cria um ASG tempor√°rio.</li>
<li>Tem um custo alto pois duplica a quantidade de inst√¢ncia.</li>
<li>Mas r√°pido que o <strong>Rolling</strong>.</li>
<li>Bom para produ√ß√£o.
<img decoding="async" loading="lazy" alt="image-20230807085227077" src="/assets/images/image-20230807085227077-026ec5deaba77b74a14ba29fa7784783.png" width="467" height="444" class="img_ev3q"></li>
</ul>
</li>
<li>
<p><strong>Blue/green</strong> - Cria se um novo ambiente, e redireciona (Route 53) quando estiver tudo ok.</p>
<ul>
<li>Tem Zero Downtime.</li>
<li>N√£o √© uma feature do <strong>beanstalk</strong> √© mais um conceito que pode aplicado. Pois o redirect tem que ser feito manualmente.
<img decoding="async" loading="lazy" alt="image-20230807085546086" src="/assets/images/image-20230807085546086-c42705ea121bdd51a825ee0e26d73004.png" width="416" height="385" class="img_ev3q"></li>
</ul>
</li>
<li>
<p><strong>Traffic Splitting</strong>  envia uma porcentagem de trafego para grupo de inst√¢ncias.</p>
</li>
<li>
<p>Usado para teste can√°rio.</p>
<ul>
<li>Duplica a quantidade de inst√¢ncias,</li>
<li>Tem um custo extra.</li>
<li>Facilita rollback e teste.
<img decoding="async" loading="lazy" alt="image-20230807085801497" src="/assets/images/image-20230807085801497-d6c622d44b599a5e0a0018d3d7c635d4.png" width="312" height="387" class="img_ev3q"></li>
</ul>
</li>
</ul>
</li>
</ul>
<hr>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="ciclo-de-vida-lifecycle-police">Ciclo de vida (lifecycle police)<a href="#ciclo-de-vida-lifecycle-police" class="hash-link" aria-label="Link direto para Ciclo de vida (lifecycle police)" title="Link direto para Ciclo de vida (lifecycle police)">‚Äã</a></h4>
<ul>
<li>Pode armazenar mais de 1000 vers√µes de aplica√ß√µes. Deve se remover de tempos em tempos vers√µes antiga.</li>
<li>Para isso uso o Ciclo de vida que pode ser:<!-- -->
<ul>
<li>Baseado em tempo (vers√µes antiga)</li>
<li>Baseado em espa√ßo usado (quando se esta ocupando muito espa√ßo com vers√µes antigas)</li>
</ul>
</li>
<li>Oferece a op√ß√£o de armazenar as vers√µes no S3 para n√£o haver perda de dados.</li>
</ul>
<hr>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="beanstalk-clonning">Beanstalk clonning<a href="#beanstalk-clonning" class="hash-link" aria-label="Link direto para Beanstalk clonning" title="Link direto para Beanstalk clonning">‚Äã</a></h4>
<ul>
<li>Permite clonar um ambiente, mantendo as mesmas configura√ß√µes.</li>
<li>√ötil para testar uma nova vers√£o da aplica√ß√£o. Ou atualiza√ß√£o de vers√£o da plataforma.</li>
<li>Todos os recursos da nova vers√£o s√£o preservados.<!-- -->
<ul>
<li>Apenas no caso de Banco de dados que os dados n√£o s√£o clonados apenas as configura√ß√µes.</li>
</ul>
</li>
<li>Usado em conjunto a a funcionalidade de <strong>swap</strong>, onde se cria um clone, implanta a nova vers√£o e depois dela ok, se troca o DNS para apontar para a nova vers√£o.</li>
</ul>
<hr>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="migrations">Migrations<a href="#migrations" class="hash-link" aria-label="Link direto para Migrations" title="Link direto para Migrations">‚Äã</a></h4>
<ul>
<li>Ap√≥s criar um ambiente, n√£o se pode mudar o tipo do <strong>load balancer</strong> apenas as configura√ß√µes, caso precise mudar ser√° necess√°rio realizar uma migra√ß√£o.<!-- -->
<ul>
<li>Para isso:<!-- -->
<ul>
<li>Crie um novo ambiente com as mesmas configura√ß√µes, exceto o ELB. (ou seja n√£o pode ser um clone).</li>
<li>Deploy a aplica√ß√£o no novo ambiente.</li>
<li>Use o Swap ou o Route 53 para redirecionar o trafego da aplica√ß√£o.</li>
<li>Mate o ambiente anterior.</li>
</ul>
</li>
</ul>
</li>
<li>Apesar de poder provisionar o RDS via Beanstalk, n√£o √© recomendado para ambiente produtivo. Nesse caso o ideal √© ter o banco separado.</li>
</ul>
<p><img decoding="async" loading="lazy" alt="image-20230808083912269" src="/assets/images/image-20230808083912269-c0a77493d0d3ff53f3339adb529db776.png" width="853" height="357" class="img_ev3q"></p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="lambda">Lambda<a href="#lambda" class="hash-link" aria-label="Link direto para Lambda" title="Link direto para Lambda">‚Äã</a></h3>
<div class="theme-admonition theme-admonition-tip admonition_xJq3 alert alert--success"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>dica</div><div class="admonitionContent_BuS1"><blockquote>
<p>Contextualiza√ß√£o:</p>
</blockquote><ul>
<li>O que √© <a href="https://docs.uniii.com.br/02-cloud-notes/01-aws/03-aws-cloud-architect-professional/02-conteudo.html#aws-lambda" target="_blank" rel="noopener noreferrer">Lambda</a></li>
</ul></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="vis√£o-extra---desenvolvedor-3">Vis√£o extra - desenvolvedor<a href="#vis√£o-extra---desenvolvedor-3" class="hash-link" aria-label="Link direto para Vis√£o extra - desenvolvedor" title="Link direto para Vis√£o extra - desenvolvedor">‚Äã</a></h4>
<ul>
<li>
<p>Linguagem suportadas:</p>
<ul>
<li>Node / Python/ java / c# / Ruby / Golang.</li>
<li>Caso seja diferentes dessa pode rodar usando <strong>custom Runtime API</strong> (open source project).</li>
</ul>
</li>
<li>
<p>As depend√™ncias devem ser enviadas juntos com o condigo da Lambda. Respeitando a limita√ß√µes do tamanho do pacote.</p>
</li>
<li>
<p>Suporta tamb√©m <strong>Lambda Cont√™iner Image</strong>.</p>
<ul>
<li>Criadas usando o Lambda Runtime API.</li>
</ul>
</li>
<li>
<p>Para atualizar uma Lambda usando o <strong>CloudFormation</strong> deve se realizar o upload o pacote zipado para o S3 e refer√™ncia-lo no CloudFormation.</p>
<ul>
<li>O S3 deve usar versionamento, para poder disparar o CloudFormation.</li>
<li>Caso use para implantar em cross account √© necess√°rio ter um Bucket police para permitir acesso ao CloudFormation de cada conta.</li>
</ul>
</li>
<li>
<p><strong>Lambda Trigger</strong></p>
<ul>
<li>
<p>Na integra√ß√£o com ELB, os dados do request s√£o transformado em Json e repassados a Lambda.</p>
<ul>
<li>O ALB suporta o Multi Header values (necess√°rio habilitar no target group), isto √© quando se passa <strong>query string parameters</strong> com m√∫ltiplos valores eles s√£o convertido para um objeto json como um array.<br>
<img decoding="async" loading="lazy" alt="image-20230813111039675" src="/assets/images/image-20230813111039675-06c800acd99b11c933d5eb73974f5f1f.png" width="878" height="465" class="img_ev3q"></li>
</ul>
</li>
<li>
<p>H√° dois modos de opera√ß√£o:</p>
<ul>
<li>S√≠ncrono -&gt; Voc√™ chama e esperar pela resposta. (as filas e o stream entram aqui, pois existe o <strong>event source mapping</strong> que realiza a chamada s√≠ncrona da Lambda).</li>
<li>Ass√≠ncrono -&gt; um evento dispara a Lambda, nesse caso a Lambda executa baseados no evento.<br>
<img decoding="async" loading="lazy" alt="image-20230813112808083" src="/assets/images/image-20230813112808083-fbf539436f44b0936d9b1f1f38cbe7d3.png" width="857" height="382" class="img_ev3q">
<ul>
<li>Caso ocorram erros haver√° retry sendo:<!-- -->
<ul>
<li>3 retry no total.</li>
<li>1 minuto ap√≥s 1¬™ chamada, depois aguarda 2 minutos.</li>
<li>Deve se garantir que o processamento √© idempotente, em casos de retry.</li>
<li>Isso √© para evitar duplicar logs e criar loop infinito de retentativas na Lambda.</li>
<li>Pode se definir uma DLQ (SNS ou SQS) para notificar sobre falhas (precisa de permiss√£o IAM).</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li>
<p>Integra√ß√µes com CW Events  / EventBridge</p>
<ul>
<li><strong>Via CRON</strong>
<ul>
<li>A cada <strong>x</strong> tempo dispara a Lambda.</li>
</ul>
</li>
<li><strong>Via EventBridge Role</strong> (baseado em um padr√£o de evento, ex: exclus√£o de EC2)<!-- -->
<ul>
<li>Trigga quando status sofre mudan√ßa.</li>
</ul>
</li>
</ul>
</li>
<li>
<p><strong>Event Source Mapping</strong> - Lambda Trigger</p>
<ul>
<li>Respons√°vel por realizar o polling de dados do <strong>Kinesis Data Stream, SQS, DynamoDB Stream</strong> e invocar a Lambda. Em outra palavras √© um processo que realiza o polling dos itens e monta os batches para o Lambda processar.</li>
<li>h√° dois tipos:<!-- -->
<ul>
<li><strong>Stream</strong>
<ul>
<li>Usado com Kinesis e DynamoDB.</li>
<li>cria-se um iterador para cadas shard, e processa os itens em ordem. Inicia do inicio ou a partir de um per√≠odo.</li>
<li>Se ocorrer um erro todo batch √© reprocessado.</li>
<li>Permite informar uma DLQ para caso de erros.
<img decoding="async" loading="lazy" alt="image-20230813204251222" src="/assets/images/image-20230813204251222-ccc9cf2bc056a05bd940e35b2bf198f9.png" width="848" height="374" class="img_ev3q"></li>
<li>Escalonamento<!-- -->
<ul>
<li>Uma Lambda por shard</li>
<li>Caso use paralelizado, processa 10 batches por shard simultaneamente.</li>
</ul>
</li>
</ul>
</li>
<li><strong>Queue</strong>
<ul>
<li>Usado para SQS e SQS FIFO.</li>
<li>Pode se configurar o tamanho do batch.</li>
<li>Se configurar a DLQ na Fila, com uma politica de tentativa de erros. Pois DLQ no Lambda √© s√≥ para chamadas ass√≠ncronas, e nesse caso s√£o chamadas s√≠ncronas.<br>
<img decoding="async" loading="lazy" alt="image-20230813204547891" src="/assets/images/image-20230813204547891-f0ff376080111a7be85596b7d478e637.png" width="868" height="467" class="img_ev3q"></li>
<li>O Lambda suporta processamento em ordem FIFO, escalando de acordo com o numero de groups ativos. - Escalonamento<!-- -->
<ul>
<li>Para SQS Standard<!-- -->
<ul>
<li>Pode escalar at√© 60 inst√¢ncia por minuto.</li>
<li>Pode processar at√© 1000 batches de mensagens simultaneamente.</li>
</ul>
</li>
<li>Para SQS FIFO<!-- -->
<ul>
<li>Processa a mensagem em ordem desde que estejam no mesmo GrupoID.</li>
<li>Scala de acordo com numero de grupo de mensagem ativos.</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li>
<p><strong>Event e Context Object</strong><br>
<img decoding="async" loading="lazy" alt="image-20230813211306459" src="/assets/images/image-20230813211306459-179f3f20ee7359aae11ddf4185418cd2.png" width="743" height="329" class="img_ev3q"></p>
<ul>
<li>Quando uma Lambda √© aciona ela recebe dois tipos de dados no formato Json, que s√£o:<!-- -->
<ul>
<li><strong>Event Object</strong>
<ul>
<li>Cont√©m os dados para que a fun√ß√£o processe.</li>
<li>Cont√©m os dados de quem acionou (todas as informa√ß√µes necess√°rias)</li>
<li>√â convertido em um objeto de acordo com o tipo da Lambda (python, java, node) e fica dispon√≠vel para uso.</li>
</ul>
</li>
<li><strong>Context Object</strong>
<ul>
<li>Cont√©m informa√ß√µes sobre o contexto de execu√ß√£o da Lambda, com memoria_limit_in_mb, function_name, aws_request_id.</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li>
<p><strong>Lambda destination</strong></p>
<ul>
<li>Ap√≥s o processamento da Lambda pode se configur√°-la para enviar o resultado para outros servi√ßos AWS.</li>
<li>Podendo ser:<!-- -->
<ul>
<li>Para invoca√ß√µes <strong>ass√≠ncronas</strong>:<!-- -->
<ul>
<li>Pode enviar o resultado em caso de sucesso ou falha para SQS, SNS, Lambda, EventBridge.</li>
<li>Recomendado usar ao inv√©s de DLQ, por ser uma solu√ß√£o mais direta. (n√£o requer um solu√ß√£o para o processamento da DLQ).</li>
</ul>
</li>
<li>Para <strong>event source mapping</strong> do tipo stream.<!-- -->
<ul>
<li>Para batch descartados: SQS, SNS</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li>
<p><strong>Lambda polices</strong></p>
<ul>
<li><strong>Lambda Execution Role</strong>
<ul>
<li>IAM Role que da acesso ao recursos para leitura e escritas.<!-- -->
<ul>
<li>AWSLambdaBasicExecutionRole -&gt; permite fazer upload de logs para CloudWatch.</li>
<li>AWSLambdaKinesisExecutionRole -&gt; permite ler do Kinesis,</li>
<li>AWSLambdaDynamoDBExecutionRole -&gt; Permite ler de streams do DynamoDB.</li>
<li>AWSLambdaSQSQueueExecutionRole -&gt; permite ler do SQS.</li>
<li>AWSLambdaVPCAccessExecutionRole -&gt; permite implantar fun√ß√µes Lambda dentro de nosso VPC.</li>
<li>AWSLambdaXrayDaemonWriteAccess -&gt; permite carregar dados de rastreamento para o X-Ray.</li>
<li>Recomendado criar uma por Lambda.</li>
<li>Usada quando a lambda realize o pulling das mensagem via <strong>event source mapping</strong>.</li>
</ul>
</li>
</ul>
</li>
<li><strong>Resource Based police</strong></li>
<li>Para que outros servi√ßos consigam chamar uma Lambda deve se criar uma <strong>Resource Based police</strong>
<ul>
<li>Similar a S3 Police. Onde se define quem pode invocar a Lambda.</li>
<li>Usado onde um recurso aciona a lambda.</li>
</ul>
</li>
</ul>
</li>
<li>
<p><strong>Lambda Logging &amp; Monitoring</strong></p>
<ul>
<li>Usa CW Logs - para logar a execu√ß√£o (precisa da role AWSLambdaBasicExecutionRole ).</li>
<li>Usa CW Metrics - para guardar m√©tricas (invoca√ß√µes, dura√ß√£o, execu√ß√µes concorrentes, erros, rates, throttles).</li>
<li>Usa X-Ray - para guardar o traces (necess√°rio ativar, vem desabilitado default), precisar usar X-ray SDK para marcar os traces.</li>
</ul>
</li>
<li>
<p><strong>Lambda VPC</strong></p>
<ul>
<li>Por padr√£o as lambdas rodam um uma VPC gerenciada pela AWS a parte, ou seja n√£o na sua VPC.</li>
<li>Com isso √© poss√≠vel acessar a internet e recursos reginais como DynamoDB e S3.</li>
<li>Assim n√£o da para acessar os recursos que s√£o criados na VPC criada na sua conta.<!-- -->
<ul>
<li>Para resolver isso √© necess√°rio realizar a implanta√ß√£o da lambda em sua VPC informando o VPC ID, as subnets e grupos de seguran√ßa.</li>
<li>O o Lambda criar uma ENI nas subnets para conectar a VPC. Precisa ter permiss√£o para criar ENI (API CreateNetworkInterface) ou via role <strong>AWSLambdaENIExecutionRole</strong>.</li>
<li>Tamb√©m √© necess√°rio uma role de acesso chamada <strong>AWSLambdaVPCAccessExecutionRole</strong>.<br>
<img decoding="async" loading="lazy" alt="image-20230814053259347" src="/assets/images/image-20230814053259347-d1154bd95b0d925a12aac9d8ecbf4dfe.png" width="362" height="462" class="img_ev3q"></li>
</ul>
</li>
<li>Lambdas configuradas para rodar em uma VPC em uma subnet publica <strong>n√£o ter√° acesso a internet ou tera um IP publico.</strong></li>
<li>Para ter acesso deve se rodar a Lambda em uma subnet privada e usar o NAT Gateway | instance para acessar a internet.<br>
<img decoding="async" loading="lazy" alt="image-20230814053746136" src="/assets/images/image-20230814053746136-bb458def102f974963e7d0a56469e92e.png" width="446" height="388" class="img_ev3q"></li>
</ul>
</li>
<li>
<p><strong>Lambda performance</strong></p>
<ul>
<li>CPU esta relacionado a Mem√≥ria, aumentado memoria aumenta CPU.</li>
<li>Deve executar entre 5 segundos e 15 minutos (timeout).</li>
<li>Tem o contexto de execu√ß√£o que:<!-- -->
<ul>
<li>Inicia as depend√™ncias de uma Lambda (conex√µes com banco). √â uma p√©ssima ideia iniciar uma conex√£o com banco de dado na fun√ß√£o, pois isso consome do tempo de execu√ß√£o.</li>
<li>Para usar √© s√≥ chamar fora do handle da fun√ß√£o.
<img decoding="async" loading="lazy" alt="image-20230814055326413" src="/assets/images/image-20230814055326413-12a5f7e05da5756d935681b1a04eb2ae.png" width="875" height="345" class="img_ev3q"></li>
<li>√â mantido por um tempo, √© pode ser reutilizado por outras execu√ß√µes (reduzindo tempo de inicializa√ß√£o).</li>
<li>Tem acesso ao diret√≥rio /tmp, para grava√ß√£o de arquivos tempor√°rios. Ser√° compartilhado com as outra execu√ß√µes.<!-- -->
<ul>
<li>Para guardar aquivos grandes, que n√£o precisam ser baixados a toda execu√ß√£o.</li>
<li>Tem at√© at√© 10 GB de espa√ßo.</li>
<li>Caso precise encriptar dados use o KMS.</li>
</ul>
</li>
<li>Caso precise de armazenamento permanente use o S3.</li>
</ul>
</li>
</ul>
</li>
<li>
<p><strong>Lambda Layers</strong></p>
<ul>
<li>Permite criar runtime customizadas.</li>
<li>Pode se ter at√© 5 layers por fun√ß√£o de at√© 250 MB.</li>
<li>Permite externalizar depend√™ncias para reuso. Evitando assim perda de tempo com uploads de novas vers√µes.<br>
<img decoding="async" loading="lazy" alt="image-20230814060607313" src="/assets/images/image-20230814060607313-507d08092e424237e10578bc3d4633ec.png" width="862" height="264" class="img_ev3q"></li>
</ul>
</li>
<li>
<p><strong>Lambda File System Mounting</strong></p>
<ul>
<li>Pode acessar o EFS se estiver rodando na VPC da sua conta.</li>
<li>Usa se <strong>EFS Access Point</strong> para isso.<br>
<img decoding="async" loading="lazy" alt="image-20230814061525148" src="/assets/images/image-20230814061525148-a9965de21b21ab1247622be6d673ec26.png" width="342" height="401" class="img_ev3q"></li>
<li>Cada Lambda executando ser√° uma conex√£o no EFS.</li>
<li>Comparativo<br>
<img decoding="async" loading="lazy" alt="image-20230814061203377" src="/assets/images/image-20230814061203377-39339e99a8f4e18d67b9cde49268412b.png" width="840" height="405" class="img_ev3q"></li>
</ul>
</li>
<li>
<p><strong>Lambda Concurrency an Throttling</strong></p>
<ul>
<li>Pode ter at√© 1000 execu√ß√µes concorrentes para toda conta - (soft Limit).</li>
<li>Pode se configurar a quantidade de concorr√™ncia que se quer ter via <strong>reserved concurrency</strong>.</li>
<li>Caso a quantidade de invoca√ß√£o passe o limite configurado ocorre o throttling.</li>
<li>√â recomendado que se defina os limites, pois caso n√£o defina, uma lambda pode causar o throttle em todas as outras dentro da conta.</li>
<li>No caso de invoca√ß√µes ass√≠ncronas:<!-- -->
<ul>
<li>Caso ocorra o throttling ela vai devolver para a fila interna e tenta reprocessar ao longo de 6 horas com um back off exponencial.</li>
</ul>
</li>
</ul>
</li>
<li>
<p><strong>Lambda Container Image</strong></p>
<ul>
<li>Permite executar cont√™iner criados com base na <strong>Lambda Runtime API</strong> de at√© 10 GB de tamanho.</li>
<li>A vantagem √© que a imagem vai est√° com todas as depend√™ncias.<br>
<img decoding="async" loading="lazy" alt="image-20230814071004237" src="/assets/images/image-20230814071004237-b4b20177ca8af64e578fc21362801ada.png" width="690" height="268" class="img_ev3q"></li>
<li>Boas praticas:<!-- -->
<ul>
<li>Use sempre imagem Base AWS-provided.</li>
<li>Use multi-Stage build para diminuir o tamanho da aplica√ß√£o.</li>
<li>Use o ECR para armazenar os Layer da imagem.</li>
</ul>
</li>
</ul>
</li>
<li>
<p><strong>Lambda Version e Aliases</strong></p>
<ul>
<li>Ap√≥s o desenvolvimento √© poss√≠vel publicar a Lambda, criando assim uma vers√£o.<!-- -->
<ul>
<li>Cada vers√£o tem seu pr√≥prio ARN e √© imut√°vel.</li>
<li>O $Latest representa a ultima vers√£o.</li>
</ul>
</li>
<li>Pode ser criar Alias para essa vers√µes.<!-- -->
<ul>
<li>Pode se criar alias por ambiente.</li>
<li>Usados para can√°rio deploy, onde se pode adicionar uma segunda vers√£o e colocar pesos no roteamento do tr√°fego a fim de testar a nova vers√£o.</li>
<li>N√£o pode refer√™nciar outros alias, apenas vers√µes.<br>
<img decoding="async" loading="lazy" alt="image-20230814071802676" src="/assets/images/image-20230814071802676-53565b48b1a67d0572daf7e415102755.png" width="834" height="448" class="img_ev3q"></li>
</ul>
</li>
<li>Pode se usar o <strong>Code Deploy</strong> para realizar o traffic shift (roteamento do trafego).<br>
<img decoding="async" loading="lazy" alt="image-20230814072828143" src="/assets/images/image-20230814072828143-b68aed45cc97fc1ab80cc8d1cdf6dd65.png" width="883" height="411" class="img_ev3q"></li>
</ul>
</li>
<li>
<p><strong>Lambda URL</strong></p>
<ul>
<li>
<p>Permite criar um endpoint dedicado para o Lambda. Suporta IPV4 e IPV6.</p>
</li>
<li>
<p>Gerada um URL √∫nica para a Lambda, que pode apontar para um alias ou $Latest.</p>
<ul>
<li>N√£o √© poss√≠vel apontar para vers√µes diretamente.</li>
</ul>
</li>
<li>
<p>Suporta CORS e politica baseada em recurso. (especificando CIDR ou IAM principal).</p>
</li>
<li>
<p>Pode ser configurada via Console ou API.</p>
</li>
<li>
<p>Tipo autentica√ß√£o:</p>
<ul>
<li>Auth Type None -&gt; valida apenas politica Baseada em recurso. Dando acesso a todos.</li>
<li>Auth Type AWS_IAM -&gt; valida o principal e a politica baseada em recurso.<!-- -->
<ul>
<li>O principal deve ter√° a permiss√£o <strong>lambda<!-- -->:InvokeFunctionUrl</strong>.</li>
</ul>
</li>
</ul>
<p><img decoding="async" loading="lazy" alt="image-20230814183601019" src="/assets/images/image-20230814183601019-5cd56c34894d1791f30e561b2b9ae416.png" width="930" height="382" class="img_ev3q"></p>
</li>
</ul>
</li>
<li>
<p><strong>Lambda boas praticas</strong></p>
</li>
</ul>
<p><img decoding="async" loading="lazy" alt="image-20230814184239369" src="/assets/images/image-20230814184239369-966f9ef0dc6067630ce2147eb614473e.png" width="825" height="424" class="img_ev3q"></p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="aws-serverless-application-model-sam">AWS Serverless Application Model (SAM)<a href="#aws-serverless-application-model-sam" class="hash-link" aria-label="Link direto para AWS Serverless Application Model (SAM)" title="Link direto para AWS Serverless Application Model (SAM)">‚Äã</a></h3>
<div class="theme-admonition theme-admonition-tip admonition_xJq3 alert alert--success"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>dica</div><div class="admonitionContent_BuS1"><blockquote>
<p>Contextualiza√ß√£o:</p>
</blockquote><ul>
<li><a href="https://docs.uniii.com.br/02-cloud-notes/01-aws/03-aws-cloud-architect-professional/02-conteudo.html#sam---serveless-aplication-model" target="_blank" rel="noopener noreferrer">SAM</a></li>
</ul></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="vis√£o-extra---desenvolvedor-4">Vis√£o extra - desenvolvedor<a href="#vis√£o-extra---desenvolvedor-4" class="hash-link" aria-label="Link direto para Vis√£o extra - desenvolvedor" title="Link direto para Vis√£o extra - desenvolvedor">‚Äã</a></h4>
<ul>
<li>
<p>Construido em cima do CloudFormation.</p>
<ul>
<li>o Arquivo YML (a <strong>receita</strong>) chamado <strong>template.yaml</strong>, que depois √© transformado em um template do <strong>CloudFormation</strong>.</li>
<li>Requer a defini√ß√£o das sess√µes de <strong>Transform</strong> e do <strong>Resources</strong>.</li>
<li>Veja um <a href="https://github.com/Uniliva/uni-salva/blob/main/content/02-cloud-notes/01-aws/04-aws-cloud-develop-associate/exemplos-codigos/sam/template.yaml" target="_blank" rel="noopener noreferrer">exemplo</a></li>
</ul>
</li>
<li>
<p>Comandos:</p>
</li>
</ul>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># Inicia um projeto</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">sam init</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># realiza o build</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">sam build  &lt;options&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># empacota a aplica√ß√£o para cloudFormation</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">sam package  --s3-bucket &lt;bucket-name&gt; --template-file template.yaml --output-template-file gen/template-generated.yaml</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">## √© equivalente a: </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">aws cloudformation package  --s3-bucket &lt;bucket-name&gt; --template-file template.yaml --output-template-file gen/template-generated.yaml</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Realiza o deploy</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">sam deploy  &lt;options&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">## √© equivalente a: </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">aws cloudformation deploy --template-file gen/template-generated.yaml --stack-name &lt;stack name&gt;  --capabilities CAPABILITY_IAM</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">## Deploy configuravel via perguntas - realiza perguntas e executa o empacotamento e o deploy num comando s√≥</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">sam deploy --guided</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar c√≥digo para a √°rea de transfer√™ncia" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ul>
<li>
<p>Processo de uso:
<img decoding="async" loading="lazy" alt="image-20230819090343445" src="/assets/images/image-20230819090343445-8733d7a67a69042853ec6336d1601522.png" width="903" height="392" class="img_ev3q"></p>
</li>
<li>
<p>As Polices criados pelo SAM, s√£o baseados em templates configurados pela AWS.
<img decoding="async" loading="lazy" alt="image-20230819094903580" src="/assets/images/image-20230819094903580-ab43356de7e41bfb2d54c53d43dfdfb8.png" width="871" height="430" class="img_ev3q"></p>
</li>
<li>
<p>Ao se criar uma Lambda, h√° uma op√ß√£o de usar um projeto j√° pronto a partir de um exemplo do SAM Aplication Repository (SAR).</p>
</li>
<li>
<p>Como configurar o SAM com o <strong>CodeDeploy</strong> para realizar o <strong>Traffic Shifting</strong>
<img decoding="async" loading="lazy" alt="image-20230819095243368" src="/assets/images/image-20230819095243368-3dcfb7408b235e252522c9384d398269.png" width="893" height="374" class="img_ev3q"></p>
</li>
<li>
<p>Como executar SAM Localmente para testes.</p>
<ul>
<li>Lambda<!-- -->
<ul>
<li>Usa o comando <strong>sam local invoke</strong>.</li>
<li>Pode se usar o <strong>--profile=<code>&lt;nome&gt;</code></strong> caso a Lambda se conecte a AWS.</li>
<li>Pode se gerar eventos para a lambda usando o comando <strong>sam local generate-event</strong>.
<img decoding="async" loading="lazy" alt="image-20230819101004809" src="/assets/images/image-20230819101004809-37179b92247eb0859f563b65007d03af.png" width="288" height="247" class="img_ev3q"></li>
</ul>
</li>
<li>API Gateway<!-- -->
<ul>
<li>Usa o comando <strong>sam local start-api</strong>.</li>
<li>Pode se usar o <strong>--profile=<code>&lt;nome&gt;</code></strong> caso a Lambda se conecte a AWS.
<img decoding="async" loading="lazy" alt="image-20230819101018954" src="/assets/images/image-20230819101018954-d1a30b2ee93c40744b223b006bbcde1c.png" width="274" height="196" class="img_ev3q"></li>
</ul>
</li>
</ul>
</li>
<li>
<p>SAM Aplication Repository (SAR).</p>
<ul>
<li>Permite deployar aplica√ß√µes que pode ser reutilizadas em outras contas.<br>
<img decoding="async" loading="lazy" alt="image-20230819101458761" src="/assets/images/image-20230819101458761-9a747115aa4ff43520b93a6b3e0af09a.png" width="834" height="382" class="img_ev3q"></li>
</ul>
</li>
</ul>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="cont√™ineres">Cont√™ineres:<a href="#cont√™ineres" class="hash-link" aria-label="Link direto para Cont√™ineres:" title="Link direto para Cont√™ineres:">‚Äã</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="aws-copilot">AWS CoPilot<a href="#aws-copilot" class="hash-link" aria-label="Link direto para AWS CoPilot" title="Link direto para AWS CoPilot">‚Äã</a></h3>
<p><img decoding="async" loading="lazy" alt="image-20230804061517407" src="/assets/images/image-20230804061517407-cc3fadc0276d8e1bdf36625ff129cdf3.png" width="862" height="186" class="img_ev3q"></p>
<ul>
<li>CLI para build, release and operate aplica√ß√µes conteinerizadas.</li>
<li>Veja aqui o <a href="https://docs.aws.amazon.com/AmazonECS/latest/developerguide/getting-started-aws-copilot-cli.html" target="_blank" rel="noopener noreferrer">Getting started</a>.</li>
<li>Usa se Yaml para descrever a arquitetura da aplica√ß√£o.</li>
<li>Roda as aplica√ß√µes no AppRunner, ECS e Fargate.</li>
<li>Abstrai a complica√ß√µes de infraestrutura, provisionando automaticamente, permitindo que se foque a cria√ß√£o da aplica√ß√£o.</li>
<li>Permite automatizar deploys com um comando usando CodePipeline.</li>
<li>Permite deployar em v√°rios ambientes, al√©m de acesso a logs, troubleshooting e health checks.</li>
</ul>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="amazon-ecs">Amazon ECS<a href="#amazon-ecs" class="hash-link" aria-label="Link direto para Amazon ECS" title="Link direto para Amazon ECS">‚Äã</a></h3>
<div class="theme-admonition theme-admonition-tip admonition_xJq3 alert alert--success"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>dica</div><div class="admonitionContent_BuS1"><blockquote>
<p>Contextualiza√ß√£o:</p>
</blockquote><ul>
<li>O que √© <a href="https://docs.uniii.com.br/02-cloud-notes/01-aws/03-aws-cloud-architect-professional/02-conteudo.html#amazon-ecs" target="_blank" rel="noopener noreferrer">ECS</a></li>
</ul></div></div>
<ul>
<li>Usa o <strong>EFS</strong> como volumes (ele √© serverless), funciona tanto para EC2 e Fargate.</li>
<li>Como solu√ß√µes de arquitetura h√°:<!-- -->
<ul>
<li>Capacidade de ser acionada pelo EventBridge para executar um processamento de imagem por exemplo
<img decoding="async" loading="lazy" alt="image-20230801070232324" src="/assets/images/image-20230801070232324-6124a2ee6a6150adfe110704660fa7a5.png" width="813" height="401" class="img_ev3q"></li>
<li>Possibilidade de usar o EventBridge para executar a cada hora (agendado).</li>
<li>Possibilidade de usar uma fila SQS com entrada de dados</li>
</ul>
</li>
</ul>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="iam-roles-for-ecs">IAM Roles for ECS<a href="#iam-roles-for-ecs" class="hash-link" aria-label="Link direto para IAM Roles for ECS" title="Link direto para IAM Roles for ECS">‚Äã</a></h5>
<p>H√° dois tipos:</p>
<ul>
<li>EC2 instance profile</li>
<li>ECS Tasks Role</li>
</ul>
<p><img decoding="async" loading="lazy" alt="image-20230801060747822" src="/assets/images/image-20230801060747822-67c160d93efa75684853cf805885168a.png" width="906" height="445" class="img_ev3q"></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="ecs-service-auto-scaling-tasks-scaling">ECS Service Auto Scaling (tasks scaling)<a href="#ecs-service-auto-scaling-tasks-scaling" class="hash-link" aria-label="Link direto para ECS Service Auto Scaling (tasks scaling)" title="Link direto para ECS Service Auto Scaling (tasks scaling)">‚Äã</a></h3>
<p>Pode escalar usando 3 m√©tricas:</p>
<ul>
<li>Via m√©dia uso de CPU.</li>
<li>Via m√©dia de uso de mem√≥ria.</li>
<li>Via quantidade de requisi√ß√£o por target (m√©trica do ALB)</li>
</ul>
<p>Pode escalar por</p>
<ul>
<li><strong>Target Tracking</strong> - escala baseado numa m√©trica do CloudWatch.</li>
<li><strong>Step Scaling</strong> - escala baseado em um alarme do CloudWatch.</li>
<li><strong>Scheduled Scaling</strong> - escala usando um data e hora especifica.</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="ecs-tasks-definitions">ECS Tasks definitions<a href="#ecs-tasks-definitions" class="hash-link" aria-label="Link direto para ECS Tasks definitions" title="Link direto para ECS Tasks definitions">‚Äã</a></h4>
<ul>
<li>Semelhante ao docker compose ou deployment (EKS), ou seja, serve para definir como vai ser criado o cont√™iner.</li>
<li>Tasks rodando na mesma <strong>AZ</strong> compartilham o mesmo sistema de arquivo EFS.</li>
<li>Numa Tasks √© poss√≠vel adicionar v√°rios containers, como aqueles <strong>sidecars</strong>.</li>
<li>Caso esteja rodando com o Launch type EC2, pode se definir uma <strong>task placement strategy</strong> e uma <strong>task placement constraints</strong> para definir onde o <strong>ECS</strong> deve alocar os novos containers (tasks) criados. Funciona assim:<!-- -->
<ul>
<li>Se identifica a inst√¢ncia que atenda os requisitos de mem√≥ria e CPU e Portas definidos na <strong>task definitions</strong>.</li>
<li>Valida se a inst√¢ncia est√° aderente as restri√ß√µes de alocamento definidas na <strong>task placement constraints</strong>.</li>
<li>Valida se a inst√¢ncia est√° aderente as estrat√©gias de alocamento definidas na <strong>task placement strategy</strong>.</li>
<li>Aloca na inst√¢ncia selecionada.</li>
</ul>
</li>
<li>As <strong>task placement strategy</strong> s√£o<!-- -->
<ul>
<li><strong>BinPack</strong>
<ul>
<li>Alocar√° de acordo com memoria ou CPU.</li>
<li>Priorizando minimizar os custos.
<img decoding="async" loading="lazy" alt="image-20230804055238263" src="/assets/images/image-20230804055238263-c56c4f4b56b32d6ad7d8f673cdc88cc3.png" width="318" height="167" class="img_ev3q"></li>
</ul>
</li>
<li><strong>Random</strong>
<ul>
<li>Seleciona o inst√¢ncia para aloca randomicamente.
<img decoding="async" loading="lazy" alt="image-20230804055224374" src="/assets/images/image-20230804055224374-777694f0114dc264395c160018bae158.png" width="304" height="149" class="img_ev3q"></li>
</ul>
</li>
<li><strong>Spread</strong>
<ul>
<li>Espalha de acordo com o valor passado, como instanceID, attribute<!-- -->:ec2<!-- -->.availability-zone</li>
<li>Esse prioriza a disponibilidade.
<img decoding="async" loading="lazy" alt="image-20230804055118989" src="/assets/images/image-20230804055118989-ac26b6f70b60c534fa06503da08e7643.png" width="405" height="132" class="img_ev3q"></li>
</ul>
</li>
</ul>
</li>
<li>Pode se combinar as <strong>task placement strategy</strong>
<img decoding="async" loading="lazy" alt="image-20230804055506695" src="/assets/images/image-20230804055506695-a533ee5a6cd87e773ca0729c6be8e1cc.png" width="834" height="244" class="img_ev3q"></li>
<li>J√° as <strong>task placement constraints</strong> pode ser definidas para limitar o alocamento. Podendo ser:<!-- -->
<ul>
<li><strong>distinctInstance</strong> - Obriga que o alocamento seja feito √© inst√¢ncias diferentes.</li>
<li><strong>memberOf</strong> - Obriga que se atenda a express√£o que pode ser uma <strong>cluster query language</strong>.
<img decoding="async" loading="lazy" alt="image-20230804055847335" src="/assets/images/image-20230804055847335-f385bb0a08f45c9e6a4fa76cba34259e.png" width="507" height="141" class="img_ev3q"></li>
</ul>
</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="ec2-launch-type---auto-scaling-server-scaling">EC2 Launch type - Auto Scaling (server scaling)<a href="#ec2-launch-type---auto-scaling-server-scaling" class="hash-link" aria-label="Link direto para EC2 Launch type - Auto Scaling (server scaling)" title="Link direto para EC2 Launch type - Auto Scaling (server scaling)">‚Äã</a></h4>
<p><img decoding="async" loading="lazy" alt="image-20230801064002809" src="/assets/images/image-20230801064002809-73aac0105766de1847bdc6c07ff168de.png" width="887" height="467" class="img_ev3q"></p>
<ul>
<li>Serve para escalar o servidor que roda as inst√¢ncias.</li>
<li>Pode usar o Auto Scaling group baseando-se em:<!-- -->
<ul>
<li>Uso do CPU</li>
<li>Adi√ß√£o programada, por eventos tipo hor√°rio comercial e noite.</li>
</ul>
</li>
<li>Pode usar o <strong>ECS Cluster Capacity Provider</strong>
<ul>
<li>Provisiona novas inst√¢ncias (ec2) automaticamente para atender a demanda de tasks ECS.</li>
<li>Usa um Auto Scaling Group e adiciona novas inst√¢ncias quando considerando RAM e CPU usados.</li>
</ul>
</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="rolling-updates">Rolling Updates<a href="#rolling-updates" class="hash-link" aria-label="Link direto para Rolling Updates" title="Link direto para Rolling Updates">‚Äã</a></h4>
<ul>
<li>Define-se o <strong>minimum  healthy porcent</strong> e o <strong>maximum percent</strong> que s√£o a quantidade de tasks da vers√£o anterior que se quer manter e a quantidade de tasks que se pode haver.
<img decoding="async" loading="lazy" alt="image-20230801065950959" src="/assets/images/image-20230801065950959-cbd3e0827f01e022d825f021cfd44bdb.png" width="846" height="246" class="img_ev3q">
<img decoding="async" loading="lazy" alt="image-20230801070008268" src="/assets/images/image-20230801070008268-24fb686ad4c03b056f43464f4586e287.png" width="778" height="423" class="img_ev3q">
<img decoding="async" loading="lazy" alt="image-20230801070042188" src="/assets/images/image-20230801070042188-d3f0580d5f5e28cb46635c6893b7c29c.png" width="797" height="480" class="img_ev3q"></li>
</ul>
<p>Tasks definitions</p>
<ul>
<li>Define como ser√° o cont√™iner docker.</li>
<li>As informa√ß√µes primordiais s√£o:<!-- -->
<ul>
<li>Imagem do cont√™iner.</li>
<li>Mapeamento de porta (cont√™iner e host).</li>
<li>Vari√°veis de ambiente.<!-- -->
<ul>
<li>Pode sem <strong>hardcode</strong>, ou refer√™ncias de <strong>parameter</strong> store os <strong>secrets</strong>.</li>
<li>Pode ser carregadas em <strong>bulk</strong> do S3 (arquivos de configura√ß√µes completos)</li>
</ul>
</li>
<li>CPU e Mem√≥ria.</li>
<li>Configura√ß√£o de rede.</li>
<li>IAM Role.<!-- -->
<ul>
<li>Se adiciona na <strong>task definition</strong> para dar acessos aos recursos.</li>
</ul>
</li>
<li>Configura√ß√µes de Logs.</li>
</ul>
</li>
<li>Como funciona no load balancer:<!-- -->
<ul>
<li>Para <strong>EC2 launch types</strong>
<ul>
<li>Cria se uma porta rand√¥mica para cada cont√™iner atrav√©s da op√ß√£o <strong>Dynamic Host Port Mapping</strong> na defini√ß√£o da task.</li>
<li>O ALB procura as portas na inst√¢ncia.</li>
<li>Deve se permitir trafego no <strong>Security Group do EC2</strong> de qualquer porta vindo do <strong>Security Group do ALB.</strong></li>
</ul>
</li>
<li>Para <strong>Fargate</strong>
<ul>
<li>Cada cont√™iner vai ganhar seu pr√≥prio IP (ENI), assim pode se manter a mesma porta para todos.</li>
<li>Na <strong>task</strong> s√≥ se define qual vai ser a porta do cont√™iner.</li>
<li>No <strong>Security Group da ENI EC2</strong> se permite a porta definida vinda do <strong>Security Group do ALB</strong>.</li>
<li>No <strong>Security Group do ALB</strong> se permite a porta definida da WEB,</li>
</ul>
</li>
</ul>
</li>
</ul>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="amazon-eks">Amazon EKS<a href="#amazon-eks" class="hash-link" aria-label="Link direto para Amazon EKS" title="Link direto para Amazon EKS">‚Äã</a></h3>
<div class="theme-admonition theme-admonition-tip admonition_xJq3 alert alert--success"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>dica</div><div class="admonitionContent_BuS1"><blockquote>
<p>Contextualiza√ß√£o:</p>
</blockquote><ul>
<li>O que √© <a href="https://docs.uniii.com.br/02-cloud-notes/01-aws/03-aws-cloud-architect-professional/02-conteudo.html#amazon-eks" target="_blank" rel="noopener noreferrer">EKS</a></li>
</ul></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="amazon-ecr">Amazon ECR<a href="#amazon-ecr" class="hash-link" aria-label="Link direto para Amazon ECR" title="Link direto para Amazon ECR">‚Äã</a></h3>
<div class="theme-admonition theme-admonition-tip admonition_xJq3 alert alert--success"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>dica</div><div class="admonitionContent_BuS1"><blockquote>
<p>Contextualiza√ß√£o:</p>
</blockquote><ul>
<li>O que √© <a href="https://docs.uniii.com.br/02-cloud-notes/01-aws/03-aws-cloud-architect-professional/02-conteudo.html#aws-ecr" target="_blank" rel="noopener noreferrer">ECR</a></li>
</ul></div></div>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="banco-de-dados">Banco de dados:<a href="#banco-de-dados" class="hash-link" aria-label="Link direto para Banco de dados:" title="Link direto para Banco de dados:">‚Äã</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="rds">RDS<a href="#rds" class="hash-link" aria-label="Link direto para RDS" title="Link direto para RDS">‚Äã</a></h3>
<div class="theme-admonition theme-admonition-tip admonition_xJq3 alert alert--success"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>dica</div><div class="admonitionContent_BuS1"><blockquote>
<p>Contextualiza√ß√£o:</p>
</blockquote><ul>
<li>
<p>O que √© <a href="https://docs.uniii.com.br/02-cloud-notes/01-aws/03-aws-cloud-architect-professional/02-conteudo.html#rds" target="_blank" rel="noopener noreferrer">RDS</a></p>
</li>
<li>
<p>Veja tamb√©m:</p>
</li>
<li>
<p><a href="https://docs.uniii.com.br/02-cloud-notes/01-aws/03-aws-cloud-architect-professional/02-conteudo.html#backups" target="_blank" rel="noopener noreferrer">Backups</a></p>
</li>
<li>
<p><a href="https://docs.uniii.com.br/02-cloud-notes/01-aws/03-aws-cloud-architect-professional/02-conteudo.html#read-replicas" target="_blank" rel="noopener noreferrer">Replicas de leituras</a></p>
</li>
<li>
<p><a href="https://docs.uniii.com.br/02-cloud-notes/01-aws/03-aws-cloud-architect-professional/02-conteudo.html#multi-az-disastre-recover" target="_blank" rel="noopener noreferrer">Multi AZ disastre recover</a></p>
</li>
</ul></div></div>
<ul>
<li>Para converte um inst√¢ncia do <strong>RDS</strong> de Sigle AZ para <strong>Multi AZ</strong>, s√≥ √© necessario alterar o banco e mudar nas configura√ß√µes. E isso n√£o gera disponibilidade.</li>
</ul>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="aurora">Aurora<a href="#aurora" class="hash-link" aria-label="Link direto para Aurora" title="Link direto para Aurora">‚Äã</a></h3>
<div class="theme-admonition theme-admonition-tip admonition_xJq3 alert alert--success"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>dica</div><div class="admonitionContent_BuS1"><blockquote>
<p>Contextualiza√ß√£o:</p>
</blockquote><ul>
<li>O que √© <a href="https://docs.uniii.com.br/02-cloud-notes/01-aws/03-aws-cloud-architect-professional/02-conteudo.html#aurora" target="_blank" rel="noopener noreferrer">Aurora</a></li>
</ul></div></div>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="dynamodb">DynamoDB<a href="#dynamodb" class="hash-link" aria-label="Link direto para DynamoDB" title="Link direto para DynamoDB">‚Äã</a></h3>
<div class="theme-admonition theme-admonition-tip admonition_xJq3 alert alert--success"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>dica</div><div class="admonitionContent_BuS1"><blockquote>
<p>Contextualiza√ß√£o:</p>
</blockquote><ul>
<li>O que √© <a href="https://docs.uniii.com.br/02-cloud-notes/01-aws/03-aws-cloud-architect-professional/02-conteudo.html#dynamodb" target="_blank" rel="noopener noreferrer">DynamoDB</a></li>
</ul></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="vis√£o-extra---desenvolvedor-5">Vis√£o extra - desenvolvedor<a href="#vis√£o-extra---desenvolvedor-5" class="hash-link" aria-label="Link direto para Vis√£o extra - desenvolvedor" title="Link direto para Vis√£o extra - desenvolvedor">‚Äã</a></h4>
<ul>
<li>
<p>Pode se alterar o modo de <strong>provisionado</strong> ou <strong>sob demanda</strong> a cada 24 horas.</p>
</li>
<li>
<p>Tipos de dados aceitos nos atributos:</p>
<ul>
<li>Tipo escalares -&gt; String, number, Binary, Boolean, Null.</li>
<li>Documentos -&gt; Map, List.</li>
<li>Conjuntos -&gt; String Set, Number Set, Binary Set</li>
</ul>
</li>
<li>
<p>Caso provisione os WCU e RCU, e exceda pode se usar temporariamente o <strong>Burst Capacity</strong>, que permite ter um Throughput extra.</p>
<ul>
<li>Mas se excede-lo receber√° um exception do tipo <strong>ProvisionedThroughputExceededException</strong>.</li>
</ul>
</li>
<li>
<p>Tem uma funcionalidade de auto scale que reconfigura os valores de WCU e RCU de acordo com o uso.</p>
</li>
<li>
<p>Opera√ß√µes</p>
<ul>
<li><strong>Write</strong>
<ul>
<li>
<p>PutItem -&gt; cria novo item.</p>
</li>
<li>
<p>UpdateItem -&gt; Atualiza atribu√≠dos de um item j√° existente.</p>
</li>
<li>
<p>Conditional expression for Writes -&gt; Adiciona / Deleta / Atualiza de acordo com uma condi√ß√£o.</p>
<ul>
<li>Bom para quando a itens concorrentes. Pois tem uma funcionalidade chamada de <strong>Optimistic Locking</strong> que evita que atualiza√ß√µes / delete enquanto esta sendo atualizado ou deletado.<!-- -->
<ul>
<li>Cada item tem um atributo para valida√ß√£o como se fosse uma vers√£o.</li>
</ul>
</li>
</ul>
<p><img decoding="async" loading="lazy" alt="image-20230815201126518" src="/assets/images/image-20230815201126518-87225c7e97739d62953430150d491f57.png" width="826" height="373" class="img_ev3q"></p>
</li>
</ul>
</li>
<li><strong>Read</strong>
<ul>
<li>GetItem -&gt; recuperar um item atrav√©s das PK ou PK + SK.<!-- -->
<ul>
<li>Pode se definir o <strong>ProjectExpression</strong> para retornar apenas alguns atribu√≠dos.</li>
</ul>
</li>
<li>Query -&gt; retorna o item de acordo com uma <strong>KeyConditionExpression</strong>.<!-- -->
<ul>
<li>A PK deve ter o operador (=).</li>
<li>A SK √© opcional, e pode ter os operadores (como <code>=</code>, <code>&gt;</code>, <code>&lt;</code>, <code>Between</code>, <code>Begin with</code>).</li>
<li>Pode se adicionar um express√£o de filtro (<strong>FilterExpression</strong>) usando os atribu√≠dos n√£o chaves, e ser√° executa ap√≥s a execu√ß√£o da query.</li>
<li>Pode se usar a tabela ou os indexes (LSI e GSI) para a query.</li>
</ul>
</li>
<li>Scan -&gt; l√™ toda a tabela. Consome muito WCU.</li>
</ul>
</li>
<li><strong>Delete</strong>
<ul>
<li>DeleteItem - remove um item com base na PK.<!-- -->
<ul>
<li>Permite adicionar uma condi√ß√£o.</li>
</ul>
</li>
<li>DeleteTable -&gt; serve para deletar a tabela e todos os itens.</li>
</ul>
</li>
<li><strong>Batch</strong>
<ul>
<li>Usado para melhorar a performance das opera√ß√µes (executar um conjunto de a√ß√µes juntas).</li>
<li>Caso parte falhe retorna os itens (<strong>UnprocessedItems</strong>) que falharam para uma retentativa futura.</li>
<li>BatchWriteItem -&gt; escreve em lotes.<!-- -->
<ul>
<li>Permite inserir ou deletar <strong>25 itens</strong> em uma √∫nica chamada.</li>
<li>Permite escrever at√© <strong>16 MB de dados, e at√© 400 KB de dados por item.</strong></li>
<li>N√£o da pra atualizar os itens com isso.</li>
</ul>
</li>
<li>BatchGetItem -&gt; busca em lotes.<!-- -->
<ul>
<li>retorna de uma ou mais tabelas.</li>
<li>Retorna at√© 100 itens ou 16 MB de dados.</li>
<li>S√£o recuperados em paralelos o que diminui a lat√™ncia.</li>
</ul>
</li>
</ul>
</li>
<li><strong>PartQL</strong> - Permite executar queries semelhante ao SQL (insert, select, update, delete).<!-- -->
<ul>
<li>N√£o permite realiza√ß√£o de JOINs.</li>
</ul>
</li>
</ul>
</li>
<li>
<p><strong>DynamoDB Streams</strong> - Stream das altera√ß√µes que ocorrem no banco de dados.
<img decoding="async" loading="lazy" alt="image-20230815204431459" src="/assets/images/image-20230815204431459-d7de34b9197cc89168c88f630a405af9.png" width="906" height="502" class="img_ev3q"></p>
<ul>
<li>Ret√©m os dados por 24 horas. Feito de Shards como o Kineses.</li>
<li>Faz o Stream dos dados para Lambda, Kinesis Data Streams, KCL (Kinesis Client Library Applications.).</li>
<li>Uma vez habilitado s√≥ vai enviar os dados a partir daquele momento, n√£o enviando o hist√≥rico.</li>
<li>Pode se escolher o que se vai postar no stream<!-- -->
<ul>
<li>key_only - Somente os nomes dos atributos modificados.</li>
<li>new_image - O item inteiro modificado.</li>
<li>old_image - o item inteiro antes da modifica√ß√£o.</li>
<li>new_and_old_images - O item antes e depois da modifica√ß√£o.</li>
</ul>
</li>
</ul>
</li>
<li>
<p><strong>DynamoDB CLI</strong> - Bom saber sobre a API do dynamoDB no AWS CLI.</p>
<ul>
<li><strong>--projection-expression</strong> - permite especificar os atribu√≠dos que se que recuperar.</li>
<li><strong>--filter-expression</strong> - permite filtrar os atribu√≠dos depois que se recuperou.</li>
<li><strong>--page-size</strong> - Quantidade de itens na lista recuperada. Default 1000 itens.</li>
<li><strong>--max-items</strong> - Numero m√°ximo de itens recuperado no CLI, retorna o <strong>Next Token</strong> (identifica√ß√£o dos proximo bloco de itens)</li>
<li><strong>--start-token</strong> - Permite especificar o <strong>Next Token</strong> para se recuperar os pr√≥ximos itens.</li>
</ul>
</li>
<li>
<p><strong>DynamoDB Transactions</strong></p>
<ul>
<li>Serve para criar transa√ß√µes no dynamo (em uma ou mais tabelas), ou seja tudo √© inserido ou nada.</li>
<li>Serve para situa√ß√µes onde se depende que todos os itens sejam salvos (quando as informa√ß√µes est√£o quebradas em tabelas).</li>
<li>Usados para ACID com Leituras e Escritas e consome 2 WCU na escrita ou 2 RCU na leitura.<br>
<img decoding="async" loading="lazy" alt="image-20230815211858410" src="/assets/images/image-20230815211858410-a681a26139b9a5a903db8db093e9e734.png" width="796" height="461" class="img_ev3q"></li>
</ul>
</li>
</ul>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="elasticache">ElastiCache<a href="#elasticache" class="hash-link" aria-label="Link direto para ElastiCache" title="Link direto para ElastiCache">‚Äã</a></h3>
<div class="theme-admonition theme-admonition-tip admonition_xJq3 alert alert--success"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>dica</div><div class="admonitionContent_BuS1"><blockquote>
<p>Contextualiza√ß√£o:</p>
</blockquote><ul>
<li>O que √© <a href="https://docs.uniii.com.br/02-cloud-notes/01-aws/03-aws-cloud-architect-professional/02-conteudo.html#elasticache" target="_blank" rel="noopener noreferrer">ElastiCache</a></li>
</ul></div></div>
<ul>
<li>Estrategias de cache<!-- -->
<ul>
<li><strong>Lazy loading / Cache aside / Lazy population</strong>
<ul>
<li>Tenta recuperar do cache, se n√£o encontrar consulta no banco e salva no cache.</li>
<li>Vantagens:<!-- -->
<ul>
<li>Os dados em cache ser√£o apenas os usados o que reduz armazenamento em cache.</li>
</ul>
</li>
<li>Desvantagens<!-- -->
<ul>
<li>Os dados em cache pode esta desatualizados, pois s√≥ ser√£o consultados com n√£o estiverem mais em cache.</li>
<li>Demora mais para responder pois precisa buscar no banco (Read Penalty).</li>
</ul>
</li>
</ul>
</li>
<li><strong>Write Through</strong>
<ul>
<li>Adiciona ou  atualiza o cache ao se atualizar o banco de dados.</li>
<li>Vantagens:<!-- -->
<ul>
<li>Os dados em cache estar√£o sempre atualizados.</li>
<li>N√£o h√° demora na busca do cache pois todo dados ser√° adicionado ao cache (write Penalty).</li>
</ul>
</li>
<li>Desvantagens<!-- -->
<ul>
<li>Caso os dados do cache seja perdido, perde as vantagem disso, sendo necess√°rio implementar o <strong>lazy load</strong>.</li>
<li>Todos os itens estar√£o em cache, sendo que talvez n√£o seja necess√°rio.</li>
</ul>
</li>
</ul>
</li>
<li><strong>TTL</strong>
<ul>
<li>Termite setar um tempo de expira√ß√£o do dado em cache.</li>
<li>Util para limpar dados antigos n√£o usado, ou para for√ßa o <strong>lazy load</strong>.</li>
</ul>
</li>
</ul>
</li>
</ul>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="memorydb">MemoryDB<a href="#memorydb" class="hash-link" aria-label="Link direto para MemoryDB" title="Link direto para MemoryDB">‚Äã</a></h3>
<ul>
<li>Servi√ßo de banco de dados em mem√≥ria.</li>
<li>Compat√≠vel com o REDIS.</li>
<li>Ultra perform√°tico com mais de 160 milh√µes de request por segundo.</li>
<li>Tem dados gravados via logs de transa√ß√£o em Multi AZ.</li>
<li>Pode escalar de 10 GBs at√© 100 TBs de armazenamento.</li>
<li>Usado em Web e mobile apps, gaming online e streaming de m√≠dia.</li>
</ul>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="ferramentas-do-desenvolvedor">Ferramentas do desenvolvedor:<a href="#ferramentas-do-desenvolvedor" class="hash-link" aria-label="Link direto para Ferramentas do desenvolvedor:" title="Link direto para Ferramentas do desenvolvedor:">‚Äã</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="aws-codeartifact">AWS CodeArtifact<a href="#aws-codeartifact" class="hash-link" aria-label="Link direto para AWS CodeArtifact" title="Link direto para AWS CodeArtifact">‚Äã</a></h3>
<ul>
<li>Gerenciador de artefatos - como o Frog ou o maven ou npmjs.</li>
<li>Permite armazenar os artefatos gerados (libs (depend√™ncias) e aplica√ß√µes).</li>
<li>Tem boa integra√ß√£o com quase todas as ferramentas de depend√™ncias (maven, pip, npm, etc).</li>
<li>Fica em nivel de VPC. N√£o guarda todas as depend√™ncias apenas as suas, as que j√° s√£o livres ele apenas realiza um proxy buscando do repo original (por exemplo do Maven Central).</li>
<li>Cachea as depend√™ncias mais usadas</li>
<li>Cont√©m dominios e dentro h√° reposit√≥rios.
<img decoding="async" loading="lazy" alt="image-20230819072751625" src="/assets/images/image-20230819072751625-9b1a54fa8cd73b61543e599e20384011.png" width="893" height="375" class="img_ev3q"></li>
<li>Pode gerar eventos, que pode ser escutados para validar pacotes, ou para triggar o codeStar (codePipeline).</li>
<li>Usa Resouce Police para dar acesso (a outras contas). e quando se da acesso n√£o tem como granularizar, ou seja o acesso e dado a todos os reposit√≥rios.</li>
<li>Um reposit√≥rio pode apontar para outros reposit√≥rios (<strong>upstream repository</strong>).<!-- -->
<ul>
<li>Permite ter apenas um URL para varios repos.</li>
<li>Pode-se ter at√© 10 <strong>upstream repository</strong></li>
<li>E Apenas uma conex√£o externa (link para um repo publico como o maven) por repo.<br>
<img decoding="async" loading="lazy" alt="image-20230819073621158" src="/assets/images/image-20230819073621158-468d72b421c32bcbeab897505d8558fa.png" width="328" height="426" class="img_ev3q"></li>
</ul>
</li>
<li>Dominios
<img decoding="async" loading="lazy" alt="image-20230819074022929" src="/assets/images/image-20230819074022929-a4549b7d9ca9fc994bd77402aefe6b45.png" width="865" height="461" class="img_ev3q"></li>
</ul>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="aws-codecommit">AWS CodeCommit<a href="#aws-codecommit" class="hash-link" aria-label="Link direto para AWS CodeCommit" title="Link direto para AWS CodeCommit">‚Äã</a></h3>
<ul>
<li>Controlador de vers√£o (git). Reposit√≥rios privado na conta AWS.</li>
<li>Autentica√ß√£o (semelhante ao do github) -&gt;  SSH Key e HTTPS</li>
<li>Autoriza√ß√£o -&gt; IAM Polices</li>
<li>Encripta√ß√£o dos dados<!-- -->
<ul>
<li>KMS quando em repouso.</li>
<li>TLS quando em transito.</li>
</ul>
</li>
<li>Cross Account<!-- -->
<ul>
<li>N√£o se compartilha SSH keys.</li>
<li>Se cria uma IAM Role usando a API AssumeRole do STS .
<img decoding="async" loading="lazy" alt="image-20230818193717335" src="/assets/images/image-20230818193717335-8f8390840bcf2fde1d8da7370e37151f.png" width="831" height="313" class="img_ev3q"></li>
</ul>
</li>
<li>Pode se criar regras de notifica√ß√µes para notificar sobre eventos nos reposit√≥rios.<!-- -->
<ul>
<li>Tem como target o SNS e o Slack Chat.</li>
</ul>
</li>
<li>Pode se criar Triggers para disparar a√ß√µes.<!-- -->
<ul>
<li>Tem como targets o SNS e o Lambda.</li>
</ul>
</li>
</ul>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="aws-codebuild">AWS CodeBuild<a href="#aws-codebuild" class="hash-link" aria-label="Link direto para AWS CodeBuild" title="Link direto para AWS CodeBuild">‚Äã</a></h3>
<p><img decoding="async" loading="lazy" alt="image-20230818210428355" src="/assets/images/image-20230818210428355-bea64bff319e7aa69c09b37181f945f5.png" width="881" height="382" class="img_ev3q"></p>
<ul>
<li>Usa por de tr√°s o docker para criar o ambiente (ubuntu, Amazon Linux, ... ) e execu√ß√£o do build.</li>
<li>Permite configurar um timeout de at√© 8 horas, util para evitar que o build fique executando para sempre.</li>
<li>Permite configurar inst√¢ncia (CPU e RAM) que ser√° executado, al√©m de certificados usados.</li>
<li>Precisa ter uma IAM Role para acesso ao recursos.</li>
<li>Os logs de execu√ß√£o pode ser armazenados no <strong>S3 e CW</strong>.</li>
<li>Pode se usar o <strong>CW Metrics</strong> para estat√≠sticas de build.</li>
<li>Pode se usar o <strong>EventBridge</strong> para notifica√ß√µes.</li>
<li>Pode ser usado sem a necessidade de de usar o <strong>CodePipeline</strong>.</li>
<li>Realiza o cache de dados reus√°veis no S3 para usos futuros.</li>
<li>Tem um arquivo chamado <strong>buildspec.yml</strong> onde se script de build/test.
<img decoding="async" loading="lazy" alt="image-20230818210615205" src="/assets/images/image-20230818210615205-ec0d49a1b4a45c711eee0bc05be8fbd2.png" width="889" height="504" class="img_ev3q"></li>
<li>Usando o <strong>codeAgent</strong> pode se executar ele localmente.<!-- -->
<ul>
<li>Isso tamb√©m pode ser usado caso queira usar inst√¢ncias gerenciadas por voc√™ para executar o build.</li>
</ul>
</li>
<li>Por padr√£o ele roda fora da VPC, mas caso precise acessar algum recurso (RDS, ElastiCache, etc) na sua VPC, pose ser configura-lo para executar em sua VPC.<!-- -->
<ul>
<li>Pode se usar o <strong>Paramtes Store</strong> ou <strong>Secrets Manager</strong> para armazenar as vari√°veis de ambiente que cont√©m segredos.</li>
</ul>
</li>
</ul>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="aws-codedeploy">AWS CodeDeploy<a href="#aws-codedeploy" class="hash-link" aria-label="Link direto para AWS CodeDeploy" title="Link direto para AWS CodeDeploy">‚Äã</a></h3>
<div class="theme-admonition theme-admonition-tip admonition_xJq3 alert alert--success"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>dica</div><div class="admonitionContent_BuS1"><blockquote>
<p>Contextualiza√ß√£o:</p>
</blockquote><ul>
<li>entenda o <a href="https://docs.uniii.com.br/02-cloud-notes/01-aws/03-aws-cloud-architect-professional/02-conteudo.html#code-deploy" target="_blank" rel="noopener noreferrer">CodeDeploy</a></li>
</ul></div></div>
<ul>
<li>Precisa de uma IAM Role para acessar os recursos EC2/ Lambda/ S3.</li>
<li>N√£o realiza deploy no S3, para isso usa o CodeBuild.</li>
<li>Automatiza o processo de deploy. Pode deployar nos targets:<!-- -->
<ul>
<li>EC2 e Servidores on-premises<!-- -->
<ul>
<li>Necessita ter instalado o <strong>CodeDeploy Agent</strong> (pode ser instalando via SSM ou manual).</li>
<li>Permite deploys usando estrat√©gias Blue/Green ou in-place.</li>
<li>Devem ter permiss√µes para acessar recurso o <strong>S3</strong> onde fica a aplica√ß√£o.</li>
<li>Cria se um <strong>deployment group</strong>:<!-- -->
<ul>
<li>Que vai conter as inst√¢ncias (aws ou on-premises) ou Auto Scale Group que s√£o onde se realizar o deploy.</li>
<li>Vai conter estrat√©gias podendo ser Blue/Green ou in-place.</li>
<li>Para adicionar uma inst√¢ncia no <strong>deployment group</strong> usa-se tags.</li>
</ul>
</li>
</ul>
</li>
<li>Lambda<!-- -->
<ul>
<li>Usa somente a estrat√©gias de <strong>Blue/Green</strong> com <strong>Traffic Shift</strong> para deploy.</li>
<li>√â integrado com o SAM Framework.</li>
</ul>
</li>
<li>ECS<!-- -->
<ul>
<li>Usa somente a estrat√©gias de <strong>Blue/Green</strong> para deploy.</li>
</ul>
</li>
</ul>
</li>
<li>Permite realizar rollback, caso erro ou via alarmes do <strong>CW</strong>.</li>
<li>Permite controlar a granularidade dos deploy (estrat√©gias de deploy).<!-- -->
<ul>
<li>in-place / linear / blue Green.</li>
</ul>
</li>
<li>Usa o arquivo chamado <strong>appspec.yml</strong>, o passo a passo do deploy.</li>
<li>Erros comuns<!-- -->
<ul>
<li><strong>InvalidSignatueException</strong> - Ocorre quando a hora do cloudDeploy esta diferente da hora da inst√¢ncia.</li>
</ul>
</li>
<li>Acesse os logs do processo de deploy na inst√¢ncia em <strong>/opt/codedeploy-agent/deployment-root/deploymnent-logs</strong></li>
</ul>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="aws-codepipeline">AWS CodePipeline<a href="#aws-codepipeline" class="hash-link" aria-label="Link direto para AWS CodePipeline" title="Link direto para AWS CodePipeline">‚Äã</a></h3>
<ul>
<li>Fornece um workflow visual do CICD.</li>
<li>Pode se ter os componentes:<!-- -->
<ul>
<li><strong>Source</strong> - Reposit√≥rio git que fornece o c√≥digo da aplica√ß√£o (CodeCommit / GitHub / S3 / ECR).</li>
<li><strong>Build</strong> - Realiza o Build da aplica√ß√£o (CodeBuild / Jenkins / TeamCity).</li>
<li><strong>Test</strong> - Executa os teste da aplica√ß√£o (CodeBuild, Device Farm , outras ferramentas de terceiros).</li>
<li><strong>Deploy</strong> - Realiza a implanta√ß√£o da aplica√ß√£o (DoceDeploy, BeanStalk, CloudFormation, ECS, S3).</li>
<li><strong>Invoke</strong> - Permite invocar Lambdas ou Step Functions.</li>
</ul>
</li>
<li>√â composto por est√°gios.<!-- -->
<ul>
<li>Est√°gios podem ter m√∫ltiplos <strong>action group</strong> que podem ter <strong>provider</strong> (executores de a√ß√µes).<!-- -->
<ul>
<li>Os <strong>action grupos</strong> podem executar em sequencial ou paralelo.</li>
<li>Por exemplo pode se adicionar um <strong>action group</strong> que tem um <strong>provider</strong> que coleta da aprova√ß√£o manual.</li>
<li>Por exemplo pode se adicionar um <strong>action group</strong> que tem um <strong>provider</strong> realiza o deploy no BeanStalk.</li>
</ul>
</li>
<li>Os est√°gios s√£o:<!-- -->
<ul>
<li><strong>Source</strong> -&gt; Armazena o c√≥digo - CodeCommit.<!-- -->
<ul>
<li>Obrigat√≥rio.</li>
<li>Pode se usar o CW Events para dispara a esteira ao detectar mudan√ßas no c√≥digo.</li>
<li>Pode se usar ua outra configura√ß√£o que da um pull no repo de tempos em tempos para buscar por mudan√ßas.</li>
</ul>
</li>
<li><strong>Build</strong> -&gt; Executas os est√°gios que cont√©m o Build/Test. - CodeBuild<!-- -->
<ul>
<li>Opcional</li>
<li>Usa o sa√≠da do est√°gio anterior para disparar.</li>
</ul>
</li>
<li><strong>Deploy</strong> -&gt; Executas os est√°gios que cont√©m o Deploy/Invoke - CodeDeploy<!-- -->
<ul>
<li>Opcional</li>
<li>Usa o sa√≠da do est√°gio anterior para disparar.</li>
</ul>
</li>
</ul>
</li>
<li>Os artefatos gerados s√£o armazenados no <strong>S3</strong> e fica dispon√≠veis para os est√°gios..
<img decoding="async" loading="lazy" alt="image-20230818201114814" src="/assets/images/image-20230818201114814-f66e72159ecf7f1c87353ba703201df7.png" width="828" height="278" class="img_ev3q"></li>
</ul>
</li>
<li>Pode se usar eventos (EventBridge) para notificar o andamento da Pipeline, podendo executar a√ß√µes.</li>
<li>Caso de erro a pipe vai parar, e se pode ver os logs de erros no console.</li>
<li>Usa IAM Role (AWSCodePipelineServiceRole-*) para para acessar os recursos.</li>
<li>Para disparar a pipeline temos as op√ß√µes:<!-- -->
<ul>
<li><strong>Eventos</strong>
<ul>
<li>Usado muito com o <strong>codeCommit</strong>, onde este gera um evento no <strong>eventBridge</strong> que trigga a <strong>Pipeline</strong> via uma <strong>event Role</strong>.</li>
<li>No caso do <strong>GitHub</strong> usa se o <strong>CodeStar Source Connection</strong> para trigga a <strong>Pipeline</strong>.</li>
</ul>
</li>
<li><strong>Webhooks</strong>
<ul>
<li>Forma antiga de se triggar, nela se disponibiliza um endpoint que ser√° estimulado e isso dispara a <strong>Pipeline</strong>.</li>
</ul>
</li>
<li><strong>Polling</strong>
<ul>
<li>O code Pipeline regulamente o <strong>Source</strong> em busca de altera√ß√µes, caso encontre dispara a <strong>Pipeline</strong>.</li>
<li>N√£o √© eficiente, pois fica fazendo pulling.</li>
</ul>
</li>
</ul>
</li>
<li>Como funciona a aprova√ß√£o manual
<img decoding="async" loading="lazy" alt="image-20230818204829999" src="/assets/images/image-20230818204829999-dde4988a77c895a7a68d67a249a9ea84.png" width="895" height="481" class="img_ev3q"></li>
<li>Pode rodar o <strong>codePipeline</strong> com o <strong>cloudFormation</strong> para se criar toda a infraestrutura.<!-- -->
<ul>
<li>Exemplos:  criar uma Task e Service do ECS / criar lambdas em diversas contras.
<img decoding="async" loading="lazy" alt="image-20230818212324169" src="/assets/images/image-20230818212324169-738a888738a26b3bfe5fc9a48aa9de01.png" width="847" height="410" class="img_ev3q"></li>
</ul>
</li>
</ul>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="amazon-codeguru">Amazon CodeGuru<a href="#amazon-codeguru" class="hash-link" aria-label="Link direto para Amazon CodeGuru" title="Link direto para Amazon CodeGuru">‚Äã</a></h3>
<div class="theme-admonition theme-admonition-tip admonition_xJq3 alert alert--success"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>dica</div><div class="admonitionContent_BuS1"><blockquote>
<p>Contextualiza√ß√£o:</p>
</blockquote><ul>
<li>Armazenamento <a href="https://docs.uniii.com.br/02-cloud-notes/01-aws/03-aws-cloud-architect-professional/02-conteudo.html#codeguru" target="_blank" rel="noopener noreferrer">CodeGuru</a></li>
</ul></div></div>
<ul>
<li>Suporta Java e Python.</li>
<li>Foi treinado com milh√µes de reposit√≥rios open-source e Amazon.</li>
<li>Integrado com Github, Bitbucket e CodeCommit.</li>
</ul>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="aws-codestar">AWS CodeStar<a href="#aws-codestar" class="hash-link" aria-label="Link direto para AWS CodeStar" title="Link direto para AWS CodeStar">‚Äã</a></h3>
<ul>
<li>Permite uma visualiza√ß√£o integrada dos servi√ßos:<!-- -->
<ul>
<li>CodeCommit. codeBuild, codeDeploy, CloudFormation, CodePipeline, CloudWatch, etc.</li>
<li>Permite fazer integra√ß√µes com ferramentas de terceiros, como o Github, BitBucket, etc.</li>
</ul>
</li>
<li>Permite criar pipelines rapidamentes para projetos com EC2, Lambda, BeanStalk.</li>
<li>Suporta C#, Go, Html 5, Java, Node.js. Python, Ruby.</li>
<li>Tem integra√ß√£o com o Jira / Github Issues, para issues tranking.</li>
<li>Pode se usar em conjunto com o Cloud9 IDE.</li>
<li>Free, se paga pelos recursos provisionado.</li>
<li>Precisa de uma IAM Role para acessar os recursos da AWS.</li>
</ul>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="x-ray">X-Ray<a href="#x-ray" class="hash-link" aria-label="Link direto para X-Ray" title="Link direto para X-Ray">‚Äã</a></h3>
<ul>
<li>Permite analisar a aplica√ß√£o visualmente, servi√ßo de tracing distribu√≠do da AWS.</li>
<li>Facilita troubleshooting de performance.</li>
<li>Ajuda a entender as depend√™ncias de servi√ßos da aplica√ß√£o (desenha o fluxo).</li>
<li>Mostra quais servi√ßos est√£o com erros e o percentual das requisi√ß√µes que est√£o sendo afetadas.</li>
<li>Integra se com:<!-- -->
<ul>
<li>EC2 (on-premises), ECS, Lambda, BeanStalk, API Gateway, ELB.</li>
<li>Como configurar no beanStalk:<!-- -->
<ul>
<li>Pode se habilita atrav√©s da extens√µes ou ao criar habilitando a flag em servi√ßos.</li>
<li>Precisa que a role atribu√≠da tenha acesso ao X-Ray.</li>
</ul>
</li>
<li>Como configurar no ECS:<!-- -->
<ul>
<li>Usa porta 2000 e protocolo UDP,</li>
<li>Usa a vari√°vel de ambiente AWS_XRAY_DAEMON_ADDRESS para indicar o url do daemon.</li>
<li>H√° 2 formas de se fazer:<!-- -->
<ul>
<li>Habilitando o daemon na inst√¢ncia do cluster.</li>
<li>Habilitando um cont√™iner que ser√° um <strong>sidecar</strong> com o daemon.</li>
<li>Caso Fargate, usa o modelo <strong>sidecar</strong>.<br>
<img decoding="async" loading="lazy" alt="image-20230813080418098" src="/assets/images/image-20230813080418098-efa21138b57aec334b324a15e15c7adc.png" width="909" height="353" class="img_ev3q"></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li><strong>Tracer</strong>
<ul>
<li>Pode se habilitar para cada request ou por um percentual delas.</li>
<li>Fornecem informa√ß√µes extras do caminho do request.</li>
</ul>
</li>
<li><strong>Security</strong>
<ul>
<li>Usa IAM para autoriza√ß√£o.</li>
<li>Guarda os dados em repouso encriptado.</li>
</ul>
</li>
<li>Conceitos<!-- -->
<ul>
<li><strong>Segment</strong> - Representa uma aplica√ß√£o, cada uma tem um.</li>
<li><strong>SubSegments</strong> - Pode se querer granularizar uma aplica√ß√£o, caso a api tenha dois endpoint pode se criar uma para cada.</li>
<li><strong>Trace</strong> - Segmentos coletados junto do come√ßo ao fim em um request por exemplo.</li>
<li><strong>Sampling</strong> - Em vez de coletar todas a intera√ß√µes se coleta apenas algumas amostras (reduz os custos).<!-- -->
<ul>
<li>Por padr√£o envia a primeira requisi√ß√£o a cada segundo e 5% das demais requisi√ß√µes naquele segundo.<!-- -->
<ul>
<li><strong>reservoir</strong> - √© como chamada a o percentual de dados coletados na primeira intera√ß√£o.</li>
<li><strong>rate</strong> - √© como √© chamado a requisi√ß√µes adicionais.</li>
</ul>
</li>
<li>Pode se definir os valores do  <strong>reservoir</strong> e <strong>rate</strong> em uma <strong>regra se sampling</strong> para coletar mais ou menos dados. (N√£o precisa reiniciar a aplica√ß√£o para isso)<br>
<img decoding="async" loading="lazy" alt="image-20230813074728747" src="/assets/images/image-20230813074728747-af144b8ea13034e1a506c61d9141f8c1.png" width="774" height="361" class="img_ev3q"></li>
</ul>
</li>
<li><strong>Annotations</strong> - Mapa de chave e valor usados para indexar os traces e para realizar filtros.</li>
<li><strong>Metadata</strong> - Informa√ß√µes adicionais, que n√£o s√£o indexadas e n√£o s√£o usadas para filtros.</li>
</ul>
</li>
<li><strong>API</strong>
<ul>
<li>APIs que o daemon precisa para escrever os traces.<br>
<img decoding="async" loading="lazy" alt="image-20230813075251286" src="/assets/images/image-20230813075251286-6d869f45a38dc4cf311bb8e0be905096.png" width="859" height="355" class="img_ev3q"></li>
<li>APIs que o daemon precisa para ler os traces.<br>
<img decoding="async" loading="lazy" alt="image-20230813075450709" src="/assets/images/image-20230813075450709-90301bee18738f0120e0e228749ce1fb.png" width="859" height="375" class="img_ev3q"></li>
</ul>
</li>
<li><strong>Como usar</strong>
<img decoding="async" loading="lazy" alt="image-20230813071856713" src="/assets/images/image-20230813071856713-99cf9091a78f4941e58660841e2a3129.png" width="248" height="484" class="img_ev3q">
<ul>
<li>Em aplica√ß√µes: (Importa o SDK).<!-- -->
<ul>
<li>Se ajusta o c√≥digo da aplica√ß√£o para usar o SDK X-Ray.</li>
<li>Ap√≥s isso o SDK ira capturar as intera√ß√µes (request https, para o banco de dados, para filas ...).</li>
</ul>
</li>
<li>Em inst√¢ncias: (Habilita a integra√ß√£o via daemon).<!-- -->
<ul>
<li>Se instala o daemon do X-Ray (EC2 / Lambda), ele trabalha em baixo n√≠vel coletando pacotes UDP (Linux/ Mac/ Windows).</li>
<li>Cada aplica√ß√£o deve ter permiss√µes IAM para escrever no X-Ray.</li>
<li>Pode enviar traces cross account, para isso a IAM Role deve ser configurada.</li>
</ul>
</li>
</ul>
</li>
<li>Problemas com X-Ray<!-- -->
<ul>
<li>N√£o funciona o EC2<!-- -->
<ul>
<li>Valide as IAM Roles, se est√£o com as permiss√µes corretas.</li>
<li>Valide se o daemon esta rodando na inst√¢ncia.</li>
</ul>
</li>
<li>N√£o funciona no Lambda<!-- -->
<ul>
<li>Valide se a IAM Execution Role esta com a permiss√£o (AWSX-RayWriteOnlyAccess).</li>
<li>Valide se o X_Ray foi adicionado ao c√≥digo Lambda.</li>
<li>Valide se esta habilitado o <strong>Lambda X-Ray Active Trancing</strong>.</li>
</ul>
</li>
</ul>
</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="distro-for-open-telemetry">Distro for Open Telemetry<a href="#distro-for-open-telemetry" class="hash-link" aria-label="Link direto para Distro for Open Telemetry" title="Link direto para Distro for Open Telemetry">‚Äã</a></h4>
<p><img decoding="async" loading="lazy" alt="image-20230813081055810" src="/assets/images/image-20230813081055810-55c19368f4ee6970b70fbc9eea89ea00.png" width="872" height="460" class="img_ev3q">
<img decoding="async" loading="lazy" alt="image-20230813081129324" src="/assets/images/image-20230813081129324-aa9c053924b72883d0dcca86d9ff5740.png" width="866" height="420" class="img_ev3q"></p>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="gerenciamento-e-governan√ßa">Gerenciamento e governan√ßa:<a href="#gerenciamento-e-governan√ßa" class="hash-link" aria-label="Link direto para Gerenciamento e governan√ßa:" title="Link direto para Gerenciamento e governan√ßa:">‚Äã</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="cloudformation">CloudFormation<a href="#cloudformation" class="hash-link" aria-label="Link direto para CloudFormation" title="Link direto para CloudFormation">‚Äã</a></h3>
<div class="theme-admonition theme-admonition-tip admonition_xJq3 alert alert--success"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>dica</div><div class="admonitionContent_BuS1"><blockquote>
<p>Contextualiza√ß√£o:</p>
</blockquote><ul>
<li>O que √© <a href="https://docs.uniii.com.br/02-cloud-notes/01-aws/03-aws-cloud-architect-professional/02-conteudo.html#aws-cloudformation" target="_blank" rel="noopener noreferrer">CloudFormation</a></li>
</ul></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="extra">Extra<a href="#extra" class="hash-link" aria-label="Link direto para Extra" title="Link direto para Extra">‚Äã</a></h4>
<ul>
<li>
<p>Pode se usar o AWS CLI para deployar um template do CloudFormation.</p>
</li>
<li>
<p>O CF trabalha com templates √© composto por:</p>
<ul>
<li><strong>Format version</strong>: A vers√£o do formato define a capacidade de um modelo.</li>
<li><strong>Description</strong>: Quaisquer coment√°rios sobre o seu modelo podem ser especificados na descri√ß√£o.</li>
<li><strong>Resources</strong>: Recursos (AWS) que se quer criar. - Mandat√≥rio<!-- -->
<ul>
<li>H√° mais de 224 tipos de recursos diferentes. <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-template-resource-type-ref.html" target="_blank" rel="noopener noreferrer">Veja todos </a></li>
</ul>
</li>
<li><strong>Parameters</strong>: S√£o inputs din√¢micos que pode se passar para o template.<!-- -->
<ul>
<li>S√£o usados para permitir o reuso dos templates.</li>
<li>Usa se a fun√ß√£o <strong>fn::Ref</strong> para refer√™nciar um par√¢metro em qualquer lugar no template.</li>
<li>Em <strong>YML</strong> usa se o <strong>!Ref</strong> para representar a fun√ß√£o <strong>fn::Ref</strong>.
<img decoding="async" loading="lazy" alt="image-20230810194424083" src="/assets/images/image-20230810194424083-f2c513bfab02c4059dd7eb73f275190f.png" width="833" height="366" class="img_ev3q"></li>
<li>h√° tamb√©m os Pseudos Par√¢metros que s√£o oferecido pela AWS.
<img decoding="async" loading="lazy" alt="image-20230810195039529" src="/assets/images/image-20230810195039529-8d80d53c5129557e1ee2fdba7319152b.png" width="680" height="263" class="img_ev3q"></li>
</ul>
</li>
<li><strong>Mappings</strong>: Permite fazer o mapeamento de vari√°veis est√°ticas no template.<!-- -->
<ul>
<li>S√£o valores hardcoded usados delimitar as escolhas. Ex: ambiente: dev, hml. prod.
<img decoding="async" loading="lazy" alt="image-20230810195353883" src="/assets/images/image-20230810195353883-f7173bfe32fc12c9d19bade675b395fa.png" width="636" height="198" class="img_ev3q"></li>
<li>Para acessar usa se a fun√ß√£o <strong>fn::FindInMap</strong> que no YML √© <strong>!FindInMap[MapName, TopLevelKey, SecondLevelKey]</strong>.
<img decoding="async" loading="lazy" alt="image-20230810195742359" src="/assets/images/image-20230810195742359-01b742e071af536a4e49253b18a81f84.png" width="405" height="269" class="img_ev3q"></li>
</ul>
</li>
<li><strong>Outputs</strong>: refer√™ncias de recursos que ser√£o criados.<!-- -->
<ul>
<li>Permite exporta valores para serem usados em outras stack. Por exemplo, tem um stack do CF que cria uma VPC, pode se exportar o VPC ID e Subnets IDs para que possam ser usando em outra stack que cria os security groups.</li>
<li>N√£o √© poss√≠vel deletar uma stack, quem tem o output usado em outra stack. Ou seja n√£o pode deletar pois h√° uma depend√™ncia.
<img decoding="async" loading="lazy" alt="image-20230810200306843" src="/assets/images/image-20230810200306843-62a39a06a09641fd20eefac839537867.png" width="875" height="255" class="img_ev3q"></li>
<li>O campo export √© opcional, e usado para renomear o item exportado, pois o nome deve ser √∫nico na regi√£o.</li>
<li>Para importar use a fun√ß√£o <strong>fn::ImportValue</strong> que no YML √© <strong>!ImportValue</strong>.<br>
<img decoding="async" loading="lazy" alt="image-20230810200607679" src="/assets/images/image-20230810200607679-8ba33ae1b22fb889691a2b1b163beec0.png" width="527" height="220" class="img_ev3q"></li>
</ul>
</li>
<li><strong>Conditions</strong>: Lista de condi√ß√µes para cria√ß√£o de recursos.<!-- -->
<ul>
<li>Usado para limitar a cria√ß√£o de recursos seja por ambiente (dev. hml, prod), por regi√£o (us-east-1) , ou par√¢metro, etc.
<img decoding="async" loading="lazy" alt="image-20230810200933533" src="/assets/images/image-20230810200933533-a5c1240e07a1dc5898766783e8e7c73a.png" width="805" height="91" class="img_ev3q"></li>
<li>Pode ser aplicadas a recursos , outputs etc..
<img decoding="async" loading="lazy" alt="image-20230810201241352" src="/assets/images/image-20230810201241352-057f17ede117d3914e7853fef6b2e73d.png" width="586" height="148" class="img_ev3q"></li>
<li>Pode se usar as fun√ß√µes logicas:<!-- -->
<ul>
<li><strong>fn::And</strong> -&gt; YML <strong>!And</strong></li>
<li><strong>fn::Equals</strong> -&gt; YML <strong>!Equals</strong></li>
<li><strong>fn::If</strong> -&gt; YML <strong>!If</strong></li>
<li><strong>fn::Not</strong> -&gt; YML <strong>!Not</strong></li>
<li><strong>fn::Or</strong> -&gt; YML <strong>!Or</strong></li>
</ul>
</li>
</ul>
</li>
<li><strong>Metadata</strong>: Os metadados podem ser usados ‚Äã‚Äãno modelo para fornecer mais informa√ß√µes usando objetos JSON ou YAML.</li>
</ul>
</li>
<li>
<p>H√° tamb√©m as Fun√ß√µes intrisicas</p>
<ul>
<li><strong>fn::GetAtt</strong> (<strong>!GetAtt</strong> no YML) - usada para recuperar o valor de um atributo de um recurso criado. Uso:  !GetAtt [nome recurso].[nome atributo]</li>
<li><strong>fn::Ref</strong> (<strong>!Ref</strong> no YML) - usada para refer√™nciar o valor de par√¢metros ou o id do recursos no template.</li>
<li><strong>fn::FindInMap</strong> (<strong>!FindInMap</strong> no YML) - usada para acessar valores num mapa.</li>
<li><strong>fn::ImportValue</strong> (<strong>!ImportValue</strong> no YML) - usada para importar outputs de outras stacks.</li>
<li><strong>fn::Join</strong> (<strong>!Join</strong> no YML) - usada para juntar com um delimitador. Uso !Join [ delimitador, [valores separados por virgula]].</li>
<li><strong>fn::Sub</strong> (<strong>!Join</strong> no YML) - usada para substituir vari√°veis por por texto. Uso !Sub &#x27;nome vari√°vel&#x27;.</li>
<li>Condicionais - usada para avaliar condi√ß√µes.<!-- -->
<ul>
<li><strong>fn::And</strong> -&gt; YML <strong>!And</strong></li>
<li><strong>fn::Equals</strong> -&gt; YML <strong>!Equals</strong></li>
<li><strong>fn::If</strong> -&gt; YML <strong>!If</strong></li>
<li><strong>fn::Not</strong> -&gt; YML <strong>!Not</strong></li>
<li><strong>fn::Or</strong> -&gt; YML <strong>!Or</strong></li>
</ul>
</li>
</ul>
</li>
<li>
<p>Processo de rollback</p>
<ul>
<li>A Cria√ß√£o da stack falhou:<!-- -->
<ul>
<li>Ser√° feito o rollback autom√°tico o ela ser√° deletada.</li>
<li>√â poss√≠vel desabilitar o delete no rollback para realiza√ß√£o de troubleshoot.</li>
</ul>
</li>
<li>A Atualiza√ß√£o da stack falhou:<!-- -->
<ul>
<li>Ser√° feito o rollback autom√°tico, mas da pra ser ver os eventos do ocorrido.</li>
<li>Pode se habilitar os logs pra saber mais detalhes.</li>
</ul>
</li>
<li>Na cria√ß√£o da stack tem as duas op√ß√µes, realizar o rollback ou manter os recursos problem√°ticos.
<img decoding="async" loading="lazy" alt="image-20230810203106959" src="/assets/images/image-20230810203106959-3f2f60e7ed0f95e27442b244de04abdb.png" width="534" height="157" class="img_ev3q"></li>
</ul>
</li>
<li>
<p>√â poss√≠vel habilitar a notifica√ß√£o das a√ß√µes da stack via t√≥pico SNS.
<img decoding="async" loading="lazy" alt="image-20230810203717530" src="/assets/images/image-20230810203717530-1cf98ec4ce8198dabf5693837bccb06a.png" width="915" height="403" class="img_ev3q"></p>
</li>
<li>
<p>Tem o <strong>CF Drift</strong> que mostra qual foi a altera√ß√£o que o recurso criado pela Stack sofreu.</p>
<ul>
<li>Para usa-lo v√° at√© a Stack e em op√ß√µes use o <strong>detect Drift</strong></li>
</ul>
</li>
<li>
<p>A Stack police serve para limitar as a√ß√µes que uma Stack pode fazer, como por exemplos, quais recursos que pode criar ou atualizar.</p>
<ul>
<li>Pode ser usada por organiza√ß√µes para evitar a cria√ß√£o de recurso ou atualiza√ß√£o de recursos.</li>
<li>Ou para evitar atualiza√ß√µes acidentais, como por exemplo remo√ß√£o de recurso do banco de dados de produ√ß√£o.</li>
</ul>
</li>
</ul>
<hr>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="t√≥picos-avan√ßados">T√≥picos avan√ßados<a href="#t√≥picos-avan√ßados" class="hash-link" aria-label="Link direto para T√≥picos avan√ßados" title="Link direto para T√≥picos avan√ßados">‚Äã</a></h4>
<ul>
<li><strong>StackSets</strong>
<ul>
<li>Permite criar, deletar, atualizar stacks em m√∫ltiplas contas e regi√µes com uma √∫nica opera√ß√£o.</li>
<li>Administradores de contas podem criar StackSets.</li>
<li>Contas de confian√ßa (Trusted accounts) tamb√©m podem criar, atualizar e atualizar stacks de um StackSet.</li>
<li>Se atualizar um StackSet todas as contas ser√° atualizado.</li>
</ul>
</li>
<li><strong>ChangeSets</strong>
<ul>
<li>Usados para verificar qual altera√ß√µes ser√£o aplicadas.</li>
<li>N√£o diz se a atualiza√ß√£o ser√° um sucesso, apenas mostra quais s√£o as altera√ß√µes.
<img decoding="async" loading="lazy" alt="image-20230810204031080" src="/assets/images/image-20230810204031080-ce9ebda40117316f72f6c950c0cc07a3.png" width="732" height="234" class="img_ev3q"></li>
</ul>
</li>
<li><strong>Nested Stacks</strong>
<ul>
<li>Permite criar stack usando outras stack (stack aninhadas).</li>
<li>Usado quando se que aproveitar uma stack j√° pronta.</li>
<li>Exemplo a stack que cria ALB, pode ser usada em v√°rios lugares, s√≥ alterando os par√¢metros. Ela pode usar uma stack que cria o Security Groups.
<img decoding="async" loading="lazy" src="/assets/images/cfn-console-nested-stacks-4330e14bbeae1a1a2aecaa56542bd00b.png" width="254" height="430" class="img_ev3q"></li>
<li>Qual a diferen√ßa entre <strong>cross</strong> e <strong>Nested Stacks</strong>
<ul>
<li>Cross Stack<!-- -->
<ul>
<li>Usada para stack com diferente ciclos de vida.</li>
<li>Usa <strong>Output</strong> export e a <strong>fn::ImportValues</strong>.</li>
<li>Exemplo se cria uma VPC numa stack e o VPC ID ser√° usado por v√°rias outras Stacks.</li>
</ul>
</li>
<li>Nested Stack<!-- -->
<ul>
<li>Usado para componentes que ser√° reutilizados.</li>
<li>Exemplo: Stack de configura√ß√µes de um ALB.</li>
<li>N√£o √© uma stack compartilhada, as stack comp√µem um stack maior.<br>
<img decoding="async" loading="lazy" alt="image-20230810205136667" src="/assets/images/image-20230810205136667-9d79edeb966aaa07aacdc2bb4ab4739c.png" width="846" height="382" class="img_ev3q"></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="aws-cloudtrail">AWS CloudTrail<a href="#aws-cloudtrail" class="hash-link" aria-label="Link direto para AWS CloudTrail" title="Link direto para AWS CloudTrail">‚Äã</a></h3>
<div class="theme-admonition theme-admonition-tip admonition_xJq3 alert alert--success"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>dica</div><div class="admonitionContent_BuS1"><blockquote>
<p>Contextualiza√ß√£o:</p>
</blockquote><ul>
<li>O que √© <a href="https://docs.uniii.com.br/02-cloud-notes/01-aws/03-aws-cloud-architect-professional/02-conteudo.html#aws-cloudtrail" target="_blank" rel="noopener noreferrer">CloudTrail</a></li>
</ul></div></div>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="sdk">SDK<a href="#sdk" class="hash-link" aria-label="Link direto para SDK" title="Link direto para SDK">‚Äã</a></h3>
<ul>
<li>O AWS CLI usa a SDK do Python (boto3).</li>
<li>Caso n√£o sete uma regi√£o de default √© a us-east-1.</li>
</ul>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="aws-cdk">AWS CDK<a href="#aws-cdk" class="hash-link" aria-label="Link direto para AWS CDK" title="Link direto para AWS CDK">‚Äã</a></h3>
<div class="theme-admonition theme-admonition-tip admonition_xJq3 alert alert--success"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>dica</div><div class="admonitionContent_BuS1"><blockquote>
<p>Contextualiza√ß√£o:</p>
</blockquote><ul>
<li>O que √© <a href="https://docs.uniii.com.br/02-cloud-notes/01-aws/03-aws-cloud-architect-professional/02-conteudo.html#cdk" target="_blank" rel="noopener noreferrer">CDK</a></li>
</ul></div></div>
<ul>
<li>Permite definir a infra estrutura em uma linguagem de programa√ß√£o.<!-- -->
<ul>
<li>Em: Java | Python | JavaScript / TypScript | .Net.</li>
</ul>
</li>
<li>Cont√©m a maioria dos recursos da AWS como <strong>construtores</strong>, onde se chama alterando apenas os campos variaveis.</li>
<li>Caso n√£o encontre o recurso no construtores da AWS, pode se achar no <strong>Constructor Hub</strong>, onde empresas disponibilizam como se fosse <strong>libs</strong> com outras constru√ß√µes para os recursos.</li>
<li>O c√≥digo √© compilado para um template do CloudFormation.</li>
<li>Bom pois como o CDK se pode validar o template programaticamente.</li>
<li>Diferentimento do SAM, que √© focado apenas em aplica√ß√µes Serverless. Com o CDK pode se criar qualquer recurso.</li>
<li>Os contrutores s√£o divididos em nivels:<!-- -->
<ul>
<li><strong>Nivel 1</strong>: <strong>CFN Resource</strong> - Construtor simples, deve informar todos os atribuitos.</li>
<li><strong>Nivel 2</strong>:  Construtor de alto nivel, n√£o precisa informar todos os atribuitos para criar um recurso.</li>
<li><strong>Nivel 3</strong>: Construtores que permite criar mais de um recurso que est√£o interligados (isso para arquiteturas padr√µes), ex: lambda que pode conter um api gateway como trigger.</li>
</ul>
</li>
<li>Principais comandos:
<img decoding="async" loading="lazy" alt="image-20230819104243582" src="/assets/images/image-20230819104243582-23fe01fea07c19275ea9fffcc340be8b.png" width="671" height="299" class="img_ev3q">
<ul>
<li>Entenda o bootstrapping<br>
<img decoding="async" loading="lazy" alt="image-20230819104504372" src="/assets/images/image-20230819104504372-4ddb58139ecc4529959efa895c534bef.png" width="861" height="475" class="img_ev3q"></li>
</ul>
</li>
<li>Para testar usa se o <strong>CDK Assertion Module</strong>.
<img decoding="async" loading="lazy" alt="image-20230819104642772" src="/assets/images/image-20230819104642772-9ef7586b5b020f4cc5f33f908296e5d0.png" width="858" height="459" class="img_ev3q"></li>
</ul>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="amazon-cloudwatch">Amazon CloudWatch<a href="#amazon-cloudwatch" class="hash-link" aria-label="Link direto para Amazon CloudWatch" title="Link direto para Amazon CloudWatch">‚Äã</a></h3>
<div class="theme-admonition theme-admonition-tip admonition_xJq3 alert alert--success"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>dica</div><div class="admonitionContent_BuS1"><blockquote>
<p>Contextualiza√ß√£o:</p>
</blockquote><ul>
<li>O que √© <a href="https://docs.uniii.com.br/02-cloud-notes/01-aws/03-aws-cloud-architect-professional/02-conteudo.html#aws-cloudwatch" target="_blank" rel="noopener noreferrer">CloudWatch</a></li>
</ul></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="vis√£o-extra---desenvolvedor-6">Vis√£o extra - desenvolvedor<a href="#vis√£o-extra---desenvolvedor-6" class="hash-link" aria-label="Link direto para Vis√£o extra - desenvolvedor" title="Link direto para Vis√£o extra - desenvolvedor">‚Äã</a></h4>
<ul>
<li>m√©tricas<!-- -->
<ul>
<li>M√©tricas pertencem a um <strong>namespaces</strong> e cont√©m <strong>dimens√µes</strong> (atributos, exemplo: ambiente, id da inst√¢ncia ...).<!-- -->
<ul>
<li>Pode se ter at√© 30 dimens√µes diferente para cada m√©trica.</li>
</ul>
</li>
<li>Para criar uma m√©trica customizadas use a API <strong>PutMetricData</strong> passando os atribu√≠dos (dimens√µes).</li>
<li>Para configurar o tempo de resolu√ß√£o (per√≠odo de coleta) usa a API <strong>StorageResolution</strong> podendo ser:<!-- -->
<ul>
<li>Standard -&gt; 1 Minutos.</li>
<li>High Resolution -&gt; 1|5|10|30 segundos - tem um alto custo.</li>
</ul>
</li>
<li>Pode se enviar m√©tricas de at√© 2 semanas atr√°s ou 2 horas no futuro. Sem que haja rejei√ß√£o do cloudWatch.</li>
</ul>
</li>
<li>Logs<!-- -->
<ul>
<li>Tem o <strong>CloudWatch Logs Insights</strong> - que permite realizar queries nos logs.<!-- -->
<ul>
<li>Pode se realizar filtros baseados em condi√ß√µes, calcular e realizar agrega√ß√µes est√°ticas, ordenar por eventos, limitar n√∫meros de linhas retornadas.</li>
<li>Permite buscar em m√∫ltiplos logs grupos.</li>
</ul>
</li>
<li>Pode se criar <strong>m√©tricas</strong> customizadas em cima dos filtros do logs (Metric Filter).<!-- -->
<ul>
<li>Podem ser usadas para disparar alarmes.</li>
<li>S√≥ geram dados com logs gerados a partir da hora que foi configurada.<br>
<img decoding="async" loading="lazy" alt="image-20230812201334076" src="/assets/images/image-20230812201334076-56c7ad3446a4bbf0e3c8f364bffb9769.png" width="814" height="156" class="img_ev3q"></li>
</ul>
</li>
</ul>
</li>
<li>Alarmes<!-- -->
<ul>
<li>Permite criar alarmes compostos, que s√£o agrupamentos de mais de um alarmes usando as condi√ß√µes AND ou OR.</li>
<li>Pode se testar se um alarme esta funcionado usando CLI.</li>
</ul>
</li>
<li>EventBridge<!-- -->
<ul>
<li>Para da acesso aos event buses √© necess√°rio ter um police.<br>
<img decoding="async" loading="lazy" alt="image-20230812205210746" src="/assets/images/image-20230812205210746-4b8f4bb1bc4fe70713c29679145e230f.png" width="880" height="237" class="img_ev3q"></li>
<li>√â poss√≠vel definir uma estrutura para o evento (schema , tipo Avro), ou usar algum que j√° existe, com ele √© poss√≠vel definir o formato do evento que vai ser disparado por um SDK.</li>
<li>Fluxo<!-- -->
<ul>
<li>Se cria o event Bus que vai receber os eventos e vai encaminhar para um recurso ou um event Role.</li>
<li>Se cria um event role que vai configurar como vai funcionar a entrada de dados de um event bus.</li>
</ul>
</li>
</ul>
</li>
<li>Criptografia<!-- -->
<ul>
<li>Pode se criptografar os logs (log group) usando KMS, apenas via API usando:</li>
<li><strong>associate-kms-key</strong> - se o log group j√° existir.</li>
<li><strong>create-log-group</strong> - caso o log group n√£o exista.</li>
<li>Necessario adicionar <strong>IAM Police</strong> para que o <strong>Cloud Watch</strong> possa acessar o <strong>KMS</strong>.</li>
</ul>
</li>
</ul>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="aws-cli">AWS CLI<a href="#aws-cli" class="hash-link" aria-label="Link direto para AWS CLI" title="Link direto para AWS CLI">‚Äã</a></h3>
<div class="theme-admonition theme-admonition-tip admonition_xJq3 alert alert--success"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>dica</div><div class="admonitionContent_BuS1"><p>Pr√© requisitos:</p><ul>
<li>Instalar o <a href="https://docs.aws.amazon.com/cli/latest/userguide/getting-started-install.html" target="_blank" rel="noopener noreferrer">AWS CLI install</a>.</li>
<li>Criar um <strong>Access keys</strong> para o usu√°rio em IAM\Users\NOME_USER.<!-- -->
<ul>
<li>v√° at√© a aba security credentials e depois <strong>Access keys</strong>.</li>
</ul>
</li>
</ul></div></div>
<ul>
<li>Para configurar o <strong>awscli</strong> use o comando:</li>
</ul>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">aws configure</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># preencha os itens com os dados do access key.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># serve para configurar novos profiles (outra conta)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">aws configure --profile &lt;nome_novo_profile&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar c√≥digo para a √°rea de transfer√™ncia" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ul>
<li>Ap√≥s isso o <strong>awscli</strong> j√° estar√° configurado.</li>
</ul>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># use o comando para testa e listar o usu√°rios</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">aws iam list-user</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># use o comando para testa e listar o usu√°rios pra um profile e</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">aws iam list-user --profile &lt;nome_profile&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar c√≥digo para a √°rea de transfer√™ncia" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="mfa-com-cli">MFA com CLI<a href="#mfa-com-cli" class="hash-link" aria-label="Link direto para MFA com CLI" title="Link direto para MFA com CLI">‚Äã</a></h4>
<ul>
<li>Primeiro √© necess√°rio ter o um dispositivo configurado no usu√°rio que se deseja usar.</li>
<li>Para usar MFA √© necess√°rio criar uma sess√£o tempor√°ria, usando a API <strong>STS GetSessionToken</strong>.</li>
</ul>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">aws sts get-session-token --serial-number &lt;arn-do-dispositivo-mfa&gt; --token-code &lt;codigo-mfa&gt; --duration-seconds 3600</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar c√≥digo para a √°rea de transfer√™ncia" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ul>
<li>Isso vai retornar credenciais tempor√°rias.</li>
<li>Ap√≥s isso √© necess√°rio configurar um profile com esses dados.<!-- -->
<ul>
<li>Necess√°rio adicionar o token de sess√£o manualmente no arquivo de configura√ß√£o.</li>
<li>Recomendo criar um script que recebe o token e atualiza o profile.</li>
</ul>
</li>
</ul>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="aws-limits-quotas">AWS Limits (Quotas)<a href="#aws-limits-quotas" class="hash-link" aria-label="Link direto para AWS Limits (Quotas)" title="Link direto para AWS Limits (Quotas)">‚Äã</a></h3>
<ul>
<li><strong>API Rate Limits</strong>
<ul>
<li>Descreve quantas chamadas se pode fazer nas APIs.</li>
<li>exemplos:<!-- -->
<ul>
<li>a API describeInstances do ec2 √© de 100 chamadas por segundo.</li>
<li>a API getObjects do s3  √© de 5500 por segundo por prefix.</li>
</ul>
</li>
<li>Para erros intermitentes √© recomendado implementar o <strong>exponential backoff</strong>.</li>
<li>Para erros consistente (limite ultrapassado sempre) recomenda-se solicitar um aumento no limite no <strong>throttling</strong>.</li>
</ul>
</li>
<li><strong>Service Quotas</strong> - Limites de servi√ßos<!-- -->
<ul>
<li>Descreve os limites dos servi√ßos.</li>
<li>Pode se usar a API de contas para aumentar os limites ou abir um abir um ticket junto a AWS.</li>
</ul>
</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="exponential-backoff">Exponential Backoff<a href="#exponential-backoff" class="hash-link" aria-label="Link direto para Exponential Backoff" title="Link direto para Exponential Backoff">‚Äã</a></h4>
<ul>
<li>Aplica-se a todos o servi√ßos AWS.</li>
<li>Se estiver recebendo o erro <strong>ThrottlingException</strong> de forma intermitente.</li>
<li>√â um mecanismo de retry que j√° vem configurado nas chamadas de API via SDK.</li>
<li>Mas caso use CLI, deve implementar caso necess√°rio.</li>
<li>Quais tipo de erros deve se usar o retry? apenas com erros <strong>5xx</strong> e <strong>throttling</strong>.
<img decoding="async" loading="lazy" alt="image-20230725064736484" src="/assets/images/image-20230725064736484-13edbc66cd9ee2d0dc894529f9a377a5.png" width="679" height="220" class="img_ev3q"></li>
</ul>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="credentials-provider-chain">Credentials Provider chain<a href="#credentials-provider-chain" class="hash-link" aria-label="Link direto para Credentials Provider chain" title="Link direto para Credentials Provider chain">‚Äã</a></h3>
<p>Descreve a sequ√™ncia que se usa para recuperar os acessos ao recursos da AWS.</p>
<ul>
<li>CLI
<img decoding="async" loading="lazy" alt="image-20230725065043214" src="/assets/images/image-20230725065043214-6c4d9213302ccc63d4c8c70fb93eca1a.png" width="870" height="361" class="img_ev3q"></li>
<li>SDK
<img decoding="async" loading="lazy" alt="image-20230725065206292" src="/assets/images/image-20230725065206292-2e1e708f3f425664a114074c3f12dbe7.png" width="851" height="355" class="img_ev3q"></li>
</ul>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="aws-systems-manager">AWS Systems Manager<a href="#aws-systems-manager" class="hash-link" aria-label="Link direto para AWS Systems Manager" title="Link direto para AWS Systems Manager">‚Äã</a></h3>
<div class="theme-admonition theme-admonition-tip admonition_xJq3 alert alert--success"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>dica</div><div class="admonitionContent_BuS1"><blockquote>
<p>Contextualiza√ß√£o:</p>
</blockquote><ul>
<li>O que √© <a href="https://docs.uniii.com.br/02-cloud-notes/01-aws/03-aws-cloud-architect-professional/02-conteudo.html#aws-systems-manager" target="_blank" rel="noopener noreferrer">Systems Manager</a></li>
</ul></div></div>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="redes-e-entrega-de-conte√∫do">Redes e entrega de conte√∫do:<a href="#redes-e-entrega-de-conte√∫do" class="hash-link" aria-label="Link direto para Redes e entrega de conte√∫do:" title="Link direto para Redes e entrega de conte√∫do:">‚Äã</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="api-gateway">API Gateway<a href="#api-gateway" class="hash-link" aria-label="Link direto para API Gateway" title="Link direto para API Gateway">‚Äã</a></h3>
<div class="theme-admonition theme-admonition-tip admonition_xJq3 alert alert--success"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>dica</div><div class="admonitionContent_BuS1"><blockquote>
<p>Contextualiza√ß√£o:</p>
</blockquote><ul>
<li>O que √© <a href="https://docs.uniii.com.br/02-cloud-notes/01-aws/03-aws-cloud-architect-professional/02-conteudo.html#amazon-api-gateway" target="_blank" rel="noopener noreferrer">API Gateway</a></li>
</ul></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="vis√£o-extra---desenvolvedor-7">Vis√£o extra - desenvolvedor<a href="#vis√£o-extra---desenvolvedor-7" class="hash-link" aria-label="Link direto para Vis√£o extra - desenvolvedor" title="Link direto para Vis√£o extra - desenvolvedor">‚Äã</a></h4>
<ul>
<li>Permite importa e exporta APIs do  formato Swagger / Open API.</li>
<li>Se integra com:<!-- -->
<ul>
<li>Lambda, Http, AWS Service (para usar Authentication)</li>
</ul>
</li>
<li><strong>Stage Variables</strong>
<ul>
<li>Stage s√£o pode ser considerados ambientes de implanta√ß√£o.</li>
<li>Eles pode ter vari√°veis de ambiente que s√£o usada para configurar o redirecionamento do Gateway.</li>
<li>Al√©m de outras configura√ß√µes, como timeout, logs, hist√≥rico de deploy, entre outras.</li>
<li>Caso sejam lambda eles s√£o passados como &quot;context&quot;.</li>
<li>Para acessar usa-se <code>**${stageVariable.nomeVariavel}**</code>.</li>
<li><strong>Integration type</strong>
<ul>
<li><strong>Mock</strong> -&gt; retorna um valor mockado sempre, sem repassar para o backend.</li>
<li><strong>Http / AWS</strong> (Lambda e Service) -&gt; tem que configurar o request e o response.<!-- -->
<ul>
<li>Configura os dados enviado usando <strong>Mapeamento via templates</strong> para request e o response.<!-- -->
<ul>
<li>Isso permite modificar query parameters, body, e headers.</li>
<li>Usa Velocity Template Language (VTL)</li>
<li>Permite filtrar e modificar o response.</li>
<li>Permite converter json para XML (soap) ou vise e versa.</li>
</ul>
</li>
</ul>
</li>
<li><strong>AWS_PROXY</strong> -&gt; Lambda Proxy - os dados do request s√£o enviado ao Lambda e ela fica respons√°vel por tratar o request e o response.<!-- -->
<ul>
<li>N√£o h√° mapeamento do body, headers ....<br>
<img decoding="async" loading="lazy" alt="image-20230816210946923" src="/assets/images/image-20230816210946923-48037d985d502af7ad9367e875329526.png" width="818" height="254" class="img_ev3q"></li>
</ul>
</li>
<li><strong>HTTP_PROXY</strong> -&gt; N√£o h√° mapeamento, a requisi√ß√£o √© passada ao backend. O retorno s√≥ redirecionado.<!-- -->
<ul>
<li>Permite adicionar <strong>headers</strong> tando no request repassado ao backend.</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li><strong>Usage Plans e API Keys</strong>
<ul>
<li>H√° uma limita√ß√£o de 10000 RPS (request por segundo para toda as APIs da conta) - soft limit. Para evitar o consumo total recomenta o uso de Usage Plans.</li>
<li>Permite contabilizar o uso da API pelos clientes, podendo estabelecer cotas de uso (throttle limites).</li>
<li>Usa se o API Key para linkar a aplica√ß√£o chamadora com o plano de uso.</li>
<li>pode se aplicados a stage e m√©todos.</li>
<li>Como configurar<!-- -->
<ul>
<li>Cria se ou importa a API key das aplica√ß√µes consumidoras.</li>
<li>Cria se o Plano de uso con throttle e cotas de uso,</li>
<li>Associa a API Key ao Plano de uso.</li>
<li>O cliente deve passar o header <strong>x-api-key</strong> na requisi√ß√£o.</li>
</ul>
</li>
</ul>
</li>
<li><strong>M√©tricas coletadas</strong>
<ul>
<li><strong>cacheHitCount</strong> e <strong>CacheMissCount</strong> - dados de efici√™ncia do cache.</li>
<li><strong>Count</strong> - Total de requests.</li>
<li><strong>IntegrationLatency</strong> - Lat√™ncia da integra√ß√£o com o Backend.</li>
<li><strong>Latency</strong> - Tempo desde o recebimento da request at√© o retorno para o cliente (valida√ß√£o autoriza√ß√£o e cache e integra√ß√£o com o backend).</li>
<li><strong>4xxError</strong> - erro do lado do cliente.</li>
<li><strong>5xxErros</strong> - Erros do lado do servidor.</li>
</ul>
</li>
<li>Diferen√ßa entre HTTP APi e REST API
<img decoding="async" loading="lazy" alt="image-20230817063033512" src="/assets/images/image-20230817063033512-9c4e09bee4fbc7f3983ee89a5d32813b.png" width="838" height="351" class="img_ev3q"></li>
<li><strong>WebSocket</strong>
<ul>
<li>Para aplica√ß√µes bidirecionais com webSocket.</li>
<li>Usado pra chats, games ou aplica√ß√µes que precisa manter conex√£o abertas.</li>
<li>Armazena o ConnectionId no DynamoDB que ser√° usado para futuras intera√ß√µes<br>
<img decoding="async" loading="lazy" alt="image-20230817063740110" src="/assets/images/image-20230817063740110-a9a6f1e4e004ab5ad7be7b44d55a07fb.png" width="826" height="232" class="img_ev3q"></li>
<li>exemplo<br>
<img decoding="async" loading="lazy" alt="image-20230817063810397" src="/assets/images/image-20230817063810397-c6eb4bed584d92b25fbeb45016ad8c40.png" width="842" height="261" class="img_ev3q"></li>
<li>Como funciona o retorno da comunica√ß√£o.<!-- -->
<ul>
<li>Tem se um callback, onde pode ser enviadas mensagens de respostas.</li>
<li>Aceita as opera√ß√µes Get, Post, Delete.<br>
<img decoding="async" loading="lazy" alt="image-20230817063923162" src="/assets/images/image-20230817063923162-9c3b9619b2eb7e0a52a524df5d3f8537.png" width="837" height="379" class="img_ev3q"></li>
</ul>
</li>
<li>Roteamento das requisi√ß√µes<br>
<img decoding="async" loading="lazy" alt="image-20230817064204981" src="/assets/images/image-20230817064204981-a35ee2aa5c74ecbb27bdab69c38833fe.png" width="890" height="497" class="img_ev3q"></li>
</ul>
</li>
</ul>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="cloudfront">CloudFront<a href="#cloudfront" class="hash-link" aria-label="Link direto para CloudFront" title="Link direto para CloudFront">‚Äã</a></h3>
<div class="theme-admonition theme-admonition-tip admonition_xJq3 alert alert--success"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>dica</div><div class="admonitionContent_BuS1"><blockquote>
<p>Contextualiza√ß√£o:</p>
</blockquote><ul>
<li>O que √© <a href="https://docs.uniii.com.br/02-cloud-notes/01-aws/03-aws-cloud-architect-professional/02-conteudo.html#amazon-cloudfront" target="_blank" rel="noopener noreferrer">CloudFront</a></li>
</ul></div></div>
<p>Para que o CloudFront possa armazenar o cache ele gera a <strong>cache key</strong> que:</p>
<ul>
<li>Por default √© formada o hostname + path do recurso.</li>
<li>Mas √© poss√≠vel adicionar outros itens na forma√ß√£o dessa chave, sendo:<!-- -->
<ul>
<li><strong>HTTP Headers</strong> - nome, whitelist</li>
<li><strong>Cookies</strong> -   nome, whitelist, include all except , all</li>
<li><strong>Queries strings</strong> -   nome, whitelist, include all except , all</li>
</ul>
</li>
<li>Todos os itens adicionado a chave s√£o enviados automaticamente para a origem caso n√£o encontre no cache.</li>
<li>Mas √© poss√≠vel adicionar esses itens apenas na origem.<!-- -->
<ul>
<li>Cache policy vs Origin Request policy
<img decoding="async" loading="lazy" alt="image-20230731061417341" src="/assets/images/image-20230731061417341-dddadc3a15169202ce0ecbf54da02405.png" width="879" height="503" class="img_ev3q"></li>
</ul>
</li>
<li>Tem uma tela que permite invalidar o cache.
<strong>Classes de cobran√ßa</strong></li>
<li><strong>all - all regions</strong> - engloba todas as edge locations e tem melhor performance.</li>
<li><strong>200 - most regions</strong> - exclui as regi√µes mas caras.</li>
<li><strong>100</strong> - as regi√µes mais baratas.
<img decoding="async" loading="lazy" alt="image-20230731064707171" src="/assets/images/image-20230731064707171-eaca37049c4419ae5a1b1b99e36941fe.png" width="844" height="324" class="img_ev3q">
<strong>Logs em tempo real</strong>
<img decoding="async" loading="lazy" alt="image-20230731065011189" src="/assets/images/image-20230731065011189-a71d8c735bdabfc5c619e89a8898892a.png" width="881" height="500" class="img_ev3q"></li>
</ul>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="route-53">Route 53<a href="#route-53" class="hash-link" aria-label="Link direto para Route 53" title="Link direto para Route 53">‚Äã</a></h3>
<div class="theme-admonition theme-admonition-tip admonition_xJq3 alert alert--success"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>dica</div><div class="admonitionContent_BuS1"><blockquote>
<p>Contextualiza√ß√£o:</p>
</blockquote><ul>
<li>O que √© <a href="https://docs.uniii.com.br/02-cloud-notes/01-aws/03-aws-cloud-architect-professional/02-conteudo.html#amazon-route-53" target="_blank" rel="noopener noreferrer">Route 53</a></li>
</ul></div></div>
<ul>
<li>Terminologia</li>
</ul>
<p><img decoding="async" loading="lazy" alt="image-20230724061118595" src="/assets/images/image-20230724061118595-53a9ed6d4cd33693f685a6e1b6828ec5.png" width="826" height="475" class="img_ev3q"></p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="vpc">VPC<a href="#vpc" class="hash-link" aria-label="Link direto para VPC" title="Link direto para VPC">‚Äã</a></h3>
<div class="theme-admonition theme-admonition-tip admonition_xJq3 alert alert--success"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>dica</div><div class="admonitionContent_BuS1"><p>N√£o cai muitas coisas sobre isso na prova da certifica√ß√£o develop, mas √© importante conhecer os conceitos.</p><p><img decoding="async" loading="lazy" alt="image-20230724075905032" src="/assets/images/image-20230724075905032-e7b35ae5619abf7168271fb1d90e8528.png" width="789" height="374" class="img_ev3q"></p><blockquote>
<p>Leitura recomendada:</p>
</blockquote><ul>
<li><a href="https://docs.uniii.com.br/02-cloud-notes/01-aws/03-aws-cloud-architect-professional/02-conteudo.html#aws-vpc" target="_blank" rel="noopener noreferrer">VPC para arquitetos</a></li>
</ul></div></div>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="seguran√ßa-identidade-e-conformidade">Seguran√ßa, identidade e conformidade:<a href="#seguran√ßa-identidade-e-conformidade" class="hash-link" aria-label="Link direto para Seguran√ßa, identidade e conformidade:" title="Link direto para Seguran√ßa, identidade e conformidade:">‚Äã</a></h2>
<div class="theme-admonition theme-admonition-tip admonition_xJq3 alert alert--success"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>dica</div><div class="admonitionContent_BuS1"><blockquote>
<p>Leitura recomendada:</p>
</blockquote><ul>
<li>
<p><a href="https://docs.uniii.com.br/02-cloud-notes/01-aws/03-aws-cloud-architect-professional/02-conteudo.html#rds-security" target="_blank" rel="noopener noreferrer">RDS Security</a></p>
</li>
<li>
<p><a href="https://docs.uniii.com.br/02-cloud-notes/01-aws/03-aws-cloud-architect-professional/02-conteudo.html#ssl-encryptation-sni-e-mitm" target="_blank" rel="noopener noreferrer">SSL encryptation, SNI e MITM</a></p>
</li>
</ul></div></div>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="aws-certificate-manager">AWS Certificate Manager<a href="#aws-certificate-manager" class="hash-link" aria-label="Link direto para AWS Certificate Manager" title="Link direto para AWS Certificate Manager">‚Äã</a></h3>
<div class="theme-admonition theme-admonition-tip admonition_xJq3 alert alert--success"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>dica</div><div class="admonitionContent_BuS1"><blockquote>
<p>Contextualiza√ß√£o:</p>
</blockquote><ul>
<li>O que √© <a href="https://docs.uniii.com.br/02-cloud-notes/01-aws/03-aws-cloud-architect-professional/02-conteudo.html#aws-certificate-manager" target="_blank" rel="noopener noreferrer">AWS Certificate Manager</a></li>
</ul></div></div>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="amazon-cognito">Amazon Cognito<a href="#amazon-cognito" class="hash-link" aria-label="Link direto para Amazon Cognito" title="Link direto para Amazon Cognito">‚Äã</a></h3>
<div class="theme-admonition theme-admonition-tip admonition_xJq3 alert alert--success"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>dica</div><div class="admonitionContent_BuS1"><blockquote>
<p>Contextualiza√ß√£o:</p>
</blockquote><ul>
<li>leiaa sobre <a href="https://docs.uniii.com.br/02-cloud-notes/01-aws/03-aws-cloud-architect-professional/02-conteudo.html#identity-federation--congnito" target="_blank" rel="noopener noreferrer">Identity Federation &amp; Congnito</a></li>
</ul></div></div>
<ul>
<li>Permite que usu√°rios de fora da AWS possa ter acesso a recurso da AWS.</li>
<li>Ha dois produtos disponiveis:</li>
<li>Suporta muitos usu√°rios.</li>
<li><strong>Cognito user pools</strong> (CUP)<!-- -->
<ul>
<li>Solu√ß√£o AWS, banco de dados para cadastro de usu√°rio para mobile ou web app.</li>
<li>Ajuda apenas na autentica√ß√£o n√£o na autoriza√ß√£o.</li>
<li>Integrado com <strong>API Gateway</strong> e <strong>Load Balancer</strong>, para autentica√ß√£o.</li>
<li>Permite a cria√ß√£o de login simples (email ( ou user) e senha).</li>
<li>Fornece reset de senha e valida√ß√£o de email e telefone.</li>
<li>Fornece MFA.<!-- -->
<ul>
<li>Pode ser usado com autentica√ß√£o adaptativa, onde se caso se suspeite da tentativa (pela localiza√ß√£o, IP ou dispositivo) de login se solicita o MFA.</li>
</ul>
</li>
<li>Permite usar autentica√ß√£o externas (de terceiros , Google, Facebook).</li>
<li>Gerar JWT para logins.<br>
<img decoding="async" loading="lazy" alt="image-20230819113213870" src="/assets/images/image-20230819113213870-b9396bffbc601c0ca1dedf8f0cc419a6.png" width="885" height="472" class="img_ev3q"></li>
<li>Permite usar SES para enviar emails.</li>
<li>Tem um UI propria para cadastro e reset de senha.<!-- -->
<ul>
<li>√â possivel customiz√°-la.</li>
<li>E possivel fornece sua pr√≥pria interface de login.</li>
</ul>
</li>
<li>Pode se usar um dom√≠nio customizado para a API / URL de login.<!-- -->
<ul>
<li>Para isso √© necess√°rio criar um Certificado no ACM.</li>
</ul>
</li>
<li>Tem a op√ß√£o de realizar um callback em caso de login sucesso.
<img decoding="async" loading="lazy" alt="image-20230819111427615" src="/assets/images/image-20230819111427615-af8837f8e47312b023d01cae14299835.png" width="861" height="367" class="img_ev3q"></li>
<li>Tem a capacidade de triggar uma Lambda para realizar a√ß√µes como valida√ß√£o, migra√ß√£o ou autentica√ß√£o.
<img decoding="async" loading="lazy" alt="image-20230819112618602" src="/assets/images/image-20230819112618602-2d5d778d30fedd1f2f87e41cd9d0c9b5.png" width="846" height="377" class="img_ev3q"></li>
</ul>
</li>
<li><strong>Cognito identity pools</strong> (Identidade Federada)<!-- -->
<ul>
<li>Provem acesso tempor√°rio a recursos da AWS. Usa o STS para gerar credenciais temp√≥rarias.</li>
<li>Permite usar autentica√ß√£o externas (de terceiros , Google, Facebook).</li>
<li>Permite usar provider como OpenID e SAML.</li>
<li>Permite usu√°rios an√¥nimos (usu√°rios n√£o autenticados).</li>
<li>Usa IAM Police para configurar quais acesso o usu√°rio ter√°.
<img decoding="async" loading="lazy" alt="image-20230819114641872" src="/assets/images/image-20230819114641872-705fa4023f099d14e970c20b57295e7b.png" width="844" height="376" class="img_ev3q"></li>
<li>Diferen√ßa entre ele o o <strong>Cognito Users Pools</strong>.<!-- -->
<ul>
<li>No <strong>CUP</strong> todos os usu√°rios ficam armazenados no banco interno.</li>
<li>O <strong>CUP</strong> se integra o outro providers via federa√ß√£o, ou seja, serve apenas para recuperar os dados para salvar na base de dados.
<img decoding="async" loading="lazy" alt="image-20230819114818298" src="/assets/images/image-20230819114818298-6aab0a7b47022d3979d3982dac3cce4a.png" width="860" height="423" class="img_ev3q">
<img decoding="async" loading="lazy" alt="image-20230819115605419" src="/assets/images/image-20230819115605419-f5e604c985153c6e03b9dcd4663b6ed5.png" width="848" height="439" class="img_ev3q"></li>
</ul>
</li>
</ul>
</li>
</ul>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="iam">IAM<a href="#iam" class="hash-link" aria-label="Link direto para IAM" title="Link direto para IAM">‚Äã</a></h3>
<ul>
<li>Escopo global, controle de acessos.</li>
<li>Tem como base o m√≠nimo privilegio poss√≠vel.</li>
<li>Cria√ß√£o de usu√°rio e grupos de usu√°rios, grupos n√£o podem conter outros grupos.</li>
<li>Se atribui pol√≠ticas de acesso (IAM Police) ao grupo, que v√£o dar acesso a todos os usu√°rio daquele grupo.</li>
<li>Pol√≠ticas de acesso (permiss√µes).
<img decoding="async" loading="lazy" alt="image-20230704063959224" src="/assets/images/image-20230704063959224-35540c1b35e00b9bd9bde6fe92f92abb.png" width="900" height="448" class="img_ev3q">
<ul>
<li>Escrita em json.</li>
<li>Seguir regra de menor privil√©gio.</li>
<li>A valida√ß√£o de acesso e feito a cada acesso, de forma autom√°tica.</li>
<li>Podem ser do tipo:<!-- -->
<ul>
<li><strong>identity-based</strong> - Pol√≠tica que s√£o destinados a usu√°rio / grupos e rules</li>
<li><strong>resource-based</strong> - Pol√≠ticas que s√£o atribu√≠das a recursos, para da acesso a outro recursos.</li>
</ul>
</li>
</ul>
</li>
<li>Access keys - usadas para dar acesso ao AWS CLI e ao AWS SDK.<!-- -->
<ul>
<li>√â poss√≠vel usar um servi√ßo de shell na nuvem (<strong>cloud shell</strong>) que gera um CLI sem a necessidade de configurar access key.</li>
</ul>
</li>
<li>Roles (fun√ß√µes)<!-- -->
<ul>
<li>Usadas para dar acessos de recursos a recurso (acesso ao S3 por um EC2)</li>
<li>Cria√ß√£o de roles de d√£o acesso a recurso sem ser necess√°rio atribuir ao um usu√°rio ou grupo</li>
<li>Podem ser assumidas por recursos ou usu√°rios federados ou usu√°rio de outras contas AWS.</li>
</ul>
</li>
<li>Dentro do <strong>IAM</strong> temos:<!-- -->
<ul>
<li><strong>iam user</strong> - Usu√°rio comum.</li>
<li><strong>federated user</strong> - usu√°rio de fora da organiza√ß√£o, usu√°rio do <strong>Facebook</strong> por exemplo.</li>
<li><strong>iam role</strong> - permiss√µes que s√£o dadas a recurso, tipo EC2 para acessa um S3.</li>
<li><strong>identity provider (idp)</strong> - Permite customizado acesso provider de terceiros e liberara acesso via token de acesso do STS.</li>
</ul>
</li>
<li><strong>IAM Conditions</strong>
<ul>
<li>Permite adicionar condi√ß√µes nas pol√≠ticas de acessos AWS.
<a href="https://docs.uniii.com.br/02-cloud-notes/01-aws/01-aws-cloud-architect-associate.html#image-167ee62909f74073da7853a674734374" target="_blank" rel="noopener noreferrer"><img decoding="async" loading="lazy" src="https://docs.uniii.com.br/02-cloud-notes/01-aws/01-aws-cloud-architect-associate/assets/image-20210907124841446.png" alt="conditions" class="img_ev3q"></a></li>
</ul>
</li>
<li><strong>IAM Permission Boundaries</strong> (limite de permiss√µes)<!-- -->
<ul>
<li>Quando se criar usu√°rio ou <strong>Roles</strong> e poss√≠vel dar <strong>permiss√£o gen√©ricas,</strong> tipo de administrador , e setar um <strong>limite</strong> para essas permiss√µes, exemplo o cara √© administrado apenas nos recursos do S3.</li>
<li>SCP (Service control policies ).
<a href="https://docs.uniii.com.br/02-cloud-notes/01-aws/01-aws-cloud-architect-associate.html#image-de03a6f085724008f9923afa31e24703" target="_blank" rel="noopener noreferrer"><img decoding="async" loading="lazy" src="https://docs.uniii.com.br/02-cloud-notes/01-aws/01-aws-cloud-architect-associate/assets/image-20210907130021397.png" alt="limite" class="img_ev3q"></a></li>
</ul>
</li>
<li><strong>L√≥gica da avalia√ß√£o de pol√≠tica</strong>
<a href="https://docs.uniii.com.br/02-cloud-notes/01-aws/01-aws-cloud-architect-associate.html#image-bb88ec8672b017a01d1b1d9da984a184" target="_blank" rel="noopener noreferrer"><img decoding="async" loading="lazy" src="https://docs.uniii.com.br/02-cloud-notes/01-aws/01-aws-cloud-architect-associate/assets/PolicyEvaluationHorizontal.png" alt="L√≥gica da avalia√ß√£o de pol√≠tica - AWS Identity and Access Management" class="img_ev3q"></a></li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="mfa-multi-factory-atutenticator">MFA (multi factory atutenticator)<a href="#mfa-multi-factory-atutenticator" class="hash-link" aria-label="Link direto para MFA (multi factory atutenticator)" title="Link direto para MFA (multi factory atutenticator)">‚Äã</a></h4>
<ul>
<li>combina√ß√£o de uma senha que voc√™ conhece com um dispositivo que √© seu</li>
</ul>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">- H√° dois via sofware (dispositivo MFA virtual, Chave de cheguran√ßa U2F (ex: YUbiKey))</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">- H√° uma op√ß√£o de Hardware (ex: token Gemalto)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar c√≥digo para a √°rea de transfer√™ncia" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="iam-security-tools">IAM Security Tools<a href="#iam-security-tools" class="hash-link" aria-label="Link direto para IAM Security Tools" title="Link direto para IAM Security Tools">‚Äã</a></h4>
<ul>
<li><strong>IAM Credencial Report (Account level)</strong> -&gt; Lista todas as contas de usu√°rio e o status de cada uma.</li>
<li><strong>IAM Access Advisor</strong> -&gt; Mostras os servi√ßos que o usu√°rio tem acesso e a ultima vez que o mesmo acessou.</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="responsabilidade-compartilhada">Responsabilidade compartilhada<a href="#responsabilidade-compartilhada" class="hash-link" aria-label="Link direto para Responsabilidade compartilhada" title="Link direto para Responsabilidade compartilhada">‚Äã</a></h4>
<blockquote>
<p>a seguran√ßa na cloud √© compartilhada e a AWS e n√≥s temos responsabilidades para garantir a conformidade e seguran√ßa
<img decoding="async" loading="lazy" alt="image-20230705054643236" src="/assets/images/image-20230705054643236-056116b0c4f806d629b24e8258018e26.png" width="797" height="406" class="img_ev3q"></p>
</blockquote>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="kms">KMS<a href="#kms" class="hash-link" aria-label="Link direto para KMS" title="Link direto para KMS">‚Äã</a></h3>
<div class="theme-admonition theme-admonition-tip admonition_xJq3 alert alert--success"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>dica</div><div class="admonitionContent_BuS1"><blockquote>
<p>Contextualiza√ß√£o:</p>
</blockquote><ul>
<li>O que √© <a href="https://docs.uniii.com.br/02-cloud-notes/01-aws/03-aws-cloud-architect-professional/02-conteudo.html#aws-kms" target="_blank" rel="noopener noreferrer">KMS</a></li>
</ul></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="vis√£o-extra---desenvolvedor-8">Vis√£o extra - desenvolvedor<a href="#vis√£o-extra---desenvolvedor-8" class="hash-link" aria-label="Link direto para Vis√£o extra - desenvolvedor" title="Link direto para Vis√£o extra - desenvolvedor">‚Äã</a></h4>
<ul>
<li>Todas as chamadas s√£o logadas no CloudTrail.</li>
<li>Copiando snapshot criptografado entre regi√µes.
<img decoding="async" loading="lazy" alt="image-20230820083428692" src="/assets/images/image-20230820083428692-6b079ad448e2099a475304340e78c740.png" width="843" height="367" class="img_ev3q"></li>
<li>Tem uma IAM police semelhante ao S3. A unica diferen√ßa √© que se pode tem uma condi√ß√£o IAM, onde se informa qual conta vai chamar e via qual servi√ßo.</li>
<li>Como funciona:
<img decoding="async" loading="lazy" alt="image-20230820085154740" src="/assets/images/image-20230820085154740-5271b24371b5a0e3456bdd3e5d09a3e4.png" width="866" height="408" class="img_ev3q"></li>
<li>Isso para dados com tamanho at√© 4KB. Para maiores deve se usa o <strong>Envelope Encrytion</strong> que seria a API <strong>GenarateDataKey</strong>.<!-- -->
<ul>
<li>Nesse a computa√ß√£o para criptografar e descritografar √© feita do lado do cliente.</li>
<li>Para criptografar:<br>
<img decoding="async" loading="lazy" alt="image-20230820085535921" src="/assets/images/image-20230820085535921-be7586b1c73ad74476997f6ce36001eb.png" width="895" height="458" class="img_ev3q"></li>
<li>Para Descriptografar<br>
<img decoding="async" loading="lazy" alt="image-20230820085703643" src="/assets/images/image-20230820085703643-ea8ac0f3cb1742ac2e72adb1c3d0940a.png" width="898" height="470" class="img_ev3q"></li>
<li>Por se complexo, geralmente usa-se o SDK para realizar essas opera√ß√µes.<!-- -->
<ul>
<li>Este tem uma funcionalidade de cache do Data Key. Usado para diminuir a quantidade de chamada aos KMS.</li>
</ul>
</li>
</ul>
</li>
<li>APIs do KMS<!-- -->
<ul>
<li><strong>Encrypt</strong> -&gt; usada para criptografar objetos de at√© 4KB direto no KMS.</li>
<li><strong>GenerateDataKey</strong> -&gt; Usada para gerar uma <strong>Data Key Sim√©trica</strong> unica (DEK), que vai ser usada pra criptografar objetos maiores que 4kb.<!-- -->
<ul>
<li>Retorna a <strong>Data Key Sim√©trica</strong> e texto</li>
<li><strong>E</strong> ele criptografado com a chave que foi chamada na API.</li>
</ul>
</li>
</ul>
</li>
<li><strong>GenerateDataKeyWithoutPlaintext</strong> -&gt; Semelhante a anterior, a unica diferen√ßa e que n√£o retorna a <strong>Data Key Sim√©trica</strong> e texto, sendo necess√°rio descriptografar depois<!-- -->
<ul>
<li>√â mais demorado, pois precisa fazer duas opera√ß√µes.</li>
</ul>
</li>
<li><strong>Decypt</strong> -&gt; usada para descriptografar objetos de at√© 4KB direto no KMS (usado para descriptografar a <strong>Data Key Sim√©trica</strong> caso use a API <strong>GenerateDataKeyWithoutPlaintext</strong> ).</li>
<li><strong>GenerateRandom</strong> -&gt; gerar uma Byte String rand√¥mica.</li>
<li>Limites do KMS<br>
<img decoding="async" loading="lazy" alt="image-20230820091745673" src="/assets/images/image-20230820091745673-8bd7b5c3bd76cd18529c50ea12b38662.png" width="846" height="430" class="img_ev3q">
<ul>
<li>Cotas<!-- -->
<ul>
<li>√â um soft limit, pode se aumentar atrav√©s da API e aumento de contas ou atrav√©s do AWS Support.</li>
<li>Para chamadas de criptografia, √© compartilhado a mesma cota.<!-- -->
<ul>
<li>Para resolver isso use a API <strong>GenerateDataKey</strong> via SDK, pois ela cachea o DEK por um tempo.</li>
</ul>
</li>
<li>Caso exceda as cotas vai tomar um erro do tipo <strong>ThrottlingException</strong>.<!-- -->
<ul>
<li>Use <strong>Exponetional Backoff</strong> para resolver o problema.</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li>S3 Bucket Key<!-- -->
<ul>
<li>Usado para reduzir a chamada ao KMS. Quando n√£o se usa uma chame que n√£o √© proprietaria da AWS.
<img decoding="async" loading="lazy" alt="image-20230820093145303" src="/assets/images/image-20230820093145303-f03f089983472bc059a471a0c18267ff.png" width="870" height="456" class="img_ev3q"></li>
</ul>
</li>
</ul>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="aws-sts">AWS STS<a href="#aws-sts" class="hash-link" aria-label="Link direto para AWS STS" title="Link direto para AWS STS">‚Äã</a></h3>
<div class="theme-admonition theme-admonition-tip admonition_xJq3 alert alert--success"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>dica</div><div class="admonitionContent_BuS1"><blockquote>
<p>Contextualiza√ß√£o:</p>
</blockquote><ul>
<li>O que √© <a href="https://docs.uniii.com.br/02-cloud-notes/01-aws/03-aws-cloud-architect-professional/02-conteudo.html#sts" target="_blank" rel="noopener noreferrer">STS</a></li>
</ul></div></div>
<ul>
<li>
<p>Permite acesso tempor√°rio aos recursos de 15 minutos a at√© 1 hora.</p>
</li>
<li>
<p>Para adicionar MFA precisa adicionar a <strong>IAM police</strong> uma <strong>IAM condition</strong> chamada aws:MultiFactorAuthPresent<!-- -->:true</p>
<ul>
<li>A API <strong>GetSessionToken</strong> vai retorna o Access ID, Secret Key e o Session Token.</li>
</ul>
</li>
</ul>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="aws-ssm-parameter-store">AWS SSM Parameter Store<a href="#aws-ssm-parameter-store" class="hash-link" aria-label="Link direto para AWS SSM Parameter Store" title="Link direto para AWS SSM Parameter Store">‚Äã</a></h3>
<div class="theme-admonition theme-admonition-tip admonition_xJq3 alert alert--success"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>dica</div><div class="admonitionContent_BuS1"><blockquote>
<p>Contextualiza√ß√£o:</p>
</blockquote><ul>
<li>O que √© <a href="https://docs.uniii.com.br/02-cloud-notes/01-aws/03-aws-cloud-architect-professional/02-conteudo.html#aws-ssm-parameter-store" target="_blank" rel="noopener noreferrer">AWS SSM Parameter Store</a></li>
</ul></div></div>
<ul>
<li>Apis<!-- -->
<ul>
<li><strong>GetParameters</strong> - Retorna os parametros de acordo o o nome passado na flag --names (pode ser mais de um).<!-- -->
<ul>
<li>Pode se usar a flag <strong>--with-decription</strong> para retonar o valor parametros com valor descriptografado.</li>
</ul>
</li>
<li><strong>GetParametersByPath</strong> - Retorna os todos os parametros contidos no path passado na flag --path.<!-- -->
<ul>
<li>Pode se usar a flag <strong>--with-decription</strong> para retonar o valor parametros com valor descriptografado.</li>
<li>Pode se usar o flag <strong>--recursive</strong> para retonar recursivamente os parametro dentro do path.</li>
</ul>
</li>
</ul>
</li>
<li>Caso use a flag <strong>--with-decription</strong> √© necesssario ter a permiss√£o do KMS de <strong>Decypt</strong> do KMS.</li>
</ul>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="aws-secrets-manager">AWS Secrets Manager<a href="#aws-secrets-manager" class="hash-link" aria-label="Link direto para AWS Secrets Manager" title="Link direto para AWS Secrets Manager">‚Äã</a></h3>
<div class="theme-admonition theme-admonition-tip admonition_xJq3 alert alert--success"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>dica</div><div class="admonitionContent_BuS1"><blockquote>
<p>Contextualiza√ß√£o:</p>
</blockquote><ul>
<li>O que √© <a href="https://docs.uniii.com.br/02-cloud-notes/01-aws/03-aws-cloud-architect-professional/02-conteudo.html#aws-secrets-manager" target="_blank" rel="noopener noreferrer">Secrets Manager</a></li>
</ul></div></div>
<ul>
<li>Quando criar banco de dados RDS e Aurora via CloudFormation pode se usar a op√ß√£o <strong>ManageMasterUserPasseorg</strong> que vai criar os segregos do banco automaticamente com at√© esquema de rota√ß√£o.</li>
</ul>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="aws-nitro-enclaves">AWS Nitro Enclaves<a href="#aws-nitro-enclaves" class="hash-link" aria-label="Link direto para AWS Nitro Enclaves" title="Link direto para AWS Nitro Enclaves">‚Äã</a></h3>
<p><img decoding="async" loading="lazy" alt="image-20230820101445359" src="/assets/images/image-20230820101445359-a195bcc5b9f800dbd2565783d287e268.png" width="859" height="429" class="img_ev3q"></p>
<p><img decoding="async" loading="lazy" alt="image-20230820101512328" src="/assets/images/image-20230820101512328-d99f3566086670e99c6d4ec33294e0e8.png" width="837" height="454" class="img_ev3q"></p>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="armazenamento">Armazenamento:<a href="#armazenamento" class="hash-link" aria-label="Link direto para Armazenamento:" title="Link direto para Armazenamento:">‚Äã</a></h2>
<div class="theme-admonition theme-admonition-tip admonition_xJq3 alert alert--success"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>dica</div><div class="admonitionContent_BuS1"><blockquote>
<p>Contextualiza√ß√£o:</p>
</blockquote><ul>
<li>Armazenamento <a href="https://docs.uniii.com.br/02-cloud-notes/01-aws/03-aws-cloud-architect-professional/02-conteudo.html#storage" target="_blank" rel="noopener noreferrer">guia completo AWS</a></li>
</ul><p>Veja direto o que √©:</p><ul>
<li><a href="https://docs.uniii.com.br/02-cloud-notes/01-aws/03-aws-cloud-architect-professional/02-conteudo.html#ebs---elastic-block-storage" target="_blank" rel="noopener noreferrer">EBS</a></li>
<li><a href="https://docs.uniii.com.br/02-cloud-notes/01-aws/03-aws-cloud-architect-professional/02-conteudo.html#instance-store" target="_blank" rel="noopener noreferrer">Instance store</a></li>
<li><a href="https://docs.uniii.com.br/02-cloud-notes/01-aws/03-aws-cloud-architect-professional/02-conteudo.html#efs---elastic-file-system" target="_blank" rel="noopener noreferrer">EFS</a></li>
</ul></div></div>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="s3">S3<a href="#s3" class="hash-link" aria-label="Link direto para S3" title="Link direto para S3">‚Äã</a></h3>
<div class="theme-admonition theme-admonition-tip admonition_xJq3 alert alert--success"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>dica</div><div class="admonitionContent_BuS1"><blockquote>
<p>Contextualiza√ß√£o:</p>
</blockquote><ul>
<li><a href="https://docs.uniii.com.br/02-cloud-notes/01-aws/03-aws-cloud-architect-professional/02-conteudo.html#amazon-s3" target="_blank" rel="noopener noreferrer">S3</a></li>
</ul><p>Uma quest√£o comum quanto ao S3 √© como melhorar o tempo de busca de arquivos, a arquitetura que melhora resolve esse problema seria criar um index no DynamoDB com os metadados e tags do arquivos e realizar as busca no DynamoDB e apenas recuperar os arquivos no S3.</p></div></div>
<p>S3 - Encryption para prova</p>
<ul>
<li><strong>SSE-S3</strong> - Criptografa os objetos do S3 usando chave gerenciada pela AWS (AES-256).<!-- -->
<ul>
<li>Usa o header &quot;<strong>X-amz-server-side-encryption</strong>&quot;: &quot;<strong>AES256</strong>&quot;.</li>
</ul>
</li>
<li>SSE-KMS - Criptografa os objetos do S3 usando chaves criadas no KMS.<!-- -->
<ul>
<li>As chamadas de uso do KMS √© logado no cloudtrail.</li>
<li>Usa o header &quot;<strong>X-amz-server-side-encryption</strong>&quot;: &quot;<strong>aws<!-- -->:kms</strong>&quot;.</li>
<li>Usa a api <strong>GenerateDataKey</strong> para criptografar.</li>
<li>Tem limita√ß√£o (quotas), pode n√£o ser uma boa ideia usar se tiver muitas requisi√ß√µes, pois a cada chamada ser√° consumido parte da cota, aumentando assim o custo, sendo melhor usar a <strong>SSE-S3</strong></li>
<li><strong>Caso esteja usando essa criptografia, se o bucket for publico, o usu√°rio n√£o vai conseguir ver os objetos</strong>, pois ele n√£o vai ter acesso a chave.</li>
<li>Para conseguir realizar uploads no bucket, precisa ter acesso a permiss√£o (<strong>kms<!-- -->:GenerateDataKey</strong>) caso contrario n√£o vai conseguir.</li>
</ul>
</li>
<li>SSE-C - Criptografa os objetos do S3 usando a chave gerenciada pelo usu√°rio, quando se usa por exemplo o Cloud HSM.</li>
<li>Criptografia Client-Side - Quando o usu√°rio criptografa os dados antes de enviar ao S3.</li>
<li>√â poss√≠vel criar uma bucket police para for√ßar o uso do SSL nas requisi√ß√µes com a condi√ß√£o <strong>aws<!-- -->:secureTransport</strong>.</li>
<li>tamb√©m √© poss√≠vel criar polices para bloquear uploads de arquivos que n√£o tenha um tipo de criptografia, usando uma police que bloqueia com as condi√ß√µes <strong>s3<!-- -->:x-amz-server-side-encryption</strong> ou <strong>s3<!-- -->:x-amz-server-side-encryption-customer-algorithm</strong>.</li>
</ul>
<p><img decoding="async" loading="lazy" alt="image-20230728061932567" src="/assets/images/image-20230728061932567-cfbc741eb5c90196ea53989851ef0925.png" width="837" height="262" class="img_ev3q"></p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="outros-servi√ßos">Outros servi√ßos<a href="#outros-servi√ßos" class="hash-link" aria-label="Link direto para Outros servi√ßos" title="Link direto para Outros servi√ßos">‚Äã</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="macie">Macie<a href="#macie" class="hash-link" aria-label="Link direto para Macie" title="Link direto para Macie">‚Äã</a></h3>
<div class="theme-admonition theme-admonition-tip admonition_xJq3 alert alert--success"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>dica</div><div class="admonitionContent_BuS1"><blockquote>
<p>Contextualiza√ß√£o:</p>
</blockquote><ul>
<li>O que √© <a href="https://docs.uniii.com.br/02-cloud-notes/01-aws/03-aws-cloud-architect-professional/02-conteudo.html#macie" target="_blank" rel="noopener noreferrer">Macie</a></li>
</ul></div></div>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="ses">SES<a href="#ses" class="hash-link" aria-label="Link direto para SES" title="Link direto para SES">‚Äã</a></h3>
<div class="theme-admonition theme-admonition-tip admonition_xJq3 alert alert--success"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>dica</div><div class="admonitionContent_BuS1"><blockquote>
<p>Contextualiza√ß√£o:</p>
</blockquote><ul>
<li>O que √© <a href="https://docs.uniii.com.br/02-cloud-notes/01-aws/03-aws-cloud-architect-professional/02-conteudo.html#ses" target="_blank" rel="noopener noreferrer">SES</a></li>
</ul></div></div>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="app-config">App Config<a href="#app-config" class="hash-link" aria-label="Link direto para App Config" title="Link direto para App Config">‚Äã</a></h3>
<ul>
<li>Permite configurar, validar e deployar configura√ß√µes dinamicas.</li>
<li>A ideia e tera as configura√ß√£o da aplica√ß√£o fora do codigo, evitando que se precise muda-la, ou reemplanta-la.</li>
<li>Usado para feature flags, application tuning, lista de bloqueio ...</li>
<li>Usado com aplica√ß√£o que rodam no EC2, Lambda, EKS, ECS.</li>
<li>As configura√ß√£oes podem ser armazenadas no S3, SSM documentos, ou paramter store.</li>
<li>Usa Json Schema ou Lambda para as valida√ß√µes</li>
</ul>
<p><img decoding="async" loading="lazy" alt="image-20230820105147366" src="/assets/images/image-20230820105147366-b8c7dadfdef73adec0ba0aae517e6d35.png" width="284" height="412" class="img_ev3q"></p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col"><a href="https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/cloud-notes/01-aws/02-aws-cloud-develop-associate/00_certificacao.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Editar essa p√°gina</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="P√°ginas de documenta√ß√£o"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/cloud-notes"><div class="pagination-nav__sublabel">Anterior</div><div class="pagination-nav__label">‚òÅÔ∏è Cloud Notes</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/cloud-notes/aws/aws-cloud-develop-associate/analise"><div class="pagination-nav__sublabel">Pr√≥xima</div><div class="pagination-nav__label">Analise de dados</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#integra√ß√£o-de-aplicativos" class="table-of-contents__link toc-highlight">Integra√ß√£o de aplicativos:</a><ul><li><a href="#aws-amplify" class="table-of-contents__link toc-highlight">AWS Amplify</a></li><li><a href="#aws-appsync" class="table-of-contents__link toc-highlight">AWS AppSync</a></li><li><a href="#amazon-sqs" class="table-of-contents__link toc-highlight">Amazon SQS</a></li><li><a href="#sns" class="table-of-contents__link toc-highlight">SNS</a></li><li><a href="#kinesis" class="table-of-contents__link toc-highlight">Kinesis</a></li><li><a href="#aws-msk" class="table-of-contents__link toc-highlight">AWS MSK</a></li><li><a href="#aws-step-functions" class="table-of-contents__link toc-highlight">AWS Step Functions</a></li></ul></li><li><a href="#computa√ß√£o" class="table-of-contents__link toc-highlight">Computa√ß√£o:</a><ul><li><a href="#aws-budget" class="table-of-contents__link toc-highlight">AWS Budget</a></li><li><a href="#ec2" class="table-of-contents__link toc-highlight">EC2</a></li><li><a href="#beanstalk" class="table-of-contents__link toc-highlight">Beanstalk</a></li><li><a href="#lambda" class="table-of-contents__link toc-highlight">Lambda</a></li><li><a href="#aws-serverless-application-model-sam" class="table-of-contents__link toc-highlight">AWS Serverless Application Model (SAM)</a></li></ul></li><li><a href="#cont√™ineres" class="table-of-contents__link toc-highlight">Cont√™ineres:</a><ul><li><a href="#aws-copilot" class="table-of-contents__link toc-highlight">AWS CoPilot</a></li><li><a href="#amazon-ecs" class="table-of-contents__link toc-highlight">Amazon ECS</a></li><li><a href="#ecs-service-auto-scaling-tasks-scaling" class="table-of-contents__link toc-highlight">ECS Service Auto Scaling (tasks scaling)</a></li><li><a href="#amazon-eks" class="table-of-contents__link toc-highlight">Amazon EKS</a></li><li><a href="#amazon-ecr" class="table-of-contents__link toc-highlight">Amazon ECR</a></li></ul></li><li><a href="#banco-de-dados" class="table-of-contents__link toc-highlight">Banco de dados:</a><ul><li><a href="#rds" class="table-of-contents__link toc-highlight">RDS</a></li><li><a href="#aurora" class="table-of-contents__link toc-highlight">Aurora</a></li><li><a href="#dynamodb" class="table-of-contents__link toc-highlight">DynamoDB</a></li><li><a href="#elasticache" class="table-of-contents__link toc-highlight">ElastiCache</a></li><li><a href="#memorydb" class="table-of-contents__link toc-highlight">MemoryDB</a></li></ul></li><li><a href="#ferramentas-do-desenvolvedor" class="table-of-contents__link toc-highlight">Ferramentas do desenvolvedor:</a><ul><li><a href="#aws-codeartifact" class="table-of-contents__link toc-highlight">AWS CodeArtifact</a></li><li><a href="#aws-codecommit" class="table-of-contents__link toc-highlight">AWS CodeCommit</a></li><li><a href="#aws-codebuild" class="table-of-contents__link toc-highlight">AWS CodeBuild</a></li><li><a href="#aws-codedeploy" class="table-of-contents__link toc-highlight">AWS CodeDeploy</a></li><li><a href="#aws-codepipeline" class="table-of-contents__link toc-highlight">AWS CodePipeline</a></li><li><a href="#amazon-codeguru" class="table-of-contents__link toc-highlight">Amazon CodeGuru</a></li><li><a href="#aws-codestar" class="table-of-contents__link toc-highlight">AWS CodeStar</a></li><li><a href="#x-ray" class="table-of-contents__link toc-highlight">X-Ray</a></li></ul></li><li><a href="#gerenciamento-e-governan√ßa" class="table-of-contents__link toc-highlight">Gerenciamento e governan√ßa:</a><ul><li><a href="#cloudformation" class="table-of-contents__link toc-highlight">CloudFormation</a></li><li><a href="#aws-cloudtrail" class="table-of-contents__link toc-highlight">AWS CloudTrail</a></li><li><a href="#sdk" class="table-of-contents__link toc-highlight">SDK</a></li><li><a href="#aws-cdk" class="table-of-contents__link toc-highlight">AWS CDK</a></li><li><a href="#amazon-cloudwatch" class="table-of-contents__link toc-highlight">Amazon CloudWatch</a></li><li><a href="#aws-cli" class="table-of-contents__link toc-highlight">AWS CLI</a></li><li><a href="#aws-limits-quotas" class="table-of-contents__link toc-highlight">AWS Limits (Quotas)</a></li><li><a href="#credentials-provider-chain" class="table-of-contents__link toc-highlight">Credentials Provider chain</a></li><li><a href="#aws-systems-manager" class="table-of-contents__link toc-highlight">AWS Systems Manager</a></li></ul></li><li><a href="#redes-e-entrega-de-conte√∫do" class="table-of-contents__link toc-highlight">Redes e entrega de conte√∫do:</a><ul><li><a href="#api-gateway" class="table-of-contents__link toc-highlight">API Gateway</a></li><li><a href="#cloudfront" class="table-of-contents__link toc-highlight">CloudFront</a></li><li><a href="#route-53" class="table-of-contents__link toc-highlight">Route 53</a></li><li><a href="#vpc" class="table-of-contents__link toc-highlight">VPC</a></li></ul></li><li><a href="#seguran√ßa-identidade-e-conformidade" class="table-of-contents__link toc-highlight">Seguran√ßa, identidade e conformidade:</a><ul><li><a href="#aws-certificate-manager" class="table-of-contents__link toc-highlight">AWS Certificate Manager</a></li><li><a href="#amazon-cognito" class="table-of-contents__link toc-highlight">Amazon Cognito</a></li><li><a href="#iam" class="table-of-contents__link toc-highlight">IAM</a></li><li><a href="#kms" class="table-of-contents__link toc-highlight">KMS</a></li><li><a href="#aws-sts" class="table-of-contents__link toc-highlight">AWS STS</a></li><li><a href="#aws-ssm-parameter-store" class="table-of-contents__link toc-highlight">AWS SSM Parameter Store</a></li><li><a href="#aws-secrets-manager" class="table-of-contents__link toc-highlight">AWS Secrets Manager</a></li><li><a href="#aws-nitro-enclaves" class="table-of-contents__link toc-highlight">AWS Nitro Enclaves</a></li></ul></li><li><a href="#armazenamento" class="table-of-contents__link toc-highlight">Armazenamento:</a><ul><li><a href="#s3" class="table-of-contents__link toc-highlight">S3</a></li></ul></li><li><a href="#outros-servi√ßos" class="table-of-contents__link toc-highlight">Outros servi√ßos</a><ul><li><a href="#macie" class="table-of-contents__link toc-highlight">Macie</a></li><li><a href="#ses" class="table-of-contents__link toc-highlight">SES</a></li><li><a href="#app-config" class="table-of-contents__link toc-highlight">App Config</a></li></ul></li></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="footer__bottom text--center"><div class="footer__copyright">Copyright ¬© 2026 Uniii .</div></div></div></footer></div>
</body>
</html>